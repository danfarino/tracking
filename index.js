"use strict";(()=>{var Sl=Object.defineProperty;var Ol=(t,e,r)=>e in t?Sl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _=(t,e,r)=>Ol(t,typeof e!="symbol"?e+"":e,r);var xr,H,qi,xo,Jt,Yi,Vi,Ui,Xi,bo,vo,_o,Pl,Fe={},ji=[],Cl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,br=Array.isArray;function Ct(t,e){for(var r in e)t[r]=e[r];return t}function To(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Nl(t,e,r){var n,o,i,a={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?xr.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return _r(t,a,n,o,null)}function _r(t,e,r,n,o){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++qi,__i:-1,__u:0};return o==null&&H.vnode!=null&&H.vnode(i),i}function R(t){return t.children}function me(t,e){this.props=t,this.context=e}function he(t,e){if(e==null)return t.__?he(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?he(t):null}function Gi(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Gi(t)}}function zi(t){(!t.__d&&(t.__d=!0)&&Jt.push(t)&&!wr.__r++||Yi!=H.debounceRendering)&&((Yi=H.debounceRendering)||Vi)(wr)}function wr(){for(var t,e,r,n,o,i,a,s=1;Jt.length;)Jt.length>s&&Jt.sort(Ui),t=Jt.shift(),s=Jt.length,t.__d&&(r=void 0,n=void 0,o=(n=(e=t).__v).__e,i=[],a=[],e.__P&&((r=Ct({},n)).__v=n.__v+1,H.vnode&&H.vnode(r),ko(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[o]:null,i,o??he(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,Ji(i,r,a),n.__e=n.__=null,r.__e!=o&&Gi(r)));wr.__r=0}function Ki(t,e,r,n,o,i,a,s,l,u,c){var f,m,g,w,T,h,y,v=n&&n.__k||ji,x=e.length;for(l=Al(r,e,v,l,x),f=0;f<x;f++)(g=r.__k[f])!=null&&(m=g.__i==-1?Fe:v[g.__i]||Fe,g.__i=f,h=ko(t,g,m,o,i,a,s,l,u,c),w=g.__e,g.ref&&m.ref!=g.ref&&(m.ref&&Do(m.ref,null,g),c.push(g.ref,g.__c||w,g)),T==null&&w!=null&&(T=w),(y=!!(4&g.__u))||m.__k===g.__k?l=Qi(g,l,t,y):typeof g.type=="function"&&h!==void 0?l=h:w&&(l=w.nextSibling),g.__u&=-7);return r.__e=T,l}function Al(t,e,r,n,o){var i,a,s,l,u,c=r.length,f=c,m=0;for(t.__k=new Array(o),i=0;i<o;i++)(a=e[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=i+m,(a=t.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?_r(null,a,null,null,null):br(a)?_r(R,{children:a},null,null,null):a.constructor==null&&a.__b>0?_r(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,s=null,(u=a.__i=Rl(a,r,l,f))!=-1&&(f--,(s=r[u])&&(s.__u|=2)),s==null||s.__v==null?(u==-1&&(o>c?m--:o<c&&m++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?m--:u==l+1?m++:(u>l?m--:m++,a.__u|=4))):t.__k[i]=null;if(f)for(i=0;i<c;i++)(s=r[i])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=he(s)),ta(s,s));return n}function Qi(t,e,r,n){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=Qi(o[i],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=he(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Rl(t,e,r,n){var o,i,a,s=t.key,l=t.type,u=e[r],c=u!=null&&(2&u.__u)==0;if(u===null&&t.key==null||c&&s==u.key&&l==u.type)return r;if(n>(c?1:0)){for(o=r-1,i=r+1;o>=0||i<e.length;)if((u=e[a=o>=0?o--:i++])!=null&&(2&u.__u)==0&&s==u.key&&l==u.type)return a}return-1}function Bi(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Cl.test(e)?r:r+"px"}function vr(t,e,r,n,o){var i,a;t:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Bi(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Bi(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(Xi,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n?r.u=n.u:(r.u=bo,t.addEventListener(e,i?_o:vo,i)):t.removeEventListener(e,i?_o:vo,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Wi(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=bo++;else if(e.t<r.u)return;return r(H.event?H.event(e):e)}}}function ko(t,e,r,n,o,i,a,s,l,u){var c,f,m,g,w,T,h,y,v,x,b,k,P,A,L,Z,j,W=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),i=[s=e.__e=r.__e]),(c=H.__b)&&c(e);t:if(typeof W=="function")try{if(y=e.props,v="prototype"in W&&W.prototype.render,x=(c=W.contextType)&&n[c.__c],b=c?x?x.props.value:c.__:n,r.__c?h=(f=e.__c=r.__c).__=f.__E:(v?e.__c=f=new W(y,b):(e.__c=f=new me(y,b),f.constructor=W,f.render=Hl),x&&x.sub(f),f.props=y,f.state||(f.state={}),f.context=b,f.__n=n,m=f.__d=!0,f.__h=[],f._sb=[]),v&&f.__s==null&&(f.__s=f.state),v&&W.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Ct({},f.__s)),Ct(f.__s,W.getDerivedStateFromProps(y,f.__s))),g=f.props,w=f.state,f.__v=e,m)v&&W.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),v&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(v&&W.getDerivedStateFromProps==null&&y!==g&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,b),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,b)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(G){G&&(G.__=e)}),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[],f.__h.length&&a.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,b),v&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(g,w,T)})}if(f.context=b,f.props=y,f.__P=t,f.__e=!1,P=H.__r,A=0,v){for(f.state=f.__s,f.__d=!1,P&&P(e),c=f.render(f.props,f.state,f.context),L=0;L<f._sb.length;L++)f.__h.push(f._sb[L]);f._sb=[]}else do f.__d=!1,P&&P(e),c=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++A<25);f.state=f.__s,f.getChildContext!=null&&(n=Ct(Ct({},n),f.getChildContext())),v&&!m&&f.getSnapshotBeforeUpdate!=null&&(T=f.getSnapshotBeforeUpdate(g,w)),Z=c,c!=null&&c.type===R&&c.key==null&&(Z=Zi(c.props.children)),s=Ki(t,br(Z)?Z:[Z],e,r,n,o,i,a,s,l,u),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),h&&(f.__E=f.__=null)}catch(G){if(e.__v=null,l||i!=null)if(G.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else{for(j=i.length;j--;)To(i[j]);wo(e)}else e.__e=r.__e,e.__k=r.__k,G.then||wo(e);H.__e(G,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):s=e.__e=Fl(r.__e,e,r,n,o,i,a,l,u);return(c=H.diffed)&&c(e),128&e.__u?void 0:s}function wo(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(wo)}function Ji(t,e,r){for(var n=0;n<r.length;n++)Do(r[n],r[++n],r[++n]);H.__c&&H.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){H.__e(i,o.__v)}})}function Zi(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:br(t)?t.map(Zi):Ct({},t)}function Fl(t,e,r,n,o,i,a,s,l){var u,c,f,m,g,w,T,h=r.props,y=e.props,v=e.type;if(v=="svg"?o="http://www.w3.org/2000/svg":v=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((g=i[u])&&"setAttribute"in g==!!v&&(v?g.localName==v:g.nodeType==3)){t=g,i[u]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(o,v,y.is&&y),s&&(H.__m&&H.__m(e,i),s=!1),i=null}if(v==null)h===y||s&&t.data==y||(t.data=y);else{if(i=i&&xr.call(t.childNodes),h=r.props||Fe,!s&&i!=null)for(h={},u=0;u<t.attributes.length;u++)h[(g=t.attributes[u]).name]=g.value;for(u in h)if(g=h[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=g;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;vr(t,u,null,g,o)}}for(u in y)g=y[u],u=="children"?m=g:u=="dangerouslySetInnerHTML"?c=g:u=="value"?w=g:u=="checked"?T=g:s&&typeof g!="function"||h[u]===g||vr(t,u,g,h[u],o);if(c)s||f&&(c.__html==f.__html||c.__html==t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(f&&(t.innerHTML=""),Ki(e.type=="template"?t.content:t,br(m)?m:[m],e,r,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:r.__k&&he(r,0),s,l),i!=null)for(u=i.length;u--;)To(i[u]);s||(u="value",v=="progress"&&w==null?t.removeAttribute("value"):w!=null&&(w!==t[u]||v=="progress"&&!w||v=="option"&&w!=h[u])&&vr(t,u,w,h[u],o),u="checked",T!=null&&T!=t[u]&&vr(t,u,T,h[u],o))}return t}function Do(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(o){H.__e(o,r)}}function ta(t,e,r){var n,o;if(H.unmount&&H.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Do(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){H.__e(i,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&ta(n[o],e,r||typeof t.type!="function");r||To(t.__e),t.__c=t.__=t.__e=void 0}function Hl(t,e,r){return this.constructor(t,r)}function ea(t,e,r){var n,o,i,a;e==document&&(e=document.documentElement),H.__&&H.__(t,e),o=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],a=[],ko(e,t=(!n&&r||e).__k=Nl(R,null,[t]),o||Fe,Fe,e.namespaceURI,!n&&r?[r]:o?null:e.firstChild?xr.call(e.childNodes):null,i,!n&&r?r:o?o.__e:e.firstChild,n,a),Ji(i,t,a)}xr=ji.slice,H={__e:function(t,e,r,n){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),a=o.__d),a)return o.__E=o}catch(s){t=s}throw t}},qi=0,xo=function(t){return t!=null&&t.constructor==null},me.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ct({},this.state),typeof t=="function"&&(t=t(Ct({},r),this.props)),t&&Ct(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),zi(this))},me.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),zi(this))},me.prototype.render=R,Jt=[],Vi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ui=function(t,e){return t.__v.__b-e.__v.__b},wr.__r=0,Xi=/(PointerCapture)$|Capture$/i,bo=0,vo=Wi(!1),_o=Wi(!0),Pl=0;var ra={root:"a"};var He,q,Io,na,kr=0,fa=[],X=H,oa=X.__b,ia=X.__r,aa=X.diffed,sa=X.__c,ua=X.unmount,la=X.__;function Eo(t,e){X.__h&&X.__h(q,t,kr||e),kr=0;var r=q.__H||(q.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function pa(t){return kr=1,$l(ma,t)}function $l(t,e,r){var n=Eo(He++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):ma(void 0,e),function(s){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,s);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=q,!q.__f)){var o=function(s,l,u){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(m){return!!m.__c});if(c.every(function(m){return!m.__N}))return!i||i.call(this,s,l,u);var f=n.__c.props!==s;return c.forEach(function(m){if(m.__N){var g=m.__[0];m.__=m.__N,m.__N=void 0,g!==m.__[0]&&(f=!0)}}),i&&i.call(this,s,l,u)||f};q.__f=!0;var i=q.shouldComponentUpdate,a=q.componentWillUpdate;q.componentWillUpdate=function(s,l,u){if(this.__e){var c=i;i=void 0,o(s,l,u),i=c}a&&a.call(this,s,l,u)},q.shouldComponentUpdate=o}return n.__N||n.__}function lt(t,e){var r=Eo(He++,3);!X.__s&&da(r.__H,e)&&(r.__=t,r.u=e,q.__H.__h.push(r))}function Nt(t){return kr=5,Le(function(){return{current:t}},[])}function Le(t,e){var r=Eo(He++,7);return da(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Yl(){for(var t;t=fa.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Tr),t.__H.__h.forEach(Mo),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){q=null,oa&&oa(t)},X.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),la&&la(t,e)},X.__r=function(t){ia&&ia(t),He=0;var e=(q=t.__c).__H;e&&(Io===q?(e.__h=[],q.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(Tr),e.__h.forEach(Mo),e.__h=[],He=0)),Io=q},X.diffed=function(t){aa&&aa(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(fa.push(e)!==1&&na===X.requestAnimationFrame||((na=X.requestAnimationFrame)||zl)(Yl)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Io=q=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Tr),r.__h=r.__h.filter(function(n){return!n.__||Mo(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],X.__e(n,r.__v)}}),sa&&sa(t,e)},X.unmount=function(t){ua&&ua(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Tr(n)}catch(o){e=o}}),r.__H=void 0,e&&X.__e(e,r.__v))};var ca=typeof requestAnimationFrame=="function";function zl(t){var e,r=function(){clearTimeout(n),ca&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);ca&&(e=requestAnimationFrame(r))}function Tr(t){var e=q,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),q=e}function Mo(t){var e=q;t.__c=t.__(),q=e}function da(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function ma(t,e){return typeof e=="function"?e(t):e}var Bl=Symbol.for("preact-signals");function Ir(){if(Bt>1)Bt--;else{for(var t,e=!1;$e!==void 0;){var r=$e;for($e=void 0,So++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&ga(r))try{r.c()}catch(o){e||(t=o,e=!0)}r=n}}if(So=0,Bt--,e)throw t}}function it(t){if(Bt>0)return t();Bt++;try{return t()}finally{Ir()}}var $=void 0;function Oo(t){var e=$;$=void 0;try{return t()}finally{$=e}}var $e=void 0,Bt=0,So=0,Dr=0;function ha(t){if($!==void 0){var e=t.n;if(e===void 0||e.t!==$)return e={i:0,S:t,p:$.s,n:void 0,t:$,e:void 0,x:void 0,r:e},$.s!==void 0&&($.s.n=e),$.s=e,t.n=e,32&$.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=$.s,e.n=void 0,$.s.n=e,$.s=e),e}}function K(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}K.prototype.brand=Bl;K.prototype.h=function(){return!0};K.prototype.S=function(t){var e=this,r=this.t;r!==t&&t.e===void 0&&(t.x=r,this.t=t,r!==void 0?r.e=t:Oo(function(){var n;(n=e.W)==null||n.call(e)}))};K.prototype.U=function(t){var e=this;if(this.t!==void 0){var r=t.e,n=t.x;r!==void 0&&(r.x=n,t.e=void 0),n!==void 0&&(n.e=r,t.x=void 0),t===this.t&&(this.t=n,n===void 0&&Oo(function(){var o;(o=e.Z)==null||o.call(e)}))}};K.prototype.subscribe=function(t){var e=this;return mt(function(){var r=e.value,n=$;$=void 0;try{t(r)}finally{$=n}},{name:"sub"})};K.prototype.valueOf=function(){return this.value};K.prototype.toString=function(){return this.value+""};K.prototype.toJSON=function(){return this.value};K.prototype.peek=function(){var t=$;$=void 0;try{return this.value}finally{$=t}};Object.defineProperty(K.prototype,"value",{get:function(){var t=ha(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(So>100)throw new Error("Cycle detected");this.v=t,this.i++,Dr++,Bt++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Ir()}}}});function Y(t,e){return new K(t,e)}function ga(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function ya(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function va(t){for(var e=t.s,r=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=r}function Zt(t,e){K.call(this,void 0),this.x=t,this.s=void 0,this.g=Dr-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}Zt.prototype=new K;Zt.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Dr))return!0;if(this.g=Dr,this.f|=1,this.i>0&&!ga(this))return this.f&=-2,!0;var t=$;try{ya(this),$=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return $=t,va(this),this.f&=-2,!0};Zt.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}K.prototype.S.call(this,t)};Zt.prototype.U=function(t){if(this.t!==void 0&&(K.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};Zt.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(Zt.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=ha(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function tt(t,e){return new Zt(t,e)}function _a(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Bt++;var r=$;$=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,Po(t),n}finally{$=r,Ir()}}}function Po(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,_a(t)}function Wl(t){if($!==this)throw new Error("Out-of-order effect");va(this),$=t,this.f&=-2,8&this.f&&Po(this),Ir()}function ge(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}ge.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};ge.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,_a(this),ya(this),Bt++;var t=$;return $=this,Wl.bind(this,t)};ge.prototype.N=function(){2&this.f||(this.f|=2,this.o=$e,$e=this)};ge.prototype.d=function(){this.f|=8,1&this.f||Po(this)};ge.prototype.dispose=function(){this.d()};function mt(t,e){var r=new ge(t,e);try{r.c()}catch(o){throw r.d(),o}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var wa,No,Co;var xa=[];mt(function(){wa=this.N})();function ye(t,e){H[t]=e.bind(null,H[t]||function(){})}function Mr(t){Co&&Co(),Co=t&&t.S()}function ba(t){var e=this,r=t.data,n=et(r);n.value=r;var o=Le(function(){for(var s=e,l=e.__v;l=l.__;)if(l.__c){l.__c.__$f|=4;break}var u=tt(function(){var g=n.value.value;return g===0?0:g===!0?"":g||""}),c=tt(function(){return!Array.isArray(u.value)&&!xo(u.value)}),f=mt(function(){if(this.N=Ta,c.value){var g=u.value;s.__v&&s.__v.__e&&s.__v.__e.nodeType===3&&(s.__v.__e.data=g)}}),m=e.__$u.d;return e.__$u.d=function(){f(),m.call(this)},[c,u]},[]),i=o[0],a=o[1];return i.value?a.peek():a.value}ba.displayName="ReactiveTextNode";Object.defineProperties(K.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:ba},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});ye("__b",function(t,e){if(typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),typeof e.type=="string"){var r,n=e.props;for(var o in n)if(o!=="children"){var i=n[o];i instanceof K&&(r||(e.__np=r={}),r[o]=i,n[o]=i.peek())}}t(e)});ye("__r",function(t,e){if(typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(e),e.type!==R){Mr();var r,n=e.__c;n&&(n.__$f&=-2,(r=n.__$u)===void 0&&(n.__$u=r=(function(o){var i;return mt(function(){i=this}),i.c=function(){n.__$f|=1,n.setState({})},i})())),No=n,Mr(r)}t(e)});ye("__e",function(t,e,r,n){typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Mr(),No=void 0,t(e,r,n)});ye("diffed",function(t,e){typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Mr(),No=void 0;var r;if(typeof e.type=="string"&&(r=e.__e)){var n=e.__np,o=e.props;if(n){var i=r.U;if(i)for(var a in i){var s=i[a];s!==void 0&&!(a in n)&&(s.d(),i[a]=void 0)}else i={},r.U=i;for(var l in n){var u=i[l],c=n[l];u===void 0?(u=ql(r,l,c,o),i[l]=u):u.o(c,o)}}}t(e)});function ql(t,e,r,n){var o=e in t&&t.ownerSVGElement===void 0,i=Y(r);return{o:function(a,s){i.value=a,n=s},d:mt(function(){this.N=Ta;var a=i.value.value;n[e]!==a&&(n[e]=a,o?t[e]=a:a?t.setAttribute(e,a):t.removeAttribute(e))})}}ye("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var n=r.U;if(n){r.U=void 0;for(var o in n){var i=n[o];i&&i.d()}}}}else{var a=e.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}t(e)});ye("__h",function(t,e,r,n){(n<3||n===9)&&(e.__$f|=2),t(e,r,n)});me.prototype.shouldComponentUpdate=function(t,e){var r=this.__$u,n=r&&r.s!==void 0;for(var o in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var i=2&this.__$f;if(!(n||i||4&this.__$f)||1&this.__$f)return!0}else if(!(n||4&this.__$f)||3&this.__$f)return!0;for(var a in t)if(a!=="__source"&&t[a]!==this.props[a])return!0;for(var s in this.props)if(!(s in t))return!0;return!1};function et(t,e){return pa(function(){return Y(t,e)})[0]}var Vl=function(t){queueMicrotask(function(){queueMicrotask(t)})};function Ul(){it(function(){for(var t;t=xa.shift();)wa.call(t)})}function Ta(){xa.push(this)===1&&(H.requestAnimationFrame||Vl)(Ul)}var V={Remove:"remove",Replace:"replace",Add:"add"},Ea=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),Xl=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),Er=Symbol.iterator,dt={mutable:"mutable",immutable:"immutable"},Yo={};function ze(t,e){return t instanceof Map?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ka(t,e){if(e in t){let r=Reflect.getPrototypeOf(t);for(;r;){let n=Reflect.getOwnPropertyDescriptor(r,e);if(n)return n;r=Reflect.getPrototypeOf(r)}}}function zo(t){return Object.getPrototypeOf(t)===Set.prototype}function Bo(t){return Object.getPrototypeOf(t)===Map.prototype}function pt(t){var e;return(e=t.copy)!==null&&e!==void 0?e:t.original}function Wt(t){return!!C(t)}function C(t){return typeof t!="object"?null:t?.[Ea]}function Wo(t){var e;let r=C(t);return r?(e=r.copy)!==null&&e!==void 0?e:r.original:t}function wt(t,e){if(!t||typeof t!="object")return!1;let r;return Object.getPrototypeOf(t)===Object.prototype||Array.isArray(t)||t instanceof Map||t instanceof Set||!!e?.mark&&((r=e.mark(t,dt))===dt.immutable||typeof r=="function")}function Sa(t,e=[]){if(Object.hasOwnProperty.call(t,"key")){let r=t.parent.copy,n=C(Rt(r,t.key));if(n!==null&&n?.original!==t.original)return null;let o=t.parent.type===3,i=o?Array.from(t.parent.setMap.keys()).indexOf(t.key):t.key;if(!(o&&r.size>i||ze(r,i)))return null;e.push(i)}if(t.parent)return Sa(t.parent,e);e.reverse();try{jl(t.copy,e)}catch{return null}return e}function ee(t){return Array.isArray(t)?1:t instanceof Map?2:t instanceof Set?3:0}function Rt(t,e){return ee(t)===2?t.get(e):t[e]}function We(t,e,r){ee(t)===2?t.set(e,r):t[e]=r}function Ao(t,e){let r=C(t);return(r?pt(r):t)[e]}function At(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ro(t){if(t)for(;t.finalities.revoke.length>0;)t.finalities.revoke.pop()()}function te(t,e){return e?t:[""].concat(t).map(r=>{let n=`${r}`;return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function jl(t,e){for(let r=0;r<e.length-1;r+=1){let n=e[r];if(t=Rt(ee(t)===3?Array.from(t):t,n),typeof t!="object")throw new Error(`Cannot resolve patch at '${e.join("/")}'.`)}return t}function Gl(t){let e=Object.create(Object.getPrototypeOf(t));return Reflect.ownKeys(t).forEach(r=>{let n=Reflect.getOwnPropertyDescriptor(t,r);if(n.enumerable&&n.configurable&&n.writable){e[r]=t[r];return}n.writable||(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(n={configurable:!0,writable:!0,enumerable:n.enumerable,value:t[r]}),Reflect.defineProperty(e,r,n)}),e}var Kl=Object.prototype.propertyIsEnumerable;function Oa(t,e){let r;if(Array.isArray(t))return Array.prototype.concat.call(t);if(t instanceof Set){if(!zo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(t.values())}return Set.prototype.difference?Set.prototype.difference.call(t,new Set):new Set(t.values())}else if(t instanceof Map){if(!Bo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(t)}return new Map(t)}else if(e?.mark&&(r=e.mark(t,dt),r!==void 0)&&r!==dt.mutable){if(r===dt.immutable)return Gl(t);if(typeof r=="function"){if(e.enablePatches||e.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return r()}throw new Error(`Unsupported mark result: ${r}`)}else if(typeof t=="object"&&Object.getPrototypeOf(t)===Object.prototype){let n={};return Object.keys(t).forEach(o=>{n[o]=t[o]}),Object.getOwnPropertySymbols(t).forEach(o=>{Kl.call(t,o)&&(n[o]=t[o])}),n}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function at(t){t.copy||(t.copy=Oa(t.original,t.options))}function Ye(t){if(!wt(t))return Wo(t);if(Array.isArray(t))return t.map(Ye);if(t instanceof Map){let r=Array.from(t.entries()).map(([n,o])=>[n,Ye(o)]);if(!Bo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(r)}return new Map(r)}if(t instanceof Set){let r=Array.from(t).map(Ye);if(!zo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(r)}return new Set(r)}let e=Object.create(Object.getPrototypeOf(t));for(let r in t)e[r]=Ye(t[r]);return e}function Sr(t){return Wt(t)?Ye(t):t}function Mt(t){var e;t.assignedMap=(e=t.assignedMap)!==null&&e!==void 0?e:new Map,t.operated||(t.operated=!0,t.parent&&Mt(t.parent))}function Da(){throw new Error("Cannot modify frozen object")}function ve(t,e,r,n,o){{r=r??new WeakMap,n=n??[],o=o??[];let a=r.has(t)?r.get(t):t;if(n.length>0){let s=n.indexOf(a);if(a&&typeof a=="object"&&s!==-1)throw n[0]===a?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${o.slice(0,s).map((l,u)=>{if(typeof l=="symbol")return`[${l.toString()}]`;let c=n[u];return typeof l=="object"&&(c instanceof Map||c instanceof Set)?Array.from(c.keys()).indexOf(l):l}).join("/")}`);n.push(a),o.push(e)}else n.push(a)}if(Object.isFrozen(t)||Wt(t)){n.pop(),o.pop();return}switch(ee(t)){case 2:for(let[s,l]of t)ve(s,s,r,n,o),ve(l,s,r,n,o);t.set=t.clear=t.delete=Da;break;case 3:for(let s of t)ve(s,s,r,n,o);t.add=t.clear=t.delete=Da;break;case 1:Object.freeze(t);let a=0;for(let s of t)ve(s,a,r,n,o),a+=1;break;default:Object.freeze(t),Object.keys(t).forEach(s=>{let l=t[s];ve(l,s,r,n,o)})}n.pop(),o.pop()}function qo(t,e){let r=ee(t);if(r===0)Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)});else if(r===1){let n=0;for(let o of t)e(n,o,t),n+=1}else t.forEach((n,o)=>e(o,n,t))}function Pa(t,e,r){if(Wt(t)||!wt(t,r)||e.has(t)||Object.isFrozen(t))return;let n=t instanceof Set,o=n?new Map:void 0;if(e.add(t),qo(t,(i,a)=>{var s;if(Wt(a)){let l=C(a);at(l);let u=!((s=l.assignedMap)===null||s===void 0)&&s.size||l.operated?l.copy:l.original;We(n?o:t,i,u)}else Pa(a,e,r)}),o){let i=t,a=Array.from(i);i.clear(),a.forEach(s=>{i.add(o.has(s)?o.get(s):s)})}}function Ql(t,e){let r=t.type===3?t.setMap:t.copy;t.finalities.revoke.length>1&&t.assignedMap.get(e)&&r&&Pa(Rt(r,e),t.finalities.handledSet,t.options)}function Fo(t){t.type===3&&t.copy&&(t.copy.clear(),t.setMap.forEach(e=>{t.copy.add(Wo(e))}))}function Ho(t,e,r,n){if(t.operated&&t.assignedMap&&t.assignedMap.size>0&&!t.finalized){if(r&&n){let i=Sa(t);i&&e(t,i,r,n)}t.finalized=!0}}function Vo(t,e,r,n){let o=C(r);o&&(o.callbacks||(o.callbacks=[]),o.callbacks.push((i,a)=>{var s;let l=t.type===3?t.setMap:t.copy;if(At(Rt(l,e),r)){let u=o.original;o.copy&&(u=o.copy),Fo(t),Ho(t,n,i,a),t.options.enableAutoFreeze&&(t.options.updatedValues=(s=t.options.updatedValues)!==null&&s!==void 0?s:new WeakMap,t.options.updatedValues.set(u,o.original)),We(l,e,u)}}),t.options.enableAutoFreeze&&o.finalities!==t.finalities&&(t.options.enableAutoFreeze=!1)),wt(r,t.options)&&t.finalities.draft.push(()=>{let i=t.type===3?t.setMap:t.copy;At(Rt(i,e),r)&&Ql(t,e)})}function Jl(t,e,r,n,o){let{original:i,assignedMap:a,options:s}=t,l=t.copy;l.length<i.length&&([i,l]=[l,i],[r,n]=[n,r]);for(let u=0;u<i.length;u+=1)if(a.get(u.toString())&&l[u]!==i[u]){let c=e.concat([u]),f=te(c,o);r.push({op:V.Replace,path:f,value:Sr(l[u])}),n.push({op:V.Replace,path:f,value:Sr(i[u])})}for(let u=i.length;u<l.length;u+=1){let c=e.concat([u]),f=te(c,o);r.push({op:V.Add,path:f,value:Sr(l[u])})}if(i.length<l.length){let{arrayLengthAssignment:u=!0}=s.enablePatches;if(u){let c=e.concat(["length"]),f=te(c,o);n.push({op:V.Replace,path:f,value:i.length})}else for(let c=l.length;i.length<c;c-=1){let f=e.concat([c-1]),m=te(f,o);n.push({op:V.Remove,path:m})}}}function Zl({original:t,copy:e,assignedMap:r},n,o,i,a){r.forEach((s,l)=>{let u=Rt(t,l),c=Sr(Rt(e,l)),f=s?ze(t,l)?V.Replace:V.Add:V.Remove;if(At(u,c)&&f===V.Replace)return;let m=n.concat(l),g=te(m,a);o.push(f===V.Remove?{op:f,path:g}:{op:f,path:g,value:c}),i.push(f===V.Add?{op:V.Remove,path:g}:f===V.Remove?{op:V.Add,path:g,value:u}:{op:V.Replace,path:g,value:u})})}function tc({original:t,copy:e},r,n,o,i){let a=0;t.forEach(s=>{if(!e.has(s)){let l=r.concat([a]),u=te(l,i);n.push({op:V.Remove,path:u,value:s}),o.unshift({op:V.Add,path:u,value:s})}a+=1}),a=0,e.forEach(s=>{if(!t.has(s)){let l=r.concat([a]),u=te(l,i);n.push({op:V.Add,path:u,value:s}),o.unshift({op:V.Remove,path:u,value:s})}a+=1})}function Be(t,e,r,n){let{pathAsArray:o=!0}=t.options.enablePatches;switch(t.type){case 0:case 2:return Zl(t,e,r,n,o);case 1:return Jl(t,e,r,n,o);case 3:return tc(t,e,r,n,o)}}var ec=!1,Or=(t,e,r=!1)=>{if(typeof t=="object"&&t!==null&&(!wt(t,e)||r)&&!ec)throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")};var Lo={get size(){return pt(C(this)).size},has(t){return pt(C(this)).has(t)},set(t,e){let r=C(this),n=pt(r);return(!n.has(t)||!At(n.get(t),e))&&(at(r),Mt(r),r.assignedMap.set(t,!0),r.copy.set(t,e),Vo(r,t,e,Be)),this},delete(t){if(!this.has(t))return!1;let e=C(this);return at(e),Mt(e),e.original.has(t)?e.assignedMap.set(t,!1):e.assignedMap.delete(t),e.copy.delete(t),!0},clear(){let t=C(this);if(this.size){at(t),Mt(t),t.assignedMap=new Map;for(let[e]of t.original)t.assignedMap.set(e,!1);t.copy.clear()}},forEach(t,e){let r=C(this);pt(r).forEach((n,o)=>{t.call(e,this.get(o),o,this)})},get(t){var e,r;let n=C(this),o=pt(n).get(t),i=((r=(e=n.options).mark)===null||r===void 0?void 0:r.call(e,o,dt))===dt.mutable;if(n.options.strict&&Or(o,n.options,i),i||n.finalized||!wt(o,n.options)||o!==n.original.get(t))return o;let a=Yo.createDraft({original:o,parentDraft:n,key:t,finalities:n.finalities,options:n.options});return at(n),n.copy.set(t,a),a},keys(){return pt(C(this)).keys()},values(){let t=this.keys();return{[Er]:()=>this.values(),next:()=>{let e=t.next();return e.done?e:{done:!1,value:this.get(e.value)}}}},entries(){let t=this.keys();return{[Er]:()=>this.entries(),next:()=>{let e=t.next();if(e.done)return e;let r=this.get(e.value);return{done:!1,value:[e.value,r]}}}},[Er](){return this.entries()}},rc=Reflect.ownKeys(Lo),Ia=(t,e,{isValuesIterator:r})=>()=>{var n,o;let i=e.next();if(i.done)return i;let a=i.value,s=t.setMap.get(a),l=C(s),u=((o=(n=t.options).mark)===null||o===void 0?void 0:o.call(n,s,dt))===dt.mutable;if(t.options.strict&&Or(a,t.options,u),!u&&!l&&wt(a,t.options)&&!t.finalized&&t.original.has(a)){let c=Yo.createDraft({original:a,parentDraft:t,key:a,finalities:t.finalities,options:t.options});t.setMap.set(a,c),s=c}else l&&(s=l.proxy);return{done:!1,value:r?s:[s,s]}},Pr={get size(){return C(this).setMap.size},has(t){let e=C(this);if(e.setMap.has(t))return!0;at(e);let r=C(t);return!!(r&&e.setMap.has(r.original))},add(t){let e=C(this);return this.has(t)||(at(e),Mt(e),e.assignedMap.set(t,!0),e.setMap.set(t,t),Vo(e,t,t,Be)),this},delete(t){if(!this.has(t))return!1;let e=C(this);at(e),Mt(e);let r=C(t);return r&&e.setMap.has(r.original)?(e.assignedMap.set(r.original,!1),e.setMap.delete(r.original)):(!r&&e.setMap.has(t)?e.assignedMap.set(t,!1):e.assignedMap.delete(t),e.setMap.delete(t))},clear(){if(!this.size)return;let t=C(this);at(t),Mt(t);for(let e of t.original)t.assignedMap.set(e,!1);t.setMap.clear()},values(){let t=C(this);at(t);let e=t.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:Ia(t,e,{isValuesIterator:!0})}},entries(){let t=C(this);at(t);let e=t.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:Ia(t,e,{isValuesIterator:!1})}},keys(){return this.values()},[Er](){return this.values()},forEach(t,e){let r=this.values(),n=r.next();for(;!n.done;)t.call(e,n.value,n.value,this),n=r.next()}};Set.prototype.difference&&Object.assign(Pr,{intersection(t){return Set.prototype.intersection.call(new Set(this.values()),t)},union(t){return Set.prototype.union.call(new Set(this.values()),t)},difference(t){return Set.prototype.difference.call(new Set(this.values()),t)},symmetricDifference(t){return Set.prototype.symmetricDifference.call(new Set(this.values()),t)},isSubsetOf(t){return Set.prototype.isSubsetOf.call(new Set(this.values()),t)},isSupersetOf(t){return Set.prototype.isSupersetOf.call(new Set(this.values()),t)},isDisjointFrom(t){return Set.prototype.isDisjointFrom.call(new Set(this.values()),t)}});var nc=Reflect.ownKeys(Pr),Ca={get(t,e,r){var n,o;let i=(n=t.copy)===null||n===void 0?void 0:n[e];if(i&&t.finalities.draftsCache.has(i))return i;if(e===Ea)return t;let a;if(t.options.mark){let u=e==="size"&&(t.original instanceof Map||t.original instanceof Set)?Reflect.get(t.original,e):Reflect.get(t.original,e,r);if(a=t.options.mark(u,dt),a===dt.mutable)return t.options.strict&&Or(u,t.options,!0),u}let s=pt(t);if(s instanceof Map&&rc.includes(e))return e==="size"?Object.getOwnPropertyDescriptor(Lo,"size").get.call(t.proxy):Lo[e].bind(t.proxy);if(s instanceof Set&&nc.includes(e))return e==="size"?Object.getOwnPropertyDescriptor(Pr,"size").get.call(t.proxy):Pr[e].bind(t.proxy);if(!ze(s,e)){let u=ka(s,e);return u?"value"in u?u.value:(o=u.get)===null||o===void 0?void 0:o.call(t.proxy):void 0}let l=s[e];if(t.options.strict&&Or(l,t.options),t.finalized||!wt(l,t.options))return l;if(l===Ao(t.original,e)){if(at(t),t.copy[e]=Uo({original:t.original[e],parentDraft:t,key:t.type===1?Number(e):e,finalities:t.finalities,options:t.options}),typeof a=="function"){let u=C(t.copy[e]);return at(u),Mt(u),u.copy}return t.copy[e]}return Wt(l)&&t.finalities.draftsCache.add(l),l},set(t,e,r){var n;if(t.type===3||t.type===2)throw new Error("Map/Set draft does not support any property assignment.");let o;if(t.type===1&&e!=="length"&&!(Number.isInteger(o=Number(e))&&o>=0&&(e===0||o===0||String(o)===String(e))))throw new Error("Only supports setting array indices and the 'length' property.");let i=ka(pt(t),e);if(i?.set)return i.set.call(t.proxy,r),!0;let a=Ao(pt(t),e),s=C(a);return s&&At(s.original,r)?(t.copy[e]=r,t.assignedMap=(n=t.assignedMap)!==null&&n!==void 0?n:new Map,t.assignedMap.set(e,!1),!0):(At(r,a)&&(r!==void 0||ze(t.original,e))||(at(t),Mt(t),ze(t.original,e)&&At(r,t.original[e])?t.assignedMap.delete(e):t.assignedMap.set(e,!0),t.copy[e]=r,Vo(t,e,r,Be)),!0)},has(t,e){return e in pt(t)},ownKeys(t){return Reflect.ownKeys(pt(t))},getOwnPropertyDescriptor(t,e){let r=pt(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},getPrototypeOf(t){return Reflect.getPrototypeOf(t.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(t,e){var r;return t.type===1?Ca.set.call(this,t,e,void 0,t.proxy):(Ao(t.original,e)!==void 0||e in t.original?(at(t),Mt(t),t.assignedMap.set(e,!1)):(t.assignedMap=(r=t.assignedMap)!==null&&r!==void 0?r:new Map,t.assignedMap.delete(e)),t.copy&&delete t.copy[e],!0)}};function Uo(t){let{original:e,parentDraft:r,key:n,finalities:o,options:i}=t,a=ee(e),s={type:a,finalized:!1,parent:r,original:e,copy:null,proxy:null,finalities:o,options:i,setMap:a===3?new Map(e.entries()):void 0};(n||"key"in t)&&(s.key=n);let{proxy:l,revoke:u}=Proxy.revocable(a===1?Object.assign([],s):s,Ca);if(o.revoke.push(u),s.proxy=l,r){let c=r;c.finalities.draft.push((f,m)=>{var g,w;let T=C(l),h=c.type===3?c.setMap:c.copy,y=Rt(h,n),v=C(y);if(v){let x=v.original;v.operated&&(x=Wo(y)),Fo(v),Ho(v,Be,f,m),c.options.enableAutoFreeze&&(c.options.updatedValues=(g=c.options.updatedValues)!==null&&g!==void 0?g:new WeakMap,c.options.updatedValues.set(x,v.original)),We(h,n,x)}(w=T.callbacks)===null||w===void 0||w.forEach(x=>{x(f,m)})})}else{let c=C(l);c.finalities.draft.push((f,m)=>{Fo(c),Ho(c,Be,f,m)})}return l}Yo.createDraft=Uo;function oc(t,e,r,n,o){var i;let a=C(t),s=(i=a?.original)!==null&&i!==void 0?i:t,l=!!e.length;if(a?.operated)for(;a.finalities.draft.length>0;)a.finalities.draft.pop()(r,n);let u=l?e[0]:a?a.operated?a.copy:a.original:t;return a&&Ro(a),o&&ve(u,u,a?.options.updatedValues),[u,r&&l?[{op:V.Replace,path:[],value:e[0]}]:r,n&&l?[{op:V.Replace,path:[],value:s}]:n]}function ic(t,e){var r;let n={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet},o,i;e.enablePatches&&(o=[],i=[]);let s=((r=e.mark)===null||r===void 0?void 0:r.call(e,t,dt))===dt.mutable||!wt(t,e)?t:Uo({original:t,parentDraft:null,finalities:n,options:e});return[s,(l=[])=>{let[u,c,f]=oc(s,l,o,i,e.enableAutoFreeze);return e.enablePatches?[u,c,f]:u}]}function $o(t){let{rootDraft:e,value:r,useRawReturn:n=!1,isRoot:o=!0}=t;qo(r,(i,a,s)=>{let l=C(a);if(l&&e&&l.finalities===e.finalities){t.isContainDraft=!0;let u=l.original;if(s instanceof Set){let c=Array.from(s);s.clear(),c.forEach(f=>s.add(i===f?u:f))}else We(s,i,u)}else typeof a=="object"&&a!==null&&(t.value=a,t.isRoot=!1,$o(t))}),o&&(t.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),n&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function Na(t){var e;let r=C(t);if(!wt(t,r?.options))return t;let n=ee(t);if(r&&!r.operated)return r.original;let o;function i(){o=n===2?Bo(t)?new Map(t):new(Object.getPrototypeOf(t)).constructor(t):n===3?Array.from(r.setMap.values()):Oa(t,r?.options)}if(r){r.finalized=!0;try{i()}finally{r.finalized=!1}}else o=t;if(qo(o,(a,s)=>{if(r&&At(Rt(r.original,a),s))return;let l=Na(s);l!==s&&(o===t&&i(),We(o,a,l))}),n===3){let a=(e=r?.original)!==null&&e!==void 0?e:o;return zo(a)?new Set(o):new(Object.getPrototypeOf(a)).constructor(o)}return o}function Ma(t){if(!Wt(t))throw new Error(`current() is only used for Draft, parameter: ${t}`);return Na(t)}var ac=t=>{if(t!==void 0&&Object.prototype.toString.call(t)!=="[object Object]")throw new Error(`Invalid options: ${String(t)}, 'options' should be an object.`);return function e(r,n,o){var i,a,s;if(typeof r=="function"&&typeof n!="function")return function(k,...P){return e(k,A=>r.call(this,A,...P),n)};let l=r,u=n,c=o;if(typeof n!="function"&&(c=n),c!==void 0&&Object.prototype.toString.call(c)!=="[object Object]")throw new Error(`Invalid options: ${c}, 'options' should be an object.`);c=Object.assign(Object.assign({},t),c);let f=Wt(l)?Ma(l):l,m=Array.isArray(c.mark)?((k,P)=>{for(let A of c.mark){if(typeof A!="function")throw new Error(`Invalid mark: ${A}, 'mark' should be a function.`);let L=A(k,P);if(L)return L}}):c.mark,g=(i=c.enablePatches)!==null&&i!==void 0?i:!1,w=(a=c.strict)!==null&&a!==void 0?a:!1,h={enableAutoFreeze:(s=c.enableAutoFreeze)!==null&&s!==void 0?s:!1,mark:m,strict:w,enablePatches:g};if(!wt(f,h)&&typeof f=="object"&&f!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");let[y,v]=ic(f,h);if(typeof n!="function"){if(!wt(f,h))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[y,v]}let x;try{x=u(y)}catch(k){throw Ro(C(y)),k}let b=k=>{let P=C(y);if(!Wt(k)){if(k!==void 0&&!At(k,y)&&P?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");let L=k?.[Xl];if(L){let Z=L[0];return h.strict&&typeof k=="object"&&k!==null&&$o({rootDraft:P,value:k,useRawReturn:!0}),v([Z])}if(k!==void 0)return typeof k=="object"&&k!==null&&$o({rootDraft:P,value:k}),v([k])}if(k===y||k===void 0)return v([]);let A=C(k);if(h===A.options){if(A.operated)throw new Error("Cannot return a modified child draft.");return v([Ma(k)])}return v([k])};return x instanceof Promise?x.then(b,k=>{throw Ro(C(y)),k}):b(x)}},rt=ac();var wm=Object.prototype.constructor.toString();var sc=Math.pow(10,8)*24*60*60*1e3,bm=-sc,Cr=6048e5,Aa=864e5,Nr=6e4,Ar=36e5,Ra=1e3;var uc=3600;var Fa=uc*24,Tm=Fa*7,lc=Fa*365.2425,cc=lc/12,km=cc*3,Xo=Symbol.for("constructDateFrom");function M(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Xo in t?t[Xo](e):t instanceof Date?new t.constructor(e):new Date(e)}function I(t,e){return M(e||t,t)}function xt(t,e,r){let n=I(t,r?.in);return isNaN(e)?M(r?.in||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ha(t,e,r){let n=I(t,r?.in);if(isNaN(e))return M(r?.in||t,NaN);if(!e)return n;let o=n.getDate(),i=M(r?.in||t,n.getTime());i.setMonth(n.getMonth()+e+1,0);let a=i.getDate();return o>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function La(t,e,r){let{years:n=0,months:o=0,weeks:i=0,days:a=0,hours:s=0,minutes:l=0,seconds:u=0}=e,c=I(t,r?.in),f=o||n?Ha(c,o+n*12):c,m=a||i?xt(f,a+i*7):f,g=l+s*60,T=(u+g*60)*1e3;return M(r?.in||t,+m+T)}function $a(t,e,r){return M(r?.in||t,+I(t)+e)}function Ya(t,e,r){return $a(t,e*Ar,r)}var fc={};function ht(){return fc}function ct(t,e){let r=ht(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=I(t,e?.in),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function bt(t,e){return ct(t,{...e,weekStartsOn:1})}function Rr(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=M(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);let i=bt(o),a=M(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);let s=bt(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function re(t){let e=I(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function za(t,...e){let r=M.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function qe(t,e){let r=I(t,e?.in);return r.setHours(0,0,0,0),r}function qt(t,e,r){let[n,o]=za(r?.in,t,e),i=qe(n),a=qe(o),s=+i-re(i),l=+a-re(a);return Math.round((s-l)/Aa)}function Ba(t,e){let r=Rr(t,e),n=M(e?.in||t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),bt(n)}function Wa(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qa(t){return!(!Wa(t)&&typeof t!="number"||isNaN(+I(t)))}function Va(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Ua(t,e){return+I(t)-+I(e)}function Fr(t,e,r){let n=Ua(t,e)/Nr;return Va(r?.roundingMethod)(n)}function Xa(t,e){let r=I(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var pc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ja=(t,e,r)=>{let n,o=pc[t];return typeof o=="string"?n=o:e===1?n=o.one:n=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hr(t){return(e={})=>{let r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var dc={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ga={date:Hr({formats:dc,defaultWidth:"full"}),time:Hr({formats:mc,defaultWidth:"full"}),dateTime:Hr({formats:hc,defaultWidth:"full"})};var gc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ka=(t,e,r,n)=>gc[t];function _e(t){return(e,r)=>{let n=r?.context?String(r.context):"standalone",o;if(n==="formatting"&&t.formattingValues){let a=t.defaultFormattingWidth||t.defaultWidth,s=r?.width?String(r.width):a;o=t.formattingValues[s]||t.formattingValues[a]}else{let a=t.defaultWidth,s=r?.width?String(r.width):t.defaultWidth;o=t.values[s]||t.values[a]}let i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}var yc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_c={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wc={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tc=(t,e)=>{let r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qa={ordinalNumber:Tc,era:_e({values:yc,defaultWidth:"wide"}),quarter:_e({values:vc,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_e({values:_c,defaultWidth:"wide"}),day:_e({values:wc,defaultWidth:"wide"}),dayPeriod:_e({values:xc,defaultWidth:"wide",formattingValues:bc,defaultFormattingWidth:"wide"})};function we(t){return(e,r={})=>{let n=r.width,o=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;let a=i[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Dc(s,f=>f.test(a)):kc(s,f=>f.test(a)),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;let c=e.slice(a.length);return{value:u,rest:c}}}function kc(t,e){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Dc(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ja(t){return(e,r={})=>{let n=e.match(t.matchPattern);if(!n)return null;let o=n[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;let s=e.slice(o.length);return{value:a,rest:s}}}var Ic=/^(\d+)(th|st|nd|rd)?/i,Mc=/\d+/i,Ec={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sc={any:[/^b/i,/^(a|c)/i]},Oc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pc={any:[/1/i,/2/i,/3/i,/4/i]},Cc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ac={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Za={ordinalNumber:Ja({matchPattern:Ic,parsePattern:Mc,valueCallback:t=>parseInt(t,10)}),era:we({matchPatterns:Ec,defaultMatchWidth:"wide",parsePatterns:Sc,defaultParseWidth:"any"}),quarter:we({matchPatterns:Oc,defaultMatchWidth:"wide",parsePatterns:Pc,defaultParseWidth:"any",valueCallback:t=>t+1}),month:we({matchPatterns:Cc,defaultMatchWidth:"wide",parsePatterns:Nc,defaultParseWidth:"any"}),day:we({matchPatterns:Ac,defaultMatchWidth:"wide",parsePatterns:Rc,defaultParseWidth:"any"}),dayPeriod:we({matchPatterns:Fc,defaultMatchWidth:"any",parsePatterns:Hc,defaultParseWidth:"any"})};var Ve={code:"en-US",formatDistance:ja,formatLong:Ga,formatRelative:Ka,localize:Qa,match:Za,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ts(t,e){let r=I(t,e?.in);return qt(r,Xa(r))+1}function Lr(t,e){let r=I(t,e?.in),n=+bt(r)-+Ba(r);return Math.round(n/Cr)+1}function xe(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=ht(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=M(e?.in||t,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);let s=ct(a,e),l=M(e?.in||t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);let u=ct(l,e);return+r>=+s?n+1:+r>=+u?n:n-1}function es(t,e){let r=ht(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=xe(t,e),i=M(e?.in||t,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),ct(i,e)}function $r(t,e){let r=I(t,e?.in),n=+ct(r,e)-+es(r,e);return Math.round(n/Cr)+1}function O(t,e){let r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}var Ft={y(t,e){let r=t.getFullYear(),n=r>0?r:1-r;return O(e==="yy"?n%100:n,e.length)},M(t,e){let r=t.getMonth();return e==="M"?String(r+1):O(r+1,2)},d(t,e){return O(t.getDate(),e.length)},a(t,e){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return O(t.getHours()%12||12,e.length)},H(t,e){return O(t.getHours(),e.length)},m(t,e){return O(t.getMinutes(),e.length)},s(t,e){return O(t.getSeconds(),e.length)},S(t,e){let r=e.length,n=t.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return O(o,e.length)}};var be={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jo={G:function(t,e,r){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){let n=t.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Ft.y(t,e)},Y:function(t,e,r,n){let o=xe(t,n),i=o>0?o:1-o;if(e==="YY"){let a=i%100;return O(a,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):O(i,e.length)},R:function(t,e){let r=Rr(t);return O(r,e.length)},u:function(t,e){let r=t.getFullYear();return O(r,e.length)},Q:function(t,e,r){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return O(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return O(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){let n=t.getMonth();switch(e){case"M":case"MM":return Ft.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return O(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){let o=$r(t,n);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):O(o,e.length)},I:function(t,e,r){let n=Lr(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):O(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ft.d(t,e)},D:function(t,e,r){let n=ts(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):O(n,e.length)},E:function(t,e,r){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){let o=t.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return O(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){let o=t.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return O(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){let n=t.getDay(),o=n===0?7:n;switch(e){case"i":return String(o);case"ii":return O(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){let n=t.getHours(),o;switch(n===12?o=be.noon:n===0?o=be.midnight:o=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){let n=t.getHours(),o;switch(n>=17?o=be.evening:n>=12?o=be.afternoon:n>=4?o=be.morning:o=be.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ft.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ft.H(t,e)},K:function(t,e,r){let n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):O(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):O(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ft.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ft.s(t,e)},S:function(t,e){return Ft.S(t,e)},X:function(t,e,r){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ns(n);case"XXXX":case"XX":return ne(n);case"XXXXX":case"XXX":default:return ne(n,":")}},x:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"x":return ns(n);case"xxxx":case"xx":return ne(n);case"xxxxx":case"xxx":default:return ne(n,":")}},O:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rs(n,":");case"OOOO":default:return"GMT"+ne(n,":")}},z:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rs(n,":");case"zzzz":default:return"GMT"+ne(n,":")}},t:function(t,e,r){let n=Math.trunc(+t/1e3);return O(n,e.length)},T:function(t,e,r){return O(+t,e.length)}};function rs(t,e=""){let r=t>0?"-":"+",n=Math.abs(t),o=Math.trunc(n/60),i=n%60;return i===0?r+String(o):r+String(o)+e+O(i,2)}function ns(t,e){return t%60===0?(t>0?"-":"+")+O(Math.abs(t)/60,2):ne(t,e)}function ne(t,e=""){let r=t>0?"-":"+",n=Math.abs(t),o=O(Math.trunc(n/60),2),i=O(n%60,2);return r+o+e+i}var os=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},is=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lc=(t,e)=>{let r=t.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return os(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",os(n,e)).replace("{{time}}",is(o,e))},Ue={p:is,P:Lc};var $c=/^D+$/,Yc=/^Y+$/,zc=["D","DD","YY","YYYY"];function Yr(t){return $c.test(t)}function zr(t){return Yc.test(t)}function Xe(t,e,r){let n=Bc(t,e,r);if(console.warn(n),zc.includes(t))throw new RangeError(n)}function Bc(t,e,r){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Wc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vc=/^'([^]*?)'?$/,Uc=/''/g,Xc=/[a-zA-Z]/;function gt(t,e,r){let n=ht(),o=r?.locale??n.locale??Ve,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=I(t,r?.in);if(!qa(s))throw new RangeError("Invalid time value");let l=e.match(qc).map(c=>{let f=c[0];if(f==="p"||f==="P"){let m=Ue[f];return m(c,o.formatLong)}return c}).join("").match(Wc).map(c=>{if(c==="''")return{isToken:!1,value:"'"};let f=c[0];if(f==="'")return{isToken:!1,value:jc(c)};if(jo[f])return{isToken:!0,value:c};if(f.match(Xc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});o.localize.preprocessor&&(l=o.localize.preprocessor(s,l));let u={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return l.map(c=>{if(!c.isToken)return c.value;let f=c.value;(!r?.useAdditionalWeekYearTokens&&zr(f)||!r?.useAdditionalDayOfYearTokens&&Yr(f))&&Xe(f,e,String(t));let m=jo[f[0]];return m(s,f,o.localize,u)}).join("")}function jc(t){let e=t.match(Vc);return e?e[1].replace(Uc,"'"):t}function Go(t,e){let r=I(t,e?.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=e?.format??"extended",o=e?.representation??"complete",i="",a="",s=n==="extended"?"-":"",l=n==="extended"?":":"";if(o!=="time"){let u=O(r.getDate(),2),c=O(r.getMonth()+1,2);i=`${O(r.getFullYear(),4)}${s}${c}${s}${u}`}if(o!=="date"){let u=r.getTimezoneOffset();if(u!==0){let T=Math.abs(u),h=O(Math.trunc(T/60),2),y=O(T%60,2);a=`${u<0?"+":"-"}${h}:${y}`}else a="Z";let c=O(r.getHours(),2),f=O(r.getMinutes(),2),m=O(r.getSeconds(),2),g=i===""?"":"T",w=[c,f,m].join(l);i=`${i}${g}${w}${a}`}return i}function as(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=r.getMonth(),i=M(r,0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}function ss(){return Object.assign({},ht())}function us(t,e){let r=I(t,e?.in).getDay();return r===0?7:r}function ls(t,e){let r=Gc(e)?new e(0):M(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function Gc(t){return typeof t=="function"&&t.prototype?.constructor===t}var Kc=10,Br=class{constructor(){_(this,"subPriority",0)}validate(e,r){return!0}},Wr=class extends Br{constructor(e,r,n,o,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=o,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}},qr=class extends Br{constructor(r,n){super();_(this,"priority",Kc);_(this,"subPriority",-1);this.context=r||(o=>M(n,o))}set(r,n){return n.timestampIsSet?r:M(r,ls(r,this.context))}};var D=class{run(e,r,n,o){let i=this.parse(e,r,n,o);return i?{setter:new Wr(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}};var Vr=class extends D{constructor(){super(...arguments);_(this,"priority",140);_(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,o){switch(n){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});case"GGGG":default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,n,o){return n.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}};var F={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},yt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function B(t,e){return t&&{value:e(t.value),rest:t.rest}}function N(t,e){let r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function vt(t,e){let r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};let n=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(o*Ar+i*Nr+a*Ra),rest:e.slice(r[0].length)}}function Ur(t){return N(F.anyDigitsSigned,t)}function E(t,e){switch(t){case 1:return N(F.singleDigit,e);case 2:return N(F.twoDigits,e);case 3:return N(F.threeDigits,e);case 4:return N(F.fourDigits,e);default:return N(new RegExp("^\\d{1,"+t+"}"),e)}}function Te(t,e){switch(t){case 1:return N(F.singleDigitSigned,e);case 2:return N(F.twoDigitsSigned,e);case 3:return N(F.threeDigitsSigned,e);case 4:return N(F.fourDigitsSigned,e);default:return N(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ke(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Xr(t,e){let r=e>0,n=r?e:1-e,o;if(n<=50)o=t||100;else{let i=n+50,a=Math.trunc(i/100)*100,s=t>=i%100;o=t+a-(s?100:0)}return r?o:1-o}function jr(t){return t%400===0||t%4===0&&t%100!==0}var Gr=class extends D{constructor(){super(...arguments);_(this,"priority",130);_(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,o){let i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return B(E(4,r),i);case"yo":return B(o.ordinalNumber(r,{unit:"year"}),i);default:return B(E(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o){let i=r.getFullYear();if(o.isTwoDigitYear){let s=Xr(o.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}let a=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}};var Kr=class extends D{constructor(){super(...arguments);_(this,"priority",130);_(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,o){let i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return B(E(4,r),i);case"Yo":return B(o.ordinalNumber(r,{unit:"year"}),i);default:return B(E(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o,i){let a=xe(r,i);if(o.isTwoDigitYear){let l=Xr(o.year,a);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ct(r,i)}let s=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ct(r,i)}};var Qr=class extends D{constructor(){super(...arguments);_(this,"priority",130);_(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?Te(4,r):Te(n.length,r)}set(r,n,o){let i=M(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),bt(i)}};var Jr=class extends D{constructor(){super(...arguments);_(this,"priority",130);_(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?Te(4,r):Te(n.length,r)}set(r,n,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}};var Zr=class extends D{constructor(){super(...arguments);_(this,"priority",120);_(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"Q":case"QQ":return E(n.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}};var tn=class extends D{constructor(){super(...arguments);_(this,"priority",120);_(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"q":case"qq":return E(n.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}};var en=class extends D{constructor(){super(...arguments);_(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_(this,"priority",110)}parse(r,n,o){let i=a=>a-1;switch(n){case"M":return B(N(F.month,r),i);case"MM":return B(E(2,r),i);case"Mo":return B(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}};var rn=class extends D{constructor(){super(...arguments);_(this,"priority",110);_(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,o){let i=a=>a-1;switch(n){case"L":return B(N(F.month,r),i);case"LL":return B(E(2,r),i);case"Lo":return B(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}};function cs(t,e,r){let n=I(t,r?.in),o=$r(n,r)-e;return n.setDate(n.getDate()-o*7),I(n,r?.in)}var nn=class extends D{constructor(){super(...arguments);_(this,"priority",100);_(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,o){switch(n){case"w":return N(F.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return E(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o,i){return ct(cs(r,o,i),i)}};function fs(t,e,r){let n=I(t,r?.in),o=Lr(n,r)-e;return n.setDate(n.getDate()-o*7),n}var on=class extends D{constructor(){super(...arguments);_(this,"priority",100);_(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,o){switch(n){case"I":return N(F.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return E(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o){return bt(fs(r,o))}};var Qc=[31,28,31,30,31,30,31,31,30,31,30,31],Jc=[31,29,31,30,31,30,31,31,30,31,30,31],an=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"subPriority",1);_(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"d":return N(F.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return E(n.length,r)}}validate(r,n){let o=r.getFullYear(),i=jr(o),a=r.getMonth();return i?n>=1&&n<=Jc[a]:n>=1&&n<=Qc[a]}set(r,n,o){return r.setDate(o),r.setHours(0,0,0,0),r}};var sn=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"subpriority",1);_(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,o){switch(n){case"D":case"DD":return N(F.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return E(n.length,r)}}validate(r,n){let o=r.getFullYear();return jr(o)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}};function De(t,e,r){let n=ht(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=I(t,r?.in),a=i.getDay(),l=(e%7+7)%7,u=7-o,c=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return xt(i,c,r)}var un=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=De(r,o,i),r.setHours(0,0,0,0),r}};var ln=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,o,i){let a=s=>{let l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return B(E(n.length,r),a);case"eo":return B(o.ordinalNumber(r,{unit:"day"}),a);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=De(r,o,i),r.setHours(0,0,0,0),r}};var cn=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,o,i){let a=s=>{let l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return B(E(n.length,r),a);case"co":return B(o.ordinalNumber(r,{unit:"day"}),a);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=De(r,o,i),r.setHours(0,0,0,0),r}};function ps(t,e,r){let n=I(t,r?.in),o=us(n,r),i=e-o;return xt(n,i,r)}var fn=class extends D{constructor(){super(...arguments);_(this,"priority",90);_(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,o){let i=a=>a===0?7:a;switch(n){case"i":case"ii":return E(n.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return B(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return B(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return B(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return B(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,o){return r=ps(r,o),r.setHours(0,0,0,0),r}};var pn=class extends D{constructor(){super(...arguments);_(this,"priority",80);_(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,o){switch(n){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(ke(o),0,0,0),r}};var dn=class extends D{constructor(){super(...arguments);_(this,"priority",80);_(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,o){switch(n){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(ke(o),0,0,0),r}};var mn=class extends D{constructor(){super(...arguments);_(this,"priority",80);_(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,o){switch(n){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(ke(o),0,0,0),r}};var hn=class extends D{constructor(){super(...arguments);_(this,"priority",70);_(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,o){switch(n){case"h":return N(F.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return E(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,o){let i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}};var gn=class extends D{constructor(){super(...arguments);_(this,"priority",70);_(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,o){switch(n){case"H":return N(F.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return E(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,o){return r.setHours(o,0,0,0),r}};var yn=class extends D{constructor(){super(...arguments);_(this,"priority",70);_(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,o){switch(n){case"K":return N(F.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return E(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}};var vn=class extends D{constructor(){super(...arguments);_(this,"priority",70);_(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,o){switch(n){case"k":return N(F.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return E(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,o){let i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}};var _n=class extends D{constructor(){super(...arguments);_(this,"priority",60);_(this,"incompatibleTokens",["t","T"])}parse(r,n,o){switch(n){case"m":return N(F.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return E(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setMinutes(o,0,0),r}};var wn=class extends D{constructor(){super(...arguments);_(this,"priority",50);_(this,"incompatibleTokens",["t","T"])}parse(r,n,o){switch(n){case"s":return N(F.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return E(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setSeconds(o,0),r}};var xn=class extends D{constructor(){super(...arguments);_(this,"priority",30);_(this,"incompatibleTokens",["t","T"])}parse(r,n){let o=i=>Math.trunc(i*Math.pow(10,-n.length+3));return B(E(n.length,r),o)}set(r,n,o){return r.setMilliseconds(o),r}};var bn=class extends D{constructor(){super(...arguments);_(this,"priority",10);_(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return vt(yt.basicOptionalMinutes,r);case"XX":return vt(yt.basic,r);case"XXXX":return vt(yt.basicOptionalSeconds,r);case"XXXXX":return vt(yt.extendedOptionalSeconds,r);case"XXX":default:return vt(yt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:M(r,r.getTime()-re(r)-o)}};var Tn=class extends D{constructor(){super(...arguments);_(this,"priority",10);_(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return vt(yt.basicOptionalMinutes,r);case"xx":return vt(yt.basic,r);case"xxxx":return vt(yt.basicOptionalSeconds,r);case"xxxxx":return vt(yt.extendedOptionalSeconds,r);case"xxx":default:return vt(yt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:M(r,r.getTime()-re(r)-o)}};var kn=class extends D{constructor(){super(...arguments);_(this,"priority",40);_(this,"incompatibleTokens","*")}parse(r){return Ur(r)}set(r,n,o){return[M(r,o*1e3),{timestampIsSet:!0}]}};var Dn=class extends D{constructor(){super(...arguments);_(this,"priority",20);_(this,"incompatibleTokens","*")}parse(r){return Ur(r)}set(r,n,o){return[M(r,o),{timestampIsSet:!0}]}};var ds={G:new Vr,y:new Gr,Y:new Kr,R:new Qr,u:new Jr,Q:new Zr,q:new tn,M:new en,L:new rn,w:new nn,I:new on,d:new an,D:new sn,E:new un,e:new ln,c:new cn,i:new fn,a:new pn,b:new dn,B:new mn,h:new hn,H:new gn,K:new yn,k:new vn,m:new _n,s:new wn,S:new xn,X:new bn,x:new Tn,t:new kn,T:new Dn};var Zc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ef=/^'([^]*?)'?$/,rf=/''/g,nf=/\S/,of=/[a-zA-Z]/;function ms(t,e,r,n){let o=()=>M(n?.in||r,NaN),i=ss(),a=n?.locale??i.locale??Ve,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return t?o():I(r,n?.in);let u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},c=[new qr(n?.in,r)],f=e.match(tf).map(h=>{let y=h[0];if(y in Ue){let v=Ue[y];return v(h,a.formatLong)}return h}).join("").match(Zc),m=[];for(let h of f){!n?.useAdditionalWeekYearTokens&&zr(h)&&Xe(h,e,t),!n?.useAdditionalDayOfYearTokens&&Yr(h)&&Xe(h,e,t);let y=h[0],v=ds[y];if(v){let{incompatibleTokens:x}=v;if(Array.isArray(x)){let k=m.find(P=>x.includes(P.token)||P.token===y);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${h}\` at the same time`)}else if(v.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${h}\` and any other token at the same time`);m.push({token:y,fullToken:h});let b=v.run(t,h,a.match,u);if(!b)return o();c.push(b.setter),t=b.rest}else{if(y.match(of))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(h==="''"?h="'":y==="'"&&(h=af(h)),t.indexOf(h)===0)t=t.slice(h.length);else return o()}}if(t.length>0&&nf.test(t))return o();let g=c.map(h=>h.priority).sort((h,y)=>y-h).filter((h,y,v)=>v.indexOf(h)===y).map(h=>c.filter(y=>y.priority===h).sort((y,v)=>v.subPriority-y.subPriority)).map(h=>h[0]),w=I(r,n?.in);if(isNaN(+w))return o();let T={};for(let h of g){if(!h.validate(w,u))return o();let y=h.set(w,T,u);Array.isArray(y)?(w=y[0],Object.assign(T,y[1])):w=y}return w}function af(t){return t.match(ef)[1].replace(rf,"'")}function hs(t,e,r){let n=I(t,r?.in),o=n.getFullYear(),i=n.getDate(),a=M(r?.in||t,0);a.setFullYear(o,e,15),a.setHours(0,0,0,0);let s=as(a);return n.setMonth(e,Math.min(i,s)),n}function Ko(t,e,r){let n=I(t,r?.in);return isNaN(+n)?M(r?.in||t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=hs(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}var gs="notes_new_item_text",Qo="notes_taggers",ys="notes_gap_min",d={addInProgress:Y(!1),allDaysDisplaySorted:tt(ff),allItemsByDay:tt(lf),busy:Y(0),dayToIndex:tt(sf),effectiveCaseSensitive:Y(!1),effectiveFilter:tt(vf),errors:Y([]),filter:Y(""),filterCaseSensitive:Y(!1),filterFromHighlight:tt(yf),filterShowFullDays:Y(!1),filterUsingHighlight:Y(!0),forceFullDays:Y([]),gapMin:Y(xf()),googleSignedIn:Y(!1),highlight:Y(""),highlightCaseSensitive:Y(!1),highlightPatterns:tt(gf),itemsInRange:tt(df),itemsToShow:tt(mf),itemsToShowByDay:tt(cf),newItemText:Y(localStorage[gs]||""),pageIndex:Y(0),referenceDate:Y(new Date),referenceDateNow:Y(!0),selectedRange:Y(),selectedRangeText:tt(hf),showTaggers:Y(!1),showTimeline:Y(!1),sortAscending:Y(!1),taggedItems:tt(pf),taggers:Y(wf()),tagShowMode:Y("DAY_SUMMARIES"),tagTotalsByDay:tt(_f),tagTotalsIncludeFiltered:Y(!0),trackingItems:Y([]),visibleDays:tt(uf)};window.globalState=d;mt(()=>{d.selectedRange.value,d.effectiveFilter.value,d.pageIndex.value=0});mt(()=>{d.effectiveFilter.value,d.effectiveCaseSensitive.value,d.filterShowFullDays.value,d.selectedRange.value,d.forceFullDays.value=[]});mt(()=>{localStorage[gs]=d.newItemText.value});mt(()=>{localStorage[ys]=d.gapMin.value});function sf(){let t=d.allDaysDisplaySorted.value,e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e}function uf(){return new Set(d.itemsToShowByDay.value.sortedDays)}function lf(){return vs(d.trackingItems.value,!1)}function cf(){return vs(d.itemsToShow.value,d.sortAscending.value)}function ff(){let t=d.allItemsByDay.value;return d.sortAscending.value?t.sortedDays.slice().sort():t.sortedDays}function pf(){return rt(d.trackingItems.value,t=>{for(let e of d.taggers.value)if(e.includePattern)try{let r=new RegExp(e.includePattern,"i"),n;e.excludePattern&&(n=new RegExp(e.excludePattern,"i"));for(let o of t){if(n&&n.test(o.text))continue;let i=r.exec(o.text);if(!i)continue;let a=1;for(let s=1;s<i.length;s++)if(i[s]){a=Number.parseFloat(i[s]);break}o.tags||(o.tags=[]),o.tags.push({quantity:a,unitName:e.unitName})}}catch{}})}function df(){let t=d.taggedItems.value,e=d.selectedRange.value,r=d.forceFullDays.value;return e?t.filter(n=>r.includes(n.day)||n.date>=e[0]&&n.date<e[1]):t}function mf(){let t=d.itemsInRange.value,e=d.effectiveFilter.value,r=d.effectiveCaseSensitive.value,n=d.filterShowFullDays.value,o=d.forceFullDays.value;if(!e)return t;try{let i=new RegExp(e,r?"":"i"),a=t.filter(s=>o.length>0&&o.includes(s.day)||i.test(s.text));if(n){let s=new Set;for(let l of a)s.add(l.day);a=t.filter(l=>s.has(l.day)||o.includes(l.day))}return a}catch{return[]}}function hf(){let t=d.selectedRange.value;if(t){let e=qt(t[1],t[0]);return`${e} day${e>1?"s":""} selected`}}function vs(t,e){let r={};for(let o of t){let i=r[o.day];i||(i=[],r[o.day]=i),i.push(o)}let n=[];for(let o in r)n.push(o),r[o].sort((i,a)=>e?i.date.valueOf()-a.date.valueOf():a.date.valueOf()-i.date.valueOf());return n.sort((o,i)=>e?o.localeCompare(i):i.localeCompare(o)),{sortedDays:n,items:r}}function gf(){let t=d.highlight.value,e=d.highlightCaseSensitive.value,r=[];if(t)try{for(let n of t.split(`
`))if(n){let o=new RegExp(n,e?"":"i");r.push({text:n,regexp:o})}}catch{}return r}function In(t){let e=d.highlightPatterns.value,r=[];for(let n=0;n<e.length;n++)e[n].regexp.test(t)&&r.push(n);return r}function yf(){return d.highlight.value.split(/\n+/).filter(t=>t!=="").join("|")}function vf(){return d.filterUsingHighlight.value?d.filterFromHighlight.value:d.filter.value}function _f(){let t=d.tagTotalsIncludeFiltered.value?d.taggedItems.value:d.itemsToShow.value,e=d.taggers.value,r=new Map;for(let o of t){if(!o.tags)continue;let i=r.get(o.day);i||(i=new Map,r.set(o.day,i));for(let a of o.tags){let s=i.get(a.unitName)||0;i.set(a.unitName,s+a.quantity)}}let n={};for(let[o,i]of r){let a=[];for(let s of e){let l=i.get(s.unitName);typeof l=="number"&&a.push({unitName:s.unitName,quantity:l})}n[o]=a}return n}function wf(){try{return console.time("loadTaggers"),JSON.parse(localStorage[Qo]).map(e=>({excludePattern:e.excludePattern,includePattern:e.includePattern,unitName:e.unitName}))}catch{return[]}finally{console.timeEnd("loadTaggers")}}function xf(){try{let t=parseInt(localStorage[ys],10);if(t>=0)return t}catch{}return 0}function oe(t){return gt(t,"yyyyMMdd")}function _s(t){return gt(t,"yyyy-MM-dd EEE")}function Mn(t,e){let r=Fr(t,e),n=r<0?"-":"";r=Math.abs(r);let o=Math.trunc(r/60),i="0"+Math.trunc(r%60).toString();return n+o+":"+i.substring(i.length-2)}function En(t){return t.error?.message?String(t.error.message):t.result?t.result.error?JSON.stringify(t.result.error):JSON.stringify(t.result):String(t)}function Sn(t){let e=En(t);d.errors.value=rt(d.errors.value,r=>{r.includes(e)||r.push(e)})}function ws(t){d.errors.value=rt(d.errors.value,e=>{e.splice(t,1)})}function On(){it(()=>{d.filter.value="",d.filterCaseSensitive.value=!1,d.filterShowFullDays.value=!1,d.filterUsingHighlight.value=!0,d.forceFullDays.value=[],d.highlight.value="",d.highlightCaseSensitive.value=!1,d.newItemText.value="",d.pageIndex.value=0,d.selectedRange.value=void 0,d.showTaggers.value=!1,d.showTimeline.value=!1,d.sortAscending.value=!1,d.tagShowMode.value="DAY_SUMMARIES",d.tagTotalsIncludeFiltered.value=!0}),document.body.dispatchEvent(new CustomEvent("custom_reset")),document.getElementById("scroll-root").scrollTo(0,0)}var Jo={root:"m",error:"n"};var Tf=0,Dw=Array.isArray;function p(t,e,r,n,o,i){e||(e={});var a,s,l=e;if("ref"in l)for(s in l={},e)s=="ref"?a=e[s]:l[s]=e[s];var u={type:t,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Tf,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(a=t.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return H.vnode&&H.vnode(u),u}function Zo(){let t=d.errors.value;return p("div",{class:Jo.root,children:t.map((e,r)=>p("div",{class:Jo.error,children:[p("button",{onClick:()=>ws(r),children:"Clear"}),e]},r))})}var Et={root:"t",topBorder:"l",dayHeader:"o",displayDate:"d",toggleFullDayButton:"i",pageButtons:"r",tagTotals:"g",gap1:"s",gap2:"p"};var xs=["orange","#59adff","limegreen","yellow","rebeccapurple","sienna"];function je(t){return xs[t%xs.length]}var Tt={root:"c",editRoot:"f",editError:"b",pendingDelete:"h",actions:"u",time:"x",itemRelativeTime:"y",linger:"w",textAndTags:"k",swatch:"v"};var bs="notes_items";function Ge(t){console.time("save items to localStorage");let e=0,r=new Map,n={strings:{},items:[]},o=i=>{let a=r.get(i);return a===void 0&&(a=++e,n.strings[a]=i,r.set(i,a)),a};for(let i of t)n.items.push([o(i.spreadsheetId),i.rowNum,i.date.valueOf(),o(i.text)]);window.localStorage[bs]=JSON.stringify(n),console.timeEnd("save items to localStorage")}function Ts(){try{console.time("load items from localStorage");let t=JSON.parse(window.localStorage[bs]||"null");if(!t)return;let e=n=>t.strings[n],r=[];for(let n of t.items){let[o,i,a,s]=n,l=new Date(a),u={key:"",spreadsheetId:e(o),rowNum:i,text:e(s),date:l,day:oe(l)};Ie(u),r.push(u)}console.timeEnd("load items from localStorage"),d.trackingItems.value=r}catch{}}var If="328707944394-ev19dnlf5guu0vn8p9cn6u0lckqbfhru.apps.googleusercontent.com",Vt=new URLSearchParams(window.location.search).getAll("id")||[],ti="notes_pending_add",Pn=new Promise(t=>{gapi.load("client:auth2",()=>{t(gapi.client.init({clientId:If,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets"}))})});function ei(){let t=[];try{t=JSON.parse(window.localStorage[ti]||"[]")}catch(e){console.error("failed to parse pending notes to add",e)}for(let e of t)e.timestamp=new Date(e.timestamp);return t}function Mf(t,e){let r=ei(),n=1+r.reduce((o,i)=>Math.max(o,i.id),0);return r.push({id:n,text:e,timestamp:t}),window.localStorage[ti]=JSON.stringify(r),n}function Is(t){let e=ei(),r=e.filter(n=>n.id!==t);if(r.length+1!==e.length)throw Error("BUG: deletePendingItem");window.localStorage[ti]=JSON.stringify(r)}async function Ef(){for(let t of ei())await Ss(Vt[0],t.timestamp,t.text),Is(t.id)}var ks=Ht(async t=>{d.googleSignedIn.value=t,t&&await Ef()});Pn.then(Ht(async()=>{let t=gapi.auth2.getAuthInstance().isSignedIn.get();await ks(t),gapi.auth2.getAuthInstance().isSignedIn.listen(ks)}));var Sf=(async function(t,e){let r={};await Pn;for(let n of Vt){let o=await gapi.client.sheets.spreadsheets.get({spreadsheetId:n,fields:"sheets.properties"});r[n]=o.result.sheets[0].properties.sheetId}return r})();function Ie(t){t.key=t.date+" "+t.text}Ts();function Ht(t){return async(...e)=>{d.busy.value++;try{return await t(...e)}finally{d.busy.value--}}}var ri=Ht(async(t,e)=>{await Pn;let r=1,n="A:B";return e&&(r=e.rowNum,n=`A${e.rowNum}:B${e.rowNum+e.count}`),((await gapi.client.sheets.spreadsheets.values.get({spreadsheetId:t,range:n})).result.values||[]).filter(i=>i[0]).map(i=>{let a=new Date(i[0]),s=oe(a),l={spreadsheetId:t,rowNum:r++,key:"",day:s,date:a,text:i[1]};return Ie(l),l})}),Cn=Ht(async()=>{let t=[];for(let e of Vt){let r=await ri(e);t=t.concat(r)}d.trackingItems.value=t,Ge(t)}),Ms=Ht(async t=>{let e=(await Sf)[t.spreadsheetId],r=await ri(t.spreadsheetId,{rowNum:t.rowNum,count:1});if(r[0].key!==t.key)throw Error(`Unable to delete. Please reload data. Key at row ${t.rowNum} is ${r[0].key}`);await gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:t.spreadsheetId,resource:{requests:[{deleteDimension:{range:{sheetId:e,dimension:"ROWS",startIndex:t.rowNum-1,endIndex:t.rowNum}}}]}})}),Ke="M/d/yyyy H:mm:ss",Es=Ht(async t=>{let e=await ri(t.spreadsheetId,{rowNum:t.rowNum,count:1});if(e[0].key!==t.key)throw Error(`Unable to edit item. Please reload data. Key at row ${t.rowNum} is ${e[0].key}`);await gapi.client.sheets.spreadsheets.values.update({spreadsheetId:t.spreadsheetId,range:`A${t.rowNum}:B${t.rowNum}`,valueInputOption:"RAW",resource:{values:[[gt(t.date,Ke),t.text]]}})});async function Ss(t,e,r){await Pn;let o=(await gapi.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:"A:A",valueInputOption:"RAW",resource:{values:[[gt(e,Ke),r]]}})).result.updates?.updatedRange,i=parseInt(/!A(\d+)/.exec(o)[1],10),a=oe(e),s={spreadsheetId:t,rowNum:i,text:r,day:a,date:e,key:""};Ie(s),d.trackingItems.value=rt(d.trackingItems.value,l=>{l.push(s)}),Ge(d.trackingItems.value)}var Nn=Ht(async(t,e)=>{let r=Mf(t,e);await Ss(Vt[0],t,e),Is(r)});async function Of(){return(await gapi.client.sheets.spreadsheets.get({spreadsheetId:Vt[0],fields:"sheets.properties"})).result.sheets.map(e=>({id:e.properties.sheetId,title:e.properties.title}))}async function Pf(t){await gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:Vt[0],resource:{requests:[{addSheet:{properties:{title:t}}}]}})}var Ds="settings",Os=Ht(async t=>{(await Of()).find(r=>r.title.toLowerCase()===Ds)||await Pf(Ds),await gapi.client.sheets.spreadsheets.values.update({spreadsheetId:Vt[0],range:"settings!A1",valueInputOption:"RAW",resource:{values:[[JSON.stringify(t,null,3)]]}})}),Ps=Ht(async()=>{let t=await gapi.client.sheets.spreadsheets.values.get({spreadsheetId:Vt[0],range:"settings!A1"});return JSON.parse(t.result.values[0][0])});function Cs(t){it(()=>{d.referenceDate.value=t,d.referenceDateNow.value=!1})}function Cf({itemDate:t}){let e=d.referenceDate.value,r=Mn(t,e);return r.length>6?null:p("span",{class:Tt.itemRelativeTime,onClick:()=>Cs(t),children:r})}function Nf({item:t,tagShowMode:e,swatches:r}){let n=d.busy.value>0,o=et(!1),i=et(!1),a=et(""),s=et({error:!1});lt(()=>{function h(){a.value=""}return document.body.addEventListener("custom_reset",h),()=>document.body.removeEventListener("custom_reset",h)},[]);async function l(h){let y=new Date;o.value=!0,setTimeout(()=>o.value=!1,3e3),Nn(y,h)}function u(h){/\S/.test(h)&&it(()=>{d.highlight.value=h.replace(/[^-A-Z0-9_]/i,""),d.filterUsingHighlight.value&&(d.filterUsingHighlight.value=!1,d.filter.value="")})}function c(h){try{let y=h.indexOf(`
`),v=ms(h.substring(0,y).trim(),Ke,new Date);if(Number.isNaN(v.getDate())){s.value={error:!0};return}let x=h.substring(y+1).trim();s.value={text:x,date:v,error:!1}}catch{s.value={error:!0}}}async function f(h){try{switch(h.currentTarget.value){case"ANOTHER":l(t.text);break;case"USE_TEXT":d.newItemText.value=t.text,document.getElementById("scroll-root").scrollTo(0,0);let v=document.getElementById("new-item-input");v.focus(),setTimeout(()=>{v.setSelectionRange(0,0)},0);break;case"EDIT":let x=`${gt(t.date,Ke)}
${t.text}`;a.value=x,c(x);break;case"DELETE":let b=`Delete row ${t.rowNum}?
`+gt(t.date,"h:mm aaaaa")+`
`+t.text;i.value=!0,setTimeout(async()=>{try{window.confirm(b)&&(await Ms(t),await Cn())}finally{i.value=!1}},0);break}}finally{h.currentTarget.value=""}}if(a.value){let y=function(b){b.ctrlKey&&b.key==="Enter"?h():b.key==="Escape"&&(a.value="")},v=function(){try{return Go(s.value.date)!==Go(t.date)||s.value.text!==t.text}catch{return!1}},x=function(b){a.value=b,c(b)};var g=y,w=v,T=x;async function h(){let b=rt(t,P=>{P.date=s.value.date,P.text=s.value.text});await Es(b);let k=!1;if(it(()=>{let P=rt(d.trackingItems.value,A=>{for(let L=0;L<A.length;L++)if(A[L].key===t.key){A[L].date=b.date,A[L].text=b.text,A[L].day=oe(A[L].date),Ie(A[L]),k=!0;break}});d.trackingItems.value=P}),!k)throw Error("BUG: could not find item with key "+t.key);Ge(d.trackingItems.value)}return p("div",{class:Tt.editRoot,children:[p("button",{disabled:n,onClick:()=>a.value="",children:"Cancel"}),p("textarea",{class:s.value.error?Tt.editError:"",disabled:n,value:a.value,onKeyDown:y,ref:b=>b?.focus(),spellcheck:!1,onInput:b=>x(b.currentTarget.value)}),p("button",{disabled:n||!v(),onClick:h,children:"Save"})]})}let m=Tt.root;return i.value?m+=" "+Tt.pendingDelete:o.value&&(m+=" "+Tt.linger),p("div",{class:m,children:[p("div",{class:Tt.time,onClick:()=>Cs(t.date),children:gt(t.date,"h:mm aaaaa")}),p("select",{disabled:n,onInput:f,class:Tt.actions,children:[p("option",{selected:!0,disabled:!0,style:{display:"none"}}),p("option",{value:"ANOTHER",children:["Another ",t.text]}),p("option",{value:"USE_TEXT",children:"Use Text"}),p("option",{value:"EDIT",children:"Edit..."}),p("option",{value:"DELETE",children:"Delete..."})]}),p("div",{class:Tt.textAndTags,children:p("span",{children:[p(Cf,{itemDate:t.date}),p("span",{style:{marginRight:"0.5em"},children:t.text.split(/\b/).map((h,y)=>p("span",{onMouseMove:v=>v.altKey&&u(h),children:h},y))}),r.map((h,y)=>p(R,{children:[p("span",{class:Tt.swatch,style:{backgroundColor:h},children:"             "}),p("span",{children:" "})]},y)),t.tags&&e==="ALL"&&t.tags.map((h,y)=>p("div",{class:"tag",children:[h.quantity," ",h.unitName]},y))]})})]})}function oi(t){let e=In(t.item.text).map(je),r=Nt(e);if(r.current!==e){let n=!1;if(r.current.length===e.length){n=!0;for(let o=0;o<e.length;o++)if(r.current[o]!==e[o]){n=!1;break}}n?e=r.current:r.current=e}return p(Nf,{swatches:e,...t})}function ii({day:t,prevVisibleDay:e,nextVisibleDay:r,items:n,filtered:o,tagTotals:i,reverseSort:a,scrollToDay:s}){let l=_s(n[0].date),u=qt(new Date,n[0].date),c=d.tagShowMode.value,f=d.gapMin.value,m=d.filterShowFullDays.value,g=d.forceFullDays.value,w=d.sortAscending.value;function T(b){document.getElementById("scroll-root").scrollTo(0,0),b.preventDefault(),b.stopPropagation()}function h(b,k){b.stopPropagation(),s(k)}function y(b){b.stopPropagation(),a(t)}function v(b){b.stopPropagation();let k=document.getElementById("day-"+t),P=k.getBoundingClientRect().top;d.forceFullDays.value=rt(d.forceFullDays.value,A=>{if(A.includes(t))return A.filter(L=>L!==t);A.push(t)}),P<0&&k.scrollIntoView()}let x=Le(()=>g.includes(t),[g,t]);return p("div",{id:"day-"+t,class:Et.root+" day",children:[p("div",{class:Et.topBorder}),p("div",{class:Et.dayHeader,children:[p("span",{onClick:T,class:Et.displayDate,children:[l,","," ",u===0?"today":u===1?"yesterday":p("span",{children:[u,"\xA0days\xA0ago"]})]}),x||o&&!m?p("button",{onClick:v,title:"toggle full day",class:Et.toggleFullDayButton,children:p("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"translate(-0.8,0.75) scale(1.05)",children:[p("path",{transform:"translate(-0.18407236,-15.880162)",d:"m 47,31.1 v 23.903057 h 6 V 31.1 l 16.423971,15.994168 4.2,-4.3 L 50,19.6 27.04842,42.572481 l 4.2,4.3 z"}),p("rect",{id:"rect934",width:"67.770233",height:"4.7536263",x:"15.795475",y:"44.614605"}),p("path",{id:"path936",d:"M 53.488319,79.672898 V 55.769841 h -6 V 79.672898 L 31.064348,63.67873 l -4.2,4.3 23.623971,23.194168 22.95158,-22.972481 -4.2,-4.3 z"})]})}):p("span",{}),p("div",{class:Et.pageButtons,children:[p("button",{onClick:y,title:"reverse sort",children:p("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 24 24",focusable:"false",pointerEvents:"none",children:p("path",{d:"M0 4.41422L4.41418 0L5.82837 1.41422L3.82837 3.41422H11.4142C15.2802 3.41422 18.4142 6.54822 18.4142 10.4142C18.4142 14.2802 15.2802 17.4142 11.4142 17.4142H2.41418V15.4142H11.4142C14.1757 15.4142 16.4142 13.1756 16.4142 10.4142C16.4142 7.65279 14.1757 5.41422 11.4142 5.41422H3.82837L5.82837 7.41422L4.41418 8.82843L0 4.41422Z",transform:`translate(2.58582 22.58578) rotate(${w?"90,19,0":"-90"})`,fill:"black"})})}),p("button",{disabled:e===void 0,onClick:b=>h(b,e),title:"scroll to prev day "+e,children:p("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"scale(1.25)",focusable:"false",pointerEvents:"none",children:p("polygon",{points:"27.9,50.2 47,31.1 47,80.4 53,80.4 53,31.1 72.1,50.2 76.3,45.9 50,19.6 23.7,45.9"})})}),p("button",{disabled:r===void 0,onClick:b=>h(b,r),title:"scroll to next day "+r,children:p("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"rotate(180) scale(1.25)",focusable:"false",pointerEvents:"none",children:p("polygon",{points:"27.9,50.2 47,31.1 47,80.4 53,80.4 53,31.1 72.1,50.2 76.3,45.9 50,19.6 23.7,45.9"})})})]})]}),i&&i.length>0&&p("div",{class:Et.tagTotals,children:i.map(b=>p("div",{class:"tag",children:[b.quantity," ",b.unitName]},b.unitName))}),c!=="DAY_SUMMARIES_ONLY"&&n.map((b,k)=>p(R,{children:[p(oi,{item:b,tagShowMode:c}),!o&&f>0&&k+1<n.length&&Af(f,b,n[k+1])]},b.key))]})}function Af(t,e,r){let n=Math.abs(Fr(e.date,r.date));if(n<t)return null;let o=Math.sqrt(n*10)+5;return p(R,{children:[p("div",{class:Et.gap1,style:{height:o},children:"\xA0"}),p("div",{class:Et.gap2,style:{height:o},children:"\xA0"})]})}var Me={days:"z",controls:"j",gapMinInput:"F",nothing:"H",gapControls:"R"};var An={root:"W",buttons:"S",pageNumber:"q"};function Rn({isTopPaginator:t,topScrollSelector:e,bottomScrollSelector:r,itemsByDay:n}){let o=d.busy.value>0,i=d.pageIndex.value,s=Math.ceil(n.sortedDays.length/10)-1;function l(x){d.pageIndex.value=x}function u(){e&&requestAnimationFrame(()=>{document.querySelector(e).scrollIntoView()})}function c(){r&&requestAnimationFrame(()=>{document.querySelector(r).scrollIntoView()})}function f(){l(0),t||c()}function m(){l(0),u()}function g(){l(i-1),t||c()}function w(){l(i-1),c()}function T(){l(i+1),t||c()}function h(){l(i+1),u()}function y(){l(s),t||c()}function v(){l(s),c()}return n.sortedDays.length===0?null:p("div",{class:An.root,children:[p("div",{class:An.pageNumber,children:["Page ",i+1," of ",s+1," (",n.sortedDays.length," days)"]}),p("div",{class:An.buttons,children:[!t&&p("button",{onClick:m,disabled:o||i===0&&t,title:"first page and scroll to top",children:"\u2191<<"}),p("button",{onClick:f,disabled:o||i===0,title:"first page",children:"<<"}),t&&p("button",{onClick:w,disabled:o||i===0,title:"previous page and scroll to bottom",children:"\u2193<"}),p("button",{onClick:g,disabled:o||i===0,title:"previous page",children:"<"}),p("button",{onClick:T,disabled:o||i===s,title:"next page",children:">"}),!t&&p("button",{onClick:h,disabled:o||i===s,title:"next page and scroll to top",children:">\u2191"}),p("button",{onClick:y,disabled:o||i===s,title:"last page",children:">>"}),t&&p("button",{onClick:v,disabled:o||i===s&&!t,title:"last page and scroll to bottom",children:">>\u2193"})]})]})}var Qe=10;function Hf(t){let e="day-"+t,r=Math.round(document.getElementById(e).getBoundingClientRect().y);it(()=>{d.pageIndex.value=Math.floor(d.itemsToShowByDay.value.sortedDays.slice().reverse().findIndex(n=>n===t)/Qe),d.sortAscending.value=!d.sortAscending.value}),queueMicrotask(()=>{let n=document.getElementById(e);document.getElementById("scroll-root").scrollTo(0,n.offsetTop-r)})}function Lf(t){d.pageIndex.value=Math.floor(d.itemsToShowByDay.value.sortedDays.findIndex(e=>e===t)/Qe),queueMicrotask(()=>{document.getElementById("day-"+t).scrollIntoView()})}function ai(){if(d.itemsToShow.value.length===0)return p("div",{class:Me.nothing,children:"(nothing found)"});let t=d.busy.value>0,e=d.gapMin.value,r=d.itemsToShowByDay.value,n=d.sortAscending.value,o=d.pageIndex.value,i=d.allDaysDisplaySorted.value,a=!d.filterShowFullDays.value&&d.effectiveFilter.value.length>0,s=d.tagTotalsByDay.value,l=d.dayToIndex.value,u=d.visibleDays.value,c=Qe*o,f=r.sortedDays.slice(c,c+Qe);return p("div",{children:[p("div",{class:Me.controls,children:[p("label",{children:["Gap min:",p("input",{class:Me.gapMinInput,type:"number",value:e,min:0,step:10,onInput:m=>d.gapMin.value=m.currentTarget.valueAsNumber||0})]}),p("label",{children:[p("input",{type:"checkbox",disabled:t,checked:n,onInput:m=>d.sortAscending.value=m.currentTarget.checked}),"Sort Ascending"]})]}),p("div",{id:"pagination-top-scroll"}),p(Rn,{itemsByDay:r,isTopPaginator:!0,topScrollSelector:"#pagination-top-scroll",bottomScrollSelector:"#pagination-bottom-scroll"}),p("div",{class:Me.days,children:[As(i,l,u,"",f[0],!1),f.map((m,g)=>{let w=r.sortedDays[c+g-1],T=r.sortedDays[c+g+1];return p(R,{children:[p(ii,{day:m,prevVisibleDay:w,nextVisibleDay:T,items:r.items[m],filtered:a,tagTotals:s?s[m]:void 0,reverseSort:Hf,scrollToDay:Lf}),As(i,l,u,m,f[g+1],g+1===Qe)]},m)})]}),p(Rn,{itemsByDay:r,isTopPaginator:!1,topScrollSelector:"#pagination-top-scroll",bottomScrollSelector:"#pagination-bottom-scroll"}),p("div",{id:"pagination-bottom-scroll"})]})}function Ns(t){d.forceFullDays.value=rt(d.forceFullDays.value,e=>{e.push(t)})}function As(t,e,r,n,o,i){let a=e.get(n),s=e.get(o),l="",u="",c=0,f=!1,m="\u2193";if(a===void 0){if(s===void 0)throw Error("BUG");if(s===0)return null;let w=t[s-1];r.has(w)||(l=w,m="\u2191")}else if(s===void 0){if(a===t.length-1)return null;let w=t[a+1];r.has(w)||(l=w)}else{if(c=s-a-1,c<1)return null;c>1?f=!0:m="\u2191\u2193",l=t[a+1],u=t[s-1]}if(!l)return null;function g(){Ns(l),i&&(d.pageIndex.value++,requestAnimationFrame(()=>{document.getElementById("day-"+l).scrollIntoView()}))}return p("div",{class:Me.gapControls,children:[p("button",{onClick:g,children:`${m} ${l}`}),f&&p(R,{children:[c>2&&p(R,{children:["\u2026",c-2,"\u2026"]}),p("button",{onClick:()=>Ns(u),children:["\u2191 ",u]})]})]})}function Ee(t){let e=et(t),r=Nt(t);return r.current!==t&&(e.value=t,r.current=t),e}function Se(t,e,r){let n=Nt(),o=Nt(t);o.current!==t&&(n.current!==void 0&&window.clearTimeout(n.current),o.current=t,n.current=window.setTimeout(i,e));function i(){r(o.current)}lt(()=>(n.current=window.setTimeout(i,e),function(){n.current!==void 0&&(window.clearTimeout(n.current),n.current=void 0)}),[e])}function si(){let t=d.filter.value,e=d.highlight.value,r=d.filterShowFullDays.value,n=d.filterCaseSensitive.value,o=d.filterUsingHighlight.value,i=d.highlightCaseSensitive.value,a=Ee(t);Se(a.value,200,c=>{d.filter.value=c});function s(){d.filter.value=d.filterFromHighlight.value,d.filterCaseSensitive.value=d.highlightCaseSensitive.value}function l(c){c.key==="Escape"&&(a.value="",d.filter.value="")}function u(){d.filter.value="",a.value="",d.filterShowFullDays.value=!1}return p("div",{children:[p("button",{disabled:o||t.length===0,onClick:u,children:"Clear"}),p("button",{disabled:o||e.length===0,onClick:s,children:"From Highlight"}),p("input",{disabled:o,autoCapitalize:"off",spellcheck:!1,placeholder:o?"(using highlight)":"filter regexp",type:"text",value:o?"":a,onInput:c=>a.value=c.currentTarget.value,onKeyDown:l}),p("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[p("input",{type:"checkbox",checked:r,onInput:c=>d.filterShowFullDays.value=c.currentTarget.checked}),"Show full days"]}),p("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[p("input",{type:"checkbox",disabled:o,checked:o?i:n,onInput:c=>d.filterCaseSensitive.value=c.currentTarget.checked}),"Case sensitive"]}),p("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[p("input",{type:"checkbox",checked:o,onInput:c=>d.filterUsingHighlight.value=c.currentTarget.checked}),"Filter using highlight"]})]})}function ui(){return lt(()=>{let t,e=0;function r(n){let o=new Date().valueOf(),i=o-e<=1e3;if(n.key==="Escape"&&t==="Escape"&&i){On(),document.getElementById("new-item-input").focus(),t=void 0,e=0;return}if(t=n.key,e=o,n.key==="/"&&n.ctrlKey){let a=document.getElementById("highlight-input");a&&(a.focus(),a.select(),n.preventDefault())}}return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),null}function li(){let t=d.busy.value>0,e=d.highlight.value,r=d.highlightCaseSensitive.value,n=et(!1),o=Ee(e);lt(()=>{function u(){let c=window.getSelection();n.value=!c?.isCollapsed}return document.addEventListener("selectionchange",u),()=>document.removeEventListener("selectionchange",u)},[]),Se(o.value,200,u=>{d.highlight.value=u});function i(){d.highlight.value="",o.value=""}function a(u){u.key==="Escape"&&i()}function s(){d.highlight.value=window.getSelection()+""}function l(u){d.highlightCaseSensitive.value=u.currentTarget.checked}return p(R,{children:[p("textarea",{id:"highlight-input",autoCapitalize:"off",value:o,placeholder:"highlight regexp(s), one per line (Ctrl-/)",spellcheck:!1,onKeyDown:a,onInput:u=>o.value=u.currentTarget.value}),p("div",{children:[p("div",{children:p("button",{disabled:o.value.length===0,onClick:i,children:"Clear"})}),p("div",{children:p("button",{disabled:t||!n.value,onClick:s,children:"Use selection"})}),p("div",{children:p("label",{children:[p("input",{type:"checkbox",checked:r,onInput:l}),"Case sensitive"]})})]})]})}function $f(){d.newItemText.value=""}function Yf(t){d.newItemText.value=t.currentTarget.value}function zf(t){t.ctrlKey&&t.key==="Enter"&&Rs()}function Rs(){let e=d.newItemText.value.replace(/^\s+|\s+$/g,"");if(!e)return;let r=new Date;if(e[0]==="@")if(e[1]==="-"||e[1]==="+"){let n=/^@([-+]\d+)\s+(.+)$/.exec(e);if(!n){window.alert("Invalid relative time designation");return}e=n[2],r=La(r,{minutes:parseInt(n[1],10)})}else{let n=/^@([01]?\d):?([0-5]\d)\s*?(am?|pm?|)\s+(.+)$/i.exec(e);if(!n){window.alert("Invalid time designation");return}let o=parseInt(n[1],10),i=parseInt(n[2],10);if(e=n[4],n[3]==="")for(r=Ko(r,{hours:o+12,minutes:i,seconds:0});r>new Date;)r=Ya(r,-12);else{let a=n[3][0].toLowerCase()==="a";a&&o===12?o=0:!a&&o!==12&&(o+=12),r=Ko(r,{hours:o,minutes:i,seconds:0})}}d.addInProgress.value=!0,Nn(r,e).then(()=>{d.newItemText.value=""}).finally(()=>d.addInProgress.value=!1)}function ci(){let t=d.newItemText.value,e=d.addInProgress.value;return p(R,{children:[p("button",{disabled:t.length===0,onClick:$f,children:"Clear"}),p("textarea",{id:"new-item-input",disabled:e,autoCapitalize:"off",value:t,onInput:Yf,onKeyDown:zf}),p("button",{disabled:e||t.length===0,onClick:Rs,children:"Add"})]})}var kt={root:"e",topBar:"A",controlBar:"B",nowTimeDiff:"C",version:"D",selectedRangeText:"E"};function fi(){let t=d.referenceDate.value,e=d.referenceDateNow.value,r=et(new Date);lt(()=>{let o=window.setInterval(()=>{it(()=>{r.value=new Date,e&&(d.referenceDate.value=r.value)})},15e3);return()=>clearInterval(o)},[e]);function n(){it(()=>{d.referenceDate.value=new Date,d.referenceDateNow.value=!0})}return p(R,{children:[p("button",{disabled:e,onClick:n,children:"Set ref. time to now"}),!e&&p("span",{class:kt.nowTimeDiff,children:[Mn(r.value,t)," since reference time"]})]})}var St={root:"G",jsonEditor:"I",patternInput:"J",inputs:"K",buttons:"L",jsonError:"M",showTags:"N",bottomCheck:"O"};function pi(){let t=d.busy.value>0,e=d.taggers.value,r=d.showTaggers.value,n=d.tagShowMode.value,o=et(!1),i=et(),a=et(""),s=d.tagTotalsIncludeFiltered.value,l=Ee(e),u=Nt(o.value);lt(()=>{window.localStorage[Qo]=JSON.stringify(e),o.value&&!u.current?i.value=JSON.stringify(e,null,3):!o.value&&u.current&&(i.value="",a.value=""),u.current=o.value},[e,o.value]),lt(()=>{r||(o.value=!1)},[r]);function c(){d.taggers.value=rt(d.taggers.value,h=>{h.push({includePattern:"",excludePattern:"",unitName:""})})}function f(){d.showTaggers.value=!d.showTaggers.value}function m(h){i.value=h.currentTarget.value;try{let y=[],v=JSON.parse(h.currentTarget.value);for(let x of v)y.push({includePattern:x.includePattern,excludePattern:x.excludePattern,unitName:x.unitName});d.taggers.value=y,a.value=""}catch(y){a.value=En(y)}}async function g(){await Os({taggers:e})}async function w(){let h=await Ps();d.taggers.value=h.taggers.map(y=>({includePattern:y.includePattern,excludePattern:y.excludePattern,unitName:y.unitName}))}Se(l.value,500,h=>{d.taggers.value=h});function T(h){let y=rt(e,h);l.value=y}return p("div",{class:St.root,children:[p("div",{class:St.buttons,children:[p("label",{class:St.showTags,children:["Show tags:",p("select",{value:n,onInput:h=>d.tagShowMode.value=h.currentTarget.value,children:[p("option",{value:"NONE",children:"None"}),p("option",{value:"DAY_SUMMARIES",children:"Day summaries"}),p("option",{value:"DAY_SUMMARIES_ONLY",children:"Day summaries only"}),p("option",{value:"ALL",children:"All"})]})]}),p("button",{onClick:f,children:"Toggle Taggers Editor"}),r&&p(R,{children:[p("button",{disabled:t,onClick:()=>o.value=!o.value,children:"as JSON"}),!o.value&&p(R,{children:[p("button",{disabled:t,onClick:c,children:"Add Tagger"}),p("button",{disabled:t,onClick:g,children:"Save"}),p("button",{disabled:t,onClick:w,children:"Load"})]})]})]}),r&&(o.value?p(R,{children:[p("textarea",{disabled:t,class:St.jsonEditor,value:i,onInput:m,spellcheck:!1}),p("div",{class:St.jsonError,children:a.value||p(R,{children:"\xA0"})})]}):p("div",{class:St.inputs,children:l.value.map((h,y)=>p(R,{children:[p("input",{disabled:t,placeholder:"unit name",type:"text",value:h.unitName,onInput:v=>{T(x=>{x[y].unitName=v.currentTarget.value})}}),p("input",{disabled:t,spellcheck:!1,class:St.patternInput,placeholder:"include",type:"text",value:h.includePattern,onInput:v=>{T(x=>{x[y].includePattern=v.currentTarget.value})}}),p("input",{disabled:t,spellcheck:!1,class:St.patternInput,placeholder:"exclude",type:"text",value:h.excludePattern,onInput:v=>{T(x=>{x[y].excludePattern=v.currentTarget.value})}})]},y))})),p("div",{class:St.bottomCheck,children:p("label",{children:[p("input",{type:"checkbox",checked:s,onInput:h=>d.tagTotalsIncludeFiltered.value=h.currentTarget.checked}),"Include filtered items in totals"]})})]})}var qf={value:()=>{}};function Hs(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Fn(r)}function Fn(t){this._=t}function Vf(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Fn.prototype=Hs.prototype={constructor:Fn,on:function(t,e){var r=this._,n=Vf(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=Uf(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=Fs(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Fs(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Fn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function Uf(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Fs(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=qf,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var di=Hs;var Hn="http://www.w3.org/1999/xhtml",mi={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),mi.hasOwnProperty(e)?{space:mi[e],local:t}:t}function Xf(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Hn&&e.documentElement.namespaceURI===Hn?e.createElement(t):e.createElementNS(r,t)}}function jf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ln(t){var e=Lt(t);return(e.local?jf:Xf)(e)}function Gf(){}function ie(t){return t==null?Gf:function(){return this.querySelector(t)}}function Ls(t){typeof t!="function"&&(t=ie(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=t.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Q(n,this._parents)}function hi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Kf(){return[]}function Je(t){return t==null?Kf:function(){return this.querySelectorAll(t)}}function Qf(t){return function(){return hi(t.apply(this,arguments))}}function $s(t){typeof t=="function"?t=Qf(t):t=Je(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(n.push(t.call(l,l.__data__,u,a)),o.push(l));return new Q(n,o)}function Ze(t){return function(){return this.matches(t)}}function $n(t){return function(e){return e.matches(t)}}var Jf=Array.prototype.find;function Zf(t){return function(){return Jf.call(this.children,t)}}function tp(){return this.firstElementChild}function Ys(t){return this.select(t==null?tp:Zf(typeof t=="function"?t:$n(t)))}var ep=Array.prototype.filter;function rp(){return Array.from(this.children)}function np(t){return function(){return ep.call(this.children,t)}}function zs(t){return this.selectAll(t==null?rp:np(typeof t=="function"?t:$n(t)))}function Bs(t){typeof t!="function"&&(t=Ze(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new Q(n,this._parents)}function Yn(t){return new Array(t.length)}function Ws(){return new Q(this._enter||this._groups.map(Yn),this._parents)}function tr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}tr.prototype={constructor:tr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qs(t){return function(){return t}}function op(t,e,r,n,o,i){for(var a=0,s,l=e.length,u=i.length;a<u;++a)(s=e[a])?(s.__data__=i[a],n[a]=s):r[a]=new tr(t,i[a]);for(;a<l;++a)(s=e[a])&&(o[a]=s)}function ip(t,e,r,n,o,i,a){var s,l,u=new Map,c=e.length,f=i.length,m=new Array(c),g;for(s=0;s<c;++s)(l=e[s])&&(m[s]=g=a.call(l,l.__data__,s,e)+"",u.has(g)?o[s]=l:u.set(g,l));for(s=0;s<f;++s)g=a.call(t,i[s],s,i)+"",(l=u.get(g))?(n[s]=l,l.__data__=i[s],u.delete(g)):r[s]=new tr(t,i[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(m[s])===l&&(o[s]=l)}function ap(t){return t.__data__}function Vs(t,e){if(!arguments.length)return Array.from(this,ap);var r=e?ip:op,n=this._parents,o=this._groups;typeof t!="function"&&(t=qs(t));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=n[u],f=o[u],m=f.length,g=sp(t.call(c,c&&c.__data__,u,n)),w=g.length,T=s[u]=new Array(w),h=a[u]=new Array(w),y=l[u]=new Array(m);r(c,f,T,h,y,g,e);for(var v=0,x=0,b,k;v<w;++v)if(b=T[v]){for(v>=x&&(x=v+1);!(k=h[x])&&++x<w;);b._next=k||null}}return a=new Q(a,n),a._enter=s,a._exit=l,a}function sp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Us(){return new Q(this._exit||this._groups.map(Yn),this._parents)}function Xs(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function js(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=r[l],c=n[l],f=u.length,m=s[l]=new Array(f),g,w=0;w<f;++w)(g=u[w]||c[w])&&(m[w]=g);for(;l<o;++l)s[l]=r[l];return new Q(s,this._parents)}function Gs(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Ks(t){t||(t=up);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],s=a.length,l=o[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Q(o,this._parents).order()}function up(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Js(){return Array.from(this)}function Zs(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function tu(){let t=0;for(let e of this)++t;return t}function eu(){return!this.node()}function ru(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,s;i<a;++i)(s=o[i])&&t.call(s,s.__data__,i,o);return this}function lp(t){return function(){this.removeAttribute(t)}}function cp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fp(t,e){return function(){this.setAttribute(t,e)}}function pp(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function dp(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function mp(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function nu(t,e){var r=Lt(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?cp:lp:typeof e=="function"?r.local?mp:dp:r.local?pp:fp)(r,e))}function zn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hp(t){return function(){this.style.removeProperty(t)}}function gp(t,e,r){return function(){this.style.setProperty(t,e,r)}}function yp(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function ou(t,e,r){return arguments.length>1?this.each((e==null?hp:typeof e=="function"?yp:gp)(t,e,r??"")):Ut(this.node(),t)}function Ut(t,e){return t.style.getPropertyValue(e)||zn(t).getComputedStyle(t,null).getPropertyValue(e)}function vp(t){return function(){delete this[t]}}function _p(t,e){return function(){this[t]=e}}function wp(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function iu(t,e){return arguments.length>1?this.each((e==null?vp:typeof e=="function"?wp:_p)(t,e)):this.node()[t]}function au(t){return t.trim().split(/^|\s+/)}function gi(t){return t.classList||new su(t)}function su(t){this._node=t,this._names=au(t.getAttribute("class")||"")}su.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uu(t,e){for(var r=gi(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function lu(t,e){for(var r=gi(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function xp(t){return function(){uu(this,t)}}function bp(t){return function(){lu(this,t)}}function Tp(t,e){return function(){(e.apply(this,arguments)?uu:lu)(this,t)}}function cu(t,e){var r=au(t+"");if(arguments.length<2){for(var n=gi(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Tp:e?xp:bp)(r,e))}function kp(){this.textContent=""}function Dp(t){return function(){this.textContent=t}}function Ip(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fu(t){return arguments.length?this.each(t==null?kp:(typeof t=="function"?Ip:Dp)(t)):this.node().textContent}function Mp(){this.innerHTML=""}function Ep(t){return function(){this.innerHTML=t}}function Sp(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function pu(t){return arguments.length?this.each(t==null?Mp:(typeof t=="function"?Sp:Ep)(t)):this.node().innerHTML}function Op(){this.nextSibling&&this.parentNode.appendChild(this)}function du(){return this.each(Op)}function Pp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mu(){return this.each(Pp)}function hu(t){var e=typeof t=="function"?t:Ln(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Cp(){return null}function gu(t,e){var r=typeof t=="function"?t:Ln(t),n=e==null?Cp:typeof e=="function"?e:ie(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Np(){var t=this.parentNode;t&&t.removeChild(this)}function yu(){return this.each(Np)}function Ap(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Rp(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vu(t){return this.select(t?Rp:Ap)}function _u(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Fp(t){return function(e){t.call(this,e,this.__data__)}}function Hp(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function Lp(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function $p(t,e,r){return function(){var n=this.__on,o,i=Fp(e);if(n){for(var a=0,s=n.length;a<s;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function wu(t,e,r){var n=Hp(t+""),o,i=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<i;++o)if((a=n[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?$p:Lp,o=0;o<i;++o)this.each(s(n[o],e,r));return this}function xu(t,e,r){var n=zn(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Yp(t,e){return function(){return xu(this,t,e)}}function zp(t,e){return function(){return xu(this,t,e.apply(this,arguments))}}function bu(t,e){return this.each((typeof e=="function"?zp:Yp)(t,e))}function*Tu(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var Bp=[null];function Q(t,e){this._groups=t,this._parents=e}function ku(){return new Q([[document.documentElement]],Bp)}function Wp(){return this}Q.prototype=ku.prototype={constructor:Q,select:Ls,selectAll:$s,selectChild:Ys,selectChildren:zs,filter:Bs,data:Vs,enter:Ws,exit:Us,join:Xs,merge:js,selection:Wp,order:Gs,sort:Ks,call:Qs,nodes:Js,node:Zs,size:tu,empty:eu,each:ru,attr:nu,style:ou,property:iu,classed:cu,text:fu,html:pu,raise:du,lower:mu,append:hu,insert:gu,remove:yu,clone:vu,datum:_u,on:wu,dispatch:bu,[Symbol.iterator]:Tu};var $t=ku;function Bn(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function yi(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function nr(){}var er=.7,Vn=1/er,Oe="\\s*([+-]?\\d+)\\s*",rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qp=/^#([0-9a-f]{3,8})$/,Vp=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Up=new RegExp(`^rgb\\(${Ot},${Ot},${Ot}\\)$`),Xp=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${rr}\\)$`),jp=new RegExp(`^rgba\\(${Ot},${Ot},${Ot},${rr}\\)$`),Gp=new RegExp(`^hsl\\(${rr},${Ot},${Ot}\\)$`),Kp=new RegExp(`^hsla\\(${rr},${Ot},${Ot},${rr}\\)$`),Du={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bn(nr,Xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Iu,formatHex:Iu,formatHex8:Qp,formatHsl:Jp,formatRgb:Mu,toString:Mu});function Iu(){return this.rgb().formatHex()}function Qp(){return this.rgb().formatHex8()}function Jp(){return Nu(this).formatHsl()}function Mu(){return this.rgb().formatRgb()}function Xt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qp.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Eu(e):r===3?new ft(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Wn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Wn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vp.exec(t))?new ft(e[1],e[2],e[3],1):(e=Up.exec(t))?new ft(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xp.exec(t))?Wn(e[1],e[2],e[3],e[4]):(e=jp.exec(t))?Wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gp.exec(t))?Pu(e[1],e[2]/100,e[3]/100,1):(e=Kp.exec(t))?Pu(e[1],e[2]/100,e[3]/100,e[4]):Du.hasOwnProperty(t)?Eu(Du[t]):t==="transparent"?new ft(NaN,NaN,NaN,0):null}function Eu(t){return new ft(t>>16&255,t>>8&255,t&255,1)}function Wn(t,e,r,n){return n<=0&&(t=e=r=NaN),new ft(t,e,r,n)}function Zp(t){return t instanceof nr||(t=Xt(t)),t?(t=t.rgb(),new ft(t.r,t.g,t.b,t.opacity)):new ft}function Pe(t,e,r,n){return arguments.length===1?Zp(t):new ft(t,e,r,n??1)}function ft(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Bn(ft,Pe,yi(nr,{brighter(t){return t=t==null?Vn:Math.pow(Vn,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?er:Math.pow(er,t),new ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ft(se(this.r),se(this.g),se(this.b),Un(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Su,formatHex:Su,formatHex8:td,formatRgb:Ou,toString:Ou}));function Su(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}`}function td(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}${ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ou(){let t=Un(this.opacity);return`${t===1?"rgb(":"rgba("}${se(this.r)}, ${se(this.g)}, ${se(this.b)}${t===1?")":`, ${t})`}`}function Un(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function se(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ae(t){return t=se(t),(t<16?"0":"")+t.toString(16)}function Pu(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,r,n)}function Nu(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof nr||(t=Xt(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(e===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Dt(a,s,l,t.opacity)}function Au(t,e,r,n){return arguments.length===1?Nu(t):new Dt(t,e,r,n??1)}function Dt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Bn(Dt,Au,yi(nr,{brighter(t){return t=t==null?Vn:Math.pow(Vn,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?er:Math.pow(er,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new ft(vi(t>=240?t-240:t+120,o,n),vi(t,o,n),vi(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Dt(Cu(this.h),qn(this.s),qn(this.l),Un(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Un(this.opacity);return`${t===1?"hsl(":"hsla("}${Cu(this.h)}, ${qn(this.s)*100}%, ${qn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Cu(t){return t=(t||0)%360,t<0?t+360:t}function qn(t){return Math.max(0,Math.min(1,t||0))}function vi(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function _i(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function Ru(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,s=n<e-1?t[n+2]:2*i-o;return _i((r-n/e)*e,a,o,i,s)}}function Fu(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return _i((r-n/e)*e,o,i,a,s)}}var wi=t=>()=>t;function ed(t,e){return function(r){return t+r*e}}function rd(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Hu(t){return(t=+t)==1?Xn:function(e,r){return r-e?rd(e,r,t):wi(isNaN(e)?r:e)}}function Xn(t,e){var r=e-t;return r?ed(t,r):wi(isNaN(t)?e:t)}var jn=(function t(e){var r=Hu(e);function n(o,i){var a=r((o=Pe(o)).r,(i=Pe(i)).r),s=r(o.g,i.g),l=r(o.b,i.b),u=Xn(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return n.gamma=t,n})(1);function Lu(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=Pe(e[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=t(n),o=t(o),i=t(i),s.opacity=1,function(l){return s.r=n(l),s.g=o(l),s.b=i(l),s+""}}}var nd=Lu(Ru),od=Lu(Fu);function _t(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var bi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xi=new RegExp(bi.source,"g");function id(t){return function(){return t}}function ad(t){return function(e){return t(e)+""}}function Ti(t,e){var r=bi.lastIndex=xi.lastIndex=0,n,o,i,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=bi.exec(t))&&(o=xi.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:_t(n,o)})),r=xi.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?ad(l[0].x):id(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var $u=180/Math.PI,Gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ki(t,e,r,n,o,i){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*$u,skewX:Math.atan(l)*$u,scaleX:a,scaleY:s}}var Kn;function Yu(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Gn:ki(e.a,e.b,e.c,e.d,e.e,e.f)}function zu(t){return t==null?Gn:(Kn||(Kn=document.createElementNS("http://www.w3.org/2000/svg","g")),Kn.setAttribute("transform",t),(t=Kn.transform.baseVal.consolidate())?(t=t.matrix,ki(t.a,t.b,t.c,t.d,t.e,t.f)):Gn)}function Bu(t,e,r,n){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,m,g,w){if(u!==f||c!==m){var T=g.push("translate(",null,e,null,r);w.push({i:T-4,x:_t(u,f)},{i:T-2,x:_t(c,m)})}else(f||m)&&g.push("translate("+f+e+m+r)}function a(u,c,f,m){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),m.push({i:f.push(o(f)+"rotate(",null,n)-2,x:_t(u,c)})):c&&f.push(o(f)+"rotate("+c+n)}function s(u,c,f,m){u!==c?m.push({i:f.push(o(f)+"skewX(",null,n)-2,x:_t(u,c)}):c&&f.push(o(f)+"skewX("+c+n)}function l(u,c,f,m,g,w){if(u!==f||c!==m){var T=g.push(o(g)+"scale(",null,",",null,")");w.push({i:T-4,x:_t(u,f)},{i:T-2,x:_t(c,m)})}else(f!==1||m!==1)&&g.push(o(g)+"scale("+f+","+m+")")}return function(u,c){var f=[],m=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,m),a(u.rotate,c.rotate,f,m),s(u.skewX,c.skewX,f,m),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,m),u=c=null,function(g){for(var w=-1,T=m.length,h;++w<T;)f[(h=m[w]).i]=h.x(g);return f.join("")}}}var Di=Bu(Yu,"px, ","px)","deg)"),Ii=Bu(zu,", ",")",")");var Ce=0,ir=0,or=0,qu=1e3,Qn,ar,Jn=0,ue=0,Zn=0,sr=typeof performance=="object"&&performance.now?performance:Date,Vu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function lr(){return ue||(Vu(sd),ue=sr.now()+Zn)}function sd(){ue=0}function ur(){this._call=this._time=this._next=null}ur.prototype=to.prototype={constructor:ur,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?lr():+r)+(e==null?0:+e),!this._next&&ar!==this&&(ar?ar._next=this:Qn=this,ar=this),this._call=t,this._time=r,Mi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mi())}};function to(t,e,r){var n=new ur;return n.restart(t,e,r),n}function Uu(){lr(),++Ce;for(var t=Qn,e;t;)(e=ue-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ce}function Wu(){ue=(Jn=sr.now())+Zn,Ce=ir=0;try{Uu()}finally{Ce=0,ld(),ue=0}}function ud(){var t=sr.now(),e=t-Jn;e>qu&&(Zn-=e,Jn=t)}function ld(){for(var t,e=Qn,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:Qn=r);ar=t,Mi(n)}function Mi(t){if(!Ce){ir&&(ir=clearTimeout(ir));var e=t-ue;e>24?(t<1/0&&(ir=setTimeout(Wu,t-sr.now()-Zn)),or&&(or=clearInterval(or))):(or||(Jn=sr.now(),or=setInterval(ud,qu)),Ce=1,Vu(Wu))}}function eo(t,e,r){var n=new ur;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var cd=di("start","end","cancel","interrupt"),fd=[],Gu=0,Xu=1,no=2,ro=3,ju=4,oo=5,cr=6;function jt(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;pd(t,r,{name:e,index:n,group:o,on:cd,tween:fd,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Gu})}function fr(t,e){var r=J(t,e);if(r.state>Gu)throw new Error("too late; already scheduled");return r}function nt(t,e){var r=J(t,e);if(r.state>ro)throw new Error("too late; already running");return r}function J(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function pd(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=to(i,0,r.time);function i(u){r.state=Xu,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var c,f,m,g;if(r.state!==Xu)return l();for(c in n)if(g=n[c],g.name===r.name){if(g.state===ro)return eo(a);g.state===ju?(g.state=cr,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete n[c]):+c<e&&(g.state=cr,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete n[c])}if(eo(function(){r.state===ro&&(r.state=ju,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=no,r.on.call("start",t,t.__data__,r.index,r.group),r.state===no){for(r.state=ro,o=new Array(m=r.tween.length),c=0,f=-1;c<m;++c)(g=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(o[++f]=g);o.length=f+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=oo,1),f=-1,m=o.length;++f<m;)o[f].call(t,c);r.state===oo&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=cr,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function io(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>no&&n.state<oo,n.state=cr,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function Ku(t){return this.each(function(){io(this,t)})}function dd(t,e){var r,n;return function(){var o=nt(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function md(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=nt(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:e,value:r},l=0,u=o.length;l<u;++l)if(o[l].name===e){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function Qu(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=J(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?dd:md)(r,t,e))}function Ne(t,e,r){var n=t._id;return t.each(function(){var o=nt(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return J(o,n).value[e]}}function ao(t,e){var r;return(typeof e=="number"?_t:e instanceof Xt?jn:(r=Xt(e))?(e=r,jn):Ti)(t,e)}function hd(t){return function(){this.removeAttribute(t)}}function gd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yd(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function vd(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function _d(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function wd(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function Ju(t,e){var r=Lt(t),n=r==="transform"?Ii:ao;return this.attrTween(t,typeof e=="function"?(r.local?wd:_d)(r,n,Ne(this,"attr."+t,e)):e==null?(r.local?gd:hd)(r):(r.local?vd:yd)(r,n,e))}function xd(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function bd(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Td(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&bd(t,i)),r}return o._value=e,o}function kd(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&xd(t,i)),r}return o._value=e,o}function Zu(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Lt(t);return this.tween(r,(n.local?Td:kd)(n,e))}function Dd(t,e){return function(){fr(this,t).delay=+e.apply(this,arguments)}}function Id(t,e){return e=+e,function(){fr(this,t).delay=e}}function tl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Dd:Id)(e,t)):J(this.node(),e).delay}function Md(t,e){return function(){nt(this,t).duration=+e.apply(this,arguments)}}function Ed(t,e){return e=+e,function(){nt(this,t).duration=e}}function el(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Md:Ed)(e,t)):J(this.node(),e).duration}function Sd(t,e){if(typeof e!="function")throw new Error;return function(){nt(this,t).ease=e}}function rl(t){var e=this._id;return arguments.length?this.each(Sd(e,t)):J(this.node(),e).ease}function Od(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;nt(this,t).ease=r}}function nl(t){if(typeof t!="function")throw new Error;return this.each(Od(this._id,t))}function ol(t){typeof t!="function"&&(t=Ze(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new st(n,this._parents,this._name,this._id)}function il(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l=e[s],u=r[s],c=l.length,f=a[s]=new Array(c),m,g=0;g<c;++g)(m=l[g]||u[g])&&(f[g]=m);for(;s<n;++s)a[s]=e[s];return new st(a,this._parents,this._name,this._id)}function Pd(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Cd(t,e,r){var n,o,i=Pd(e)?fr:nt;return function(){var a=i(this,t),s=a.on;s!==n&&(o=(n=s).copy()).on(e,r),a.on=o}}function al(t,e){var r=this._id;return arguments.length<2?J(this.node(),r).on.on(t):this.each(Cd(r,t,e))}function Nd(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function sl(){return this.on("end.remove",Nd(this._id))}function ul(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ie(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s=n[a],l=s.length,u=i[a]=new Array(l),c,f,m=0;m<l;++m)(c=s[m])&&(f=t.call(c,c.__data__,m,s))&&("__data__"in c&&(f.__data__=c.__data__),u[m]=f,jt(u[m],e,r,m,u,J(c,r)));return new st(i,this._parents,e,r)}function ll(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Je(t));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var l=n[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var m=t.call(c,c.__data__,f,l),g,w=J(c,r),T=0,h=m.length;T<h;++T)(g=m[T])&&jt(g,e,r,T,m,w);i.push(m),a.push(c)}return new st(i,a,e,r)}var Ad=$t.prototype.constructor;function cl(){return new Ad(this._groups,this._parents)}function Rd(t,e){var r,n,o;return function(){var i=Ut(this,t),a=(this.style.removeProperty(t),Ut(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function fl(t){return function(){this.style.removeProperty(t)}}function Fd(t,e,r){var n,o=r+"",i;return function(){var a=Ut(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function Hd(t,e,r){var n,o,i;return function(){var a=Ut(this,t),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Ut(this,t))),a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s))}}function Ld(t,e){var r,n,o,i="style."+e,a="end."+i,s;return function(){var l=nt(this,t),u=l.on,c=l.value[i]==null?s||(s=fl(e)):void 0;(u!==r||o!==c)&&(n=(r=u).copy()).on(a,o=c),l.on=n}}function pl(t,e,r){var n=(t+="")=="transform"?Di:ao;return e==null?this.styleTween(t,Rd(t,n)).on("end.style."+t,fl(t)):typeof e=="function"?this.styleTween(t,Hd(t,n,Ne(this,"style."+t,e))).each(Ld(this._id,t)):this.styleTween(t,Fd(t,n,e),r).on("end.style."+t,null)}function $d(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function Yd(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&$d(t,a,r)),n}return i._value=e,i}function dl(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Yd(t,e,r??""))}function zd(t){return function(){this.textContent=t}}function Bd(t){return function(){var e=t(this);this.textContent=e??""}}function ml(t){return this.tween("text",typeof t=="function"?Bd(Ne(this,"text",t)):zd(t==null?"":t+""))}function Wd(t){return function(e){this.textContent=t.call(this,e)}}function qd(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Wd(o)),e}return n._value=t,n}function hl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,qd(t))}function gl(){for(var t=this._name,e=this._id,r=so(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=J(l,e);jt(l,t,r,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new st(n,this._parents,t,r)}function yl(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};r.each(function(){var u=nt(this,n),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),o===0&&i()})}var Vd=0;function st(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function vl(t){return $t().transition(t)}function so(){return++Vd}var Yt=$t.prototype;st.prototype=vl.prototype={constructor:st,select:ul,selectAll:ll,selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:ol,merge:il,selection:cl,transition:gl,call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:al,attr:Ju,attrTween:Zu,style:pl,styleTween:dl,text:ml,textTween:hl,remove:sl,tween:Qu,delay:tl,duration:el,ease:rl,easeVarying:nl,end:yl,[Symbol.iterator]:Yt[Symbol.iterator]};function uo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ud={time:null,delay:0,duration:250,ease:uo};function Xd(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function _l(t){var e,r;t instanceof st?(e=t._id,t=t._name):(e=so(),(r=Ud).time=lr(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&jt(l,t,e,u,a,r||Xd(l,e));return new st(n,this._parents,t,e)}$t.prototype.interrupt=Ku;$t.prototype.transition=_l;var{abs:cI,max:fI,min:pI}=Math;function wl(t){return[+t[0],+t[1]]}function jd(t){return[wl(t[0]),wl(t[1])]}var dI={name:"x",handles:["w","e"].map(Ei),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},mI={name:"y",handles:["n","s"].map(Ei),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},hI={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ei),input:function(t){return t==null?null:jd(t)},output:function(t){return t}};function Ei(t){return{type:t}}var Si=Math.PI,Oi=2*Si,le=1e-6,Gd=Oi-le;function xl(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Kd(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xl;let r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var ce=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xl:Kd(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,l=n-e,u=o-r,c=a-e,f=s-r,m=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>le)if(!(Math.abs(f*l-u*c)>le)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,w=o-s,T=l*l+u*u,h=g*g+w*w,y=Math.sqrt(T),v=Math.sqrt(m),x=i*Math.tan((Si-Math.acos((T+m-h)/(2*y*v)))/2),b=x/v,k=x/y;Math.abs(b-1)>le&&this._append`L${e+b*c},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*g>c*w)},${this._x1=e+k*l},${this._y1=r+k*u}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(o),l=n*Math.sin(o),u=e+s,c=r+l,f=1^a,m=a?o-i:i-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>le||Math.abs(this._y1-c)>le)&&this._append`L${u},${c}`,n&&(m<0&&(m=m%Oi+Oi),m>Gd?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:m>le&&this._append`A${n},${n},0,${+(m>=Si)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function bl(){return new ce}bl.prototype=ce.prototype;function zt(t){return function(){return t}}var Pi=Math.abs,ot=Math.atan2,Gt=Math.cos,Tl=Math.max,lo=Math.min,It=Math.sin,fe=Math.sqrt,ut=1e-12,Ae=Math.PI,pr=Ae/2,kl=2*Ae;function Dl(t){return t>1?0:t<-1?Ae:Math.acos(t)}function Ci(t){return t>=1?pr:t<=-1?-pr:Math.asin(t)}function Il(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new ce(e)}function Qd(t){return t.innerRadius}function Jd(t){return t.outerRadius}function Zd(t){return t.startAngle}function tm(t){return t.endAngle}function em(t){return t&&t.padAngle}function rm(t,e,r,n,o,i,a,s){var l=r-t,u=n-e,c=a-o,f=s-i,m=f*l-c*u;if(!(m*m<ut))return m=(c*(e-i)-f*(t-o))/m,[t+m*l,e+m*u]}function co(t,e,r,n,o,i,a){var s=t-r,l=e-n,u=(a?i:-i)/fe(s*s+l*l),c=u*l,f=-u*s,m=t+c,g=e+f,w=r+c,T=n+f,h=(m+w)/2,y=(g+T)/2,v=w-m,x=T-g,b=v*v+x*x,k=o-i,P=m*T-w*g,A=(x<0?-1:1)*fe(Tl(0,k*k*b-P*P)),L=(P*x-v*A)/b,Z=(-P*v-x*A)/b,j=(P*x+v*A)/b,W=(-P*v+x*A)/b,G=L-h,S=Z-y,z=j-h,Qt=W-y;return G*G+S*S>z*z+Qt*Qt&&(L=j,Z=W),{cx:L,cy:Z,x01:-c,y01:-f,x11:L*(o/k-1),y11:Z*(o/k-1)}}function Ni(){var t=Qd,e=Jd,r=zt(0),n=null,o=Zd,i=tm,a=em,s=null,l=Il(u);function u(){var c,f,m=+t.apply(this,arguments),g=+e.apply(this,arguments),w=o.apply(this,arguments)-pr,T=i.apply(this,arguments)-pr,h=Pi(T-w),y=T>w;if(s||(s=c=l()),g<m&&(f=g,g=m,m=f),!(g>ut))s.moveTo(0,0);else if(h>kl-ut)s.moveTo(g*Gt(w),g*It(w)),s.arc(0,0,g,w,T,!y),m>ut&&(s.moveTo(m*Gt(T),m*It(T)),s.arc(0,0,m,T,w,y));else{var v=w,x=T,b=w,k=T,P=h,A=h,L=a.apply(this,arguments)/2,Z=L>ut&&(n?+n.apply(this,arguments):fe(m*m+g*g)),j=lo(Pi(g-m)/2,+r.apply(this,arguments)),W=j,G=j,S,z;if(Z>ut){var Qt=Ci(Z/m*It(L)),dr=Ci(Z/g*It(L));(P-=Qt*2)>ut?(Qt*=y?1:-1,b+=Qt,k-=Qt):(P=0,b=k=(w+T)/2),(A-=dr*2)>ut?(dr*=y?1:-1,v+=dr,x-=dr):(A=0,v=x=(w+T)/2)}var pe=g*Gt(v),de=g*It(v),mr=m*Gt(k),hr=m*It(k);if(j>ut){var gr=g*Gt(x),yr=g*It(x),fo=m*Gt(b),po=m*It(b),Pt;if(h<Ae)if(Pt=rm(pe,de,fo,po,gr,yr,mr,hr)){var mo=pe-Pt[0],ho=de-Pt[1],go=gr-Pt[0],yo=yr-Pt[1],Li=1/It(Dl((mo*go+ho*yo)/(fe(mo*mo+ho*ho)*fe(go*go+yo*yo)))/2),$i=fe(Pt[0]*Pt[0]+Pt[1]*Pt[1]);W=lo(j,(m-$i)/(Li-1)),G=lo(j,(g-$i)/(Li+1))}else W=G=0}A>ut?G>ut?(S=co(fo,po,pe,de,g,G,y),z=co(gr,yr,mr,hr,g,G,y),s.moveTo(S.cx+S.x01,S.cy+S.y01),G<j?s.arc(S.cx,S.cy,G,ot(S.y01,S.x01),ot(z.y01,z.x01),!y):(s.arc(S.cx,S.cy,G,ot(S.y01,S.x01),ot(S.y11,S.x11),!y),s.arc(0,0,g,ot(S.cy+S.y11,S.cx+S.x11),ot(z.cy+z.y11,z.cx+z.x11),!y),s.arc(z.cx,z.cy,G,ot(z.y11,z.x11),ot(z.y01,z.x01),!y))):(s.moveTo(pe,de),s.arc(0,0,g,v,x,!y)):s.moveTo(pe,de),!(m>ut)||!(P>ut)?s.lineTo(mr,hr):W>ut?(S=co(mr,hr,gr,yr,m,-W,y),z=co(pe,de,fo,po,m,-W,y),s.lineTo(S.cx+S.x01,S.cy+S.y01),W<j?s.arc(S.cx,S.cy,W,ot(S.y01,S.x01),ot(z.y01,z.x01),!y):(s.arc(S.cx,S.cy,W,ot(S.y01,S.x01),ot(S.y11,S.x11),!y),s.arc(0,0,m,ot(S.cy+S.y11,S.cx+S.x11),ot(z.cy+z.y11,z.cx+z.x11),y),s.arc(z.cx,z.cy,W,ot(z.y11,z.x11),ot(z.y01,z.x01),!y))):s.arc(0,0,m,k,b,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Ae/2;return[Gt(f)*c,It(f)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),u):e},u.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:zt(+c),u):r},u.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:zt(+c),u):n},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:zt(+c),u):o},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:zt(+c),u):i},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:zt(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function Kt(t,e,r){this.k=t,this.x=e,this.y=r}Kt.prototype={constructor:Kt,scale:function(t){return t===1?this:new Kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ai=new Kt(1,0,0);Ri.prototype=Kt.prototype;function Ri(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ai;return t.__zoom}var Re={root:"P",firstOfMonth:"Q",swatches:"T",sel1:"U",selRange:"V"};function Ml(t){return(t.getDay()+6)%7}function om(t,e){return qt(t,e)}var U=40;function Fi(){let t=d.highlightPatterns.value,e=d.allItemsByDay.value,r=e.items[e.sortedDays[0]][0].date,n=Ml(r),o=e.sortedDays.map(h=>{let y=e.items[h][0].date,v=om(r,y),x=[],b=new Set;for(let L of e.items[h]){let Z=In(L.text);for(let j of Z)j!==null&&!b.has(j)&&(x.push(je(j)),b.add(j))}x.length===0&&x.push("white"),x.sort();let k=Ml(y),P=Math.floor((v+(6-n))/7)*U+2,A=U*(6-k)+2+(k<5?8:0);return{date:y,dayNum:k,x:P,y:A,colors:x}}),i=o.map(h=>h.x).reduce((h,y)=>Math.max(h,y)),a=[],s=[],l=xt(r,-n),u=xt(o[o.length-1].date,-7),c=0,f=r.getFullYear();for(;l>u;){let h=l.getFullYear();h!==f&&(a.push({text:`${f} | ${h}`,x:c-U}),f=h),s.push({text:gt(l,"LLL d"),x:c,year:h}),c+=U,l=xt(l,-7)}let m=et(),g=d.selectedRange.value;function w(h,y){if(h.stopPropagation(),!m.value)m.value=y;else{let v=[m.value,y].map(x=>qe(x.date)).sort((x,b)=>x.valueOf()-b.valueOf());v[1]=xt(v[1],1),d.selectedRange.value=v,m.value=void 0}}function T(){m.value||(d.selectedRange.value=void 0),m.value=void 0}return p(R,{children:[p("div",{class:Re.swatches,children:[t.map((h,y)=>p("span",{style:{backgroundColor:je(y)},children:h.text},y)),"\xA0"]}),p("div",{class:Re.root,onClick:T,children:p("svg",{style:{height:7*U+100,width:i+100},children:[s.map(h=>p("g",{transform:`translate(${h.x+U/2+33},${U*7+26}) rotate(-45)`,children:p("text",{"text-anchor":"end",children:h.text})},`${h.text}-${h.year}`)),a.map(h=>p("g",{transform:`translate(${h.x+U/2},${U*7+90})`,children:p("text",{children:h.text})},h.text)),o.map((h,y)=>p("g",{transform:`translate(${h.x+U/2+20},${h.y+U/2})`,onClick:v=>w(v,h),children:[p("title",{children:h.date.toString()}),m.value?.date===h.date&&p("rect",{class:Re.sel1,x:-U/2,y:-U/2,width:U,height:U}),g&&h.date>=g[0]&&h.date<=g[1]&&p("rect",{class:Re.selRange,x:-U/2,y:-U/2,width:U,height:U}),h.colors.map((v,x)=>p("path",{d:Ni()({innerRadius:0,outerRadius:U/2-1,startAngle:Math.PI*2/h.colors.length*x,endAngle:Math.PI*2/h.colors.length*(x+1)}),fill:v,stroke:"black","stroke-opacity":"0.2"},x)),h.date.getDate()===1&&p("circle",{r:U/2-2,class:Re.firstOfMonth})]},h.date))]})})]})}function im(){gapi.auth2.getAuthInstance().signIn()}function am(){Cn()}function sm(){it(()=>{d.showTimeline.value=!d.showTimeline.value,d.showTimeline.value||(d.selectedRange.value=void 0)})}function Hi(){let t=d.busy.value>0,e=d.selectedRangeText.value,r=d.showTimeline.value,n=d.googleSignedIn.value;return p("div",{class:kt.root,children:[p(ui,{}),p("div",{class:kt.version,children:["Preact version ","6e1121459ce418e640e210d021f810340db48daa"]}),p("div",{class:kt.topBar,children:[p("button",{disabled:t,onClick:im,children:"Auth"}),p("button",{disabled:t,onClick:am,children:"Load"}),p("span",{children:n?"Signed in":"Not signed in"}),p("button",{onClick:On,title:"reset UI to startup state | key: Esc Esc",children:"Reset"})]}),p("div",{class:kt.controlBar,children:p(ci,{})}),p("div",{class:kt.controlBar,children:p(li,{})}),p("div",{class:kt.controlBar,children:[p("button",{onClick:sm,children:"Toggle Timeline"}),e&&p("span",{class:kt.selectedRangeText,children:e})]}),p("div",{children:r&&p(Fi,{})}),p(si,{}),p(pi,{}),p("div",{class:kt.controlBar,children:p(fi,{})}),p(ai,{})]})}function El(){return p("div",{id:"scroll-root",class:ra.root,children:[p(Hi,{}),p(Zo,{})]})}"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(t=>console.log("ServiceWorker registered",t)).catch(t=>console.log("ServiceWorker registration failed",t));ea(p(El,{}),document.getElementById("App"));um();function um(){let t=e=>{e.promise.catch(Sn)};return window.addEventListener("error",Sn,!0),window.addEventListener("unhandledrejection",t,!0),()=>{window.removeEventListener("error",Sn,!0),window.removeEventListener("unhandledrejection",t,!0)}}})();
