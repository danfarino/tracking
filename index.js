"use strict";(()=>{var zl=Object.defineProperty;var Wl=(t,e,r)=>e in t?zl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var x=(t,e,r)=>Wl(t,typeof e!="symbol"?e+"":e,r);var br,F,Qi,Eo,te,Ki,Ji,Zi,ta,Mo,ko,Do,ql,Le={},ea=[],Vl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Tr=Array.isArray;function At(t,e){for(var r in e)t[r]=e[r];return t}function So(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ul(t,e,r){var n,o,i,a={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?br.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return xr(t,a,n,o,null)}function xr(t,e,r,n,o){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Qi,__i:-1,__u:0};return o==null&&F.vnode!=null&&F.vnode(i),i}function P(t){return t.children}function ge(t,e){this.props=t,this.context=e}function ye(t,e){if(e==null)return t.__?ye(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ye(t):null}function ra(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ra(t)}}function Xi(t){(!t.__d&&(t.__d=!0)&&te.push(t)&&!wr.__r++||Ki!=F.debounceRendering)&&((Ki=F.debounceRendering)||Ji)(wr)}function wr(){for(var t,e,r,n,o,i,a,s=1;te.length;)te.length>s&&te.sort(Zi),t=te.shift(),s=te.length,t.__d&&(r=void 0,n=void 0,o=(n=(e=t).__v).__e,i=[],a=[],e.__P&&((r=At({},n)).__v=n.__v+1,F.vnode&&F.vnode(r),Oo(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[o]:null,i,o??ye(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,ia(i,r,a),n.__e=n.__=null,r.__e!=o&&ra(r)));wr.__r=0}function na(t,e,r,n,o,i,a,s,l,u,c){var f,m,h,w,g,_,y,v=n&&n.__k||ea,T=e.length;for(l=Kl(r,e,v,l,T),f=0;f<T;f++)(h=r.__k[f])!=null&&(m=h.__i==-1?Le:v[h.__i]||Le,h.__i=f,_=Oo(t,h,m,o,i,a,s,l,u,c),w=h.__e,h.ref&&m.ref!=h.ref&&(m.ref&&Po(m.ref,null,h),c.push(h.ref,h.__c||w,h)),g==null&&w!=null&&(g=w),(y=!!(4&h.__u))||m.__k===h.__k?l=oa(h,l,t,y):typeof h.type=="function"&&_!==void 0?l=_:w&&(l=w.nextSibling),h.__u&=-7);return r.__e=g,l}function Kl(t,e,r,n,o){var i,a,s,l,u,c=r.length,f=c,m=0;for(t.__k=new Array(o),i=0;i<o;i++)(a=e[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[i]=xr(null,a,null,null,null):Tr(a)?a=t.__k[i]=xr(P,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=t.__k[i]=xr(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[i]=a,l=i+m,a.__=t,a.__b=t.__b+1,s=null,(u=a.__i=Xl(a,r,l,f))!=-1&&(f--,(s=r[u])&&(s.__u|=2)),s==null||s.__v==null?(u==-1&&(o>c?m--:o<c&&m++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?m--:u==l+1?m++:(u>l?m--:m++,a.__u|=4))):t.__k[i]=null;if(f)for(i=0;i<c;i++)(s=r[i])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=ye(s)),sa(s,s));return n}function oa(t,e,r,n){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=oa(o[i],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=ye(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Xl(t,e,r,n){var o,i,a,s=t.key,l=t.type,u=e[r],c=u!=null&&(2&u.__u)==0;if(u===null&&s==null||c&&s==u.key&&l==u.type)return r;if(n>(c?1:0)){for(o=r-1,i=r+1;o>=0||i<e.length;)if((u=e[a=o>=0?o--:i++])!=null&&(2&u.__u)==0&&s==u.key&&l==u.type)return a}return-1}function Gi(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Vl.test(e)?r:r+"px"}function _r(t,e,r,n,o){var i,a;t:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Gi(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Gi(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(ta,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n?r.u=n.u:(r.u=Mo,t.addEventListener(e,i?Do:ko,i)):t.removeEventListener(e,i?Do:ko,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function ji(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Mo++;else if(e.t<r.u)return;return r(F.event?F.event(e):e)}}}function Oo(t,e,r,n,o,i,a,s,l,u){var c,f,m,h,w,g,_,y,v,T,k,b,R,B,z,tt,G,W=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),i=[s=e.__e=r.__e]),(c=F.__b)&&c(e);t:if(typeof W=="function")try{if(y=e.props,v="prototype"in W&&W.prototype.render,T=(c=W.contextType)&&n[c.__c],k=c?T?T.props.value:c.__:n,r.__c?_=(f=e.__c=r.__c).__=f.__E:(v?e.__c=f=new W(y,k):(e.__c=f=new ge(y,k),f.constructor=W,f.render=jl),T&&T.sub(f),f.state||(f.state={}),f.__n=n,m=f.__d=!0,f.__h=[],f._sb=[]),v&&f.__s==null&&(f.__s=f.state),v&&W.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=At({},f.__s)),At(f.__s,W.getDerivedStateFromProps(y,f.__s))),h=f.props,w=f.state,f.__v=e,m)v&&W.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),v&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(v&&W.getDerivedStateFromProps==null&&y!==h&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,k),e.__v==r.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,k)===!1){for(e.__v!=r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(j){j&&(j.__=e)}),b=0;b<f._sb.length;b++)f.__h.push(f._sb[b]);f._sb=[],f.__h.length&&a.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,k),v&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(h,w,g)})}if(f.context=k,f.props=y,f.__P=t,f.__e=!1,R=F.__r,B=0,v){for(f.state=f.__s,f.__d=!1,R&&R(e),c=f.render(f.props,f.state,f.context),z=0;z<f._sb.length;z++)f.__h.push(f._sb[z]);f._sb=[]}else do f.__d=!1,R&&R(e),c=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++B<25);f.state=f.__s,f.getChildContext!=null&&(n=At(At({},n),f.getChildContext())),v&&!m&&f.getSnapshotBeforeUpdate!=null&&(g=f.getSnapshotBeforeUpdate(h,w)),tt=c,c!=null&&c.type===P&&c.key==null&&(tt=aa(c.props.children)),s=na(t,Tr(tt)?tt:[tt],e,r,n,o,i,a,s,l,u),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),_&&(f.__E=f.__=null)}catch(j){if(e.__v=null,l||i!=null)if(j.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else{for(G=i.length;G--;)So(i[G]);Io(e)}else e.__e=r.__e,e.__k=r.__k,j.then||Io(e);F.__e(j,e,r)}else i==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):s=e.__e=Gl(r.__e,e,r,n,o,i,a,l,u);return(c=F.diffed)&&c(e),128&e.__u?void 0:s}function Io(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Io)}function ia(t,e,r){for(var n=0;n<r.length;n++)Po(r[n],r[++n],r[++n]);F.__c&&F.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){F.__e(i,o.__v)}})}function aa(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Tr(t)?t.map(aa):At({},t)}function Gl(t,e,r,n,o,i,a,s,l){var u,c,f,m,h,w,g,_=r.props||Le,y=e.props,v=e.type;if(v=="svg"?o="http://www.w3.org/2000/svg":v=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((h=i[u])&&"setAttribute"in h==!!v&&(v?h.localName==v:h.nodeType==3)){t=h,i[u]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(o,v,y.is&&y),s&&(F.__m&&F.__m(e,i),s=!1),i=null}if(v==null)_===y||s&&t.data==y||(t.data=y);else{if(i=i&&br.call(t.childNodes),!s&&i!=null)for(_={},u=0;u<t.attributes.length;u++)_[(h=t.attributes[u]).name]=h.value;for(u in _)if(h=_[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=h;else if(!(u in y)){if(u=="value"&&"defaultValue"in y||u=="checked"&&"defaultChecked"in y)continue;_r(t,u,null,h,o)}}for(u in y)h=y[u],u=="children"?m=h:u=="dangerouslySetInnerHTML"?c=h:u=="value"?w=h:u=="checked"?g=h:s&&typeof h!="function"||_[u]===h||_r(t,u,h,_[u],o);if(c)s||f&&(c.__html==f.__html||c.__html==t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(f&&(t.innerHTML=""),na(e.type=="template"?t.content:t,Tr(m)?m:[m],e,r,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:r.__k&&ye(r,0),s,l),i!=null)for(u=i.length;u--;)So(i[u]);s||(u="value",v=="progress"&&w==null?t.removeAttribute("value"):w!=null&&(w!==t[u]||v=="progress"&&!w||v=="option"&&w!=_[u])&&_r(t,u,w,_[u],o),u="checked",g!=null&&g!=t[u]&&_r(t,u,g,_[u],o))}return t}function Po(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(o){F.__e(o,r)}}function sa(t,e,r){var n,o;if(F.unmount&&F.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Po(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){F.__e(i,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&sa(n[o],e,r||typeof t.type!="function");r||So(t.__e),t.__c=t.__=t.__e=void 0}function jl(t,e,r){return this.constructor(t,r)}function ua(t,e,r){var n,o,i,a;e==document&&(e=document.documentElement),F.__&&F.__(t,e),o=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],a=[],Oo(e,t=(!n&&r||e).__k=Ul(P,null,[t]),o||Le,Le,e.namespaceURI,!n&&r?[r]:o?null:e.firstChild?br.call(e.childNodes):null,i,!n&&r?r:o?o.__e:e.firstChild,n,a),ia(i,t,a)}br=ea.slice,F={__e:function(t,e,r,n){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),a=o.__d),a)return o.__E=o}catch(s){t=s}throw t}},Qi=0,Eo=function(t){return t!=null&&t.constructor==null},ge.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=At({},this.state),typeof t=="function"&&(t=t(At({},r),this.props)),t&&At(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Xi(this))},ge.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Xi(this))},ge.prototype.render=P,te=[],Ji=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zi=function(t,e){return t.__v.__b-e.__v.__b},wr.__r=0,ta=/(PointerCapture)$|Capture$/i,Mo=0,ko=ji(!1),Do=ji(!0),ql=0;var la={root:"a"};var $e,q,Co,ca,Dr=0,va=[],X=F,fa=X.__b,da=X.__r,pa=X.diffed,ma=X.__c,ha=X.unmount,ga=X.__;function Ao(t,e){X.__h&&X.__h(q,t,Dr||e),Dr=0;var r=q.__H||(q.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function _a(t){return Dr=1,Jl(wa,t)}function Jl(t,e,r){var n=Ao($e++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):wa(void 0,e),function(s){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,s);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=q,!q.__f)){var o=function(s,l,u){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(m){return!!m.__c});if(c.every(function(m){return!m.__N}))return!i||i.call(this,s,l,u);var f=n.__c.props!==s;return c.forEach(function(m){if(m.__N){var h=m.__[0];m.__=m.__N,m.__N=void 0,h!==m.__[0]&&(f=!0)}}),i&&i.call(this,s,l,u)||f};q.__f=!0;var i=q.shouldComponentUpdate,a=q.componentWillUpdate;q.componentWillUpdate=function(s,l,u){if(this.__e){var c=i;i=void 0,o(s,l,u),i=c}a&&a.call(this,s,l,u)},q.shouldComponentUpdate=o}return n.__N||n.__}function ct(t,e){var r=Ao($e++,3);!X.__s&&xa(r.__H,e)&&(r.__=t,r.u=e,q.__H.__h.push(r))}function zt(t){return Dr=5,ve(function(){return{current:t}},[])}function ve(t,e){var r=Ao($e++,7);return xa(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Zl(){for(var t;t=va.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(kr),t.__H.__h.forEach(No),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){q=null,fa&&fa(t)},X.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ga&&ga(t,e)},X.__r=function(t){da&&da(t),$e=0;var e=(q=t.__c).__H;e&&(Co===q?(e.__h=[],q.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(kr),e.__h.forEach(No),e.__h=[],$e=0)),Co=q},X.diffed=function(t){pa&&pa(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(va.push(e)!==1&&ca===X.requestAnimationFrame||((ca=X.requestAnimationFrame)||tc)(Zl)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Co=q=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(kr),r.__h=r.__h.filter(function(n){return!n.__||No(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],X.__e(n,r.__v)}}),ma&&ma(t,e)},X.unmount=function(t){ha&&ha(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{kr(n)}catch(o){e=o}}),r.__H=void 0,e&&X.__e(e,r.__v))};var ya=typeof requestAnimationFrame=="function";function tc(t){var e,r=function(){clearTimeout(n),ya&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);ya&&(e=requestAnimationFrame(r))}function kr(t){var e=q,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),q=e}function No(t){var e=q;t.__c=t.__(),q=e}function xa(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function wa(t,e){return typeof e=="function"?e(t):e}var ec=Symbol.for("preact-signals");function Er(){if(Wt>1)Wt--;else{for(var t,e=!1;Ye!==void 0;){var r=Ye;for(Ye=void 0,Ro++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&Ta(r))try{r.c()}catch(o){e||(t=o,e=!0)}r=n}}if(Ro=0,Wt--,e)throw t}}function it(t){if(Wt>0)return t();Wt++;try{return t()}finally{Er()}}var H=void 0;function Fo(t){var e=H;H=void 0;try{return t()}finally{H=e}}var Ye=void 0,Wt=0,Ro=0,Ir=0;function ba(t){if(H!==void 0){var e=t.n;if(e===void 0||e.t!==H)return e={i:0,S:t,p:H.s,n:void 0,t:H,e:void 0,x:void 0,r:e},H.s!==void 0&&(H.s.n=e),H.s=e,t.n=e,32&H.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=H.s,e.n=void 0,H.s.n=e,H.s=e),e}}function Q(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}Q.prototype.brand=ec;Q.prototype.h=function(){return!0};Q.prototype.S=function(t){var e=this,r=this.t;r!==t&&t.e===void 0&&(t.x=r,this.t=t,r!==void 0?r.e=t:Fo(function(){var n;(n=e.W)==null||n.call(e)}))};Q.prototype.U=function(t){var e=this;if(this.t!==void 0){var r=t.e,n=t.x;r!==void 0&&(r.x=n,t.e=void 0),n!==void 0&&(n.e=r,t.x=void 0),t===this.t&&(this.t=n,n===void 0&&Fo(function(){var o;(o=e.Z)==null||o.call(e)}))}};Q.prototype.subscribe=function(t){var e=this;return gt(function(){var r=e.value,n=H;H=void 0;try{t(r)}finally{H=n}},{name:"sub"})};Q.prototype.valueOf=function(){return this.value};Q.prototype.toString=function(){return this.value+""};Q.prototype.toJSON=function(){return this.value};Q.prototype.peek=function(){var t=H;H=void 0;try{return this.value}finally{H=t}};Object.defineProperty(Q.prototype,"value",{get:function(){var t=ba(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(Ro>100)throw new Error("Cycle detected");this.v=t,this.i++,Ir++,Wt++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Er()}}}});function L(t,e){return new Q(t,e)}function Ta(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function ka(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Da(t){for(var e=t.s,r=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=r}function ee(t,e){Q.call(this,void 0),this.x=t,this.s=void 0,this.g=Ir-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}ee.prototype=new Q;ee.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Ir))return!0;if(this.g=Ir,this.f|=1,this.i>0&&!Ta(this))return this.f&=-2,!0;var t=H;try{ka(this),H=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return H=t,Da(this),this.f&=-2,!0};ee.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}Q.prototype.S.call(this,t)};ee.prototype.U=function(t){if(this.t!==void 0&&(Q.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};ee.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(ee.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=ba(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function V(t,e){return new ee(t,e)}function Ia(t){var e=t.u;if(t.u=void 0,typeof e=="function"){Wt++;var r=H;H=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,Ho(t),n}finally{H=r,Er()}}}function Ho(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Ia(t)}function rc(t){if(H!==this)throw new Error("Out-of-order effect");Da(this),H=t,this.f&=-2,8&this.f&&Ho(this),Er()}function _e(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}_e.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};_e.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Ia(this),ka(this),Wt++;var t=H;return H=this,rc.bind(this,t)};_e.prototype.N=function(){2&this.f||(this.f|=2,this.o=Ye,Ye=this)};_e.prototype.d=function(){this.f|=8,1&this.f||Ho(this)};_e.prototype.dispose=function(){this.d()};function gt(t,e){var r=new _e(t,e);try{r.c()}catch(o){throw r.d(),o}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var Ea,Sr,Lo,Or=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__;var Ma=[];gt(function(){Ea=this.N})();function xe(t,e){F[t]=e.bind(null,F[t]||function(){})}function Mr(t){Lo&&Lo(),Lo=t&&t.S()}function Sa(t){var e=this,r=t.data,n=et(r);n.value=r;var o=ve(function(){for(var s=e,l=e.__v;l=l.__;)if(l.__c){l.__c.__$f|=4;break}var u=V(function(){var h=n.value.value;return h===0?0:h===!0?"":h||""}),c=V(function(){return!Array.isArray(u.value)&&!Eo(u.value)}),f=gt(function(){if(this.N=Oa,c.value){var h=u.value;s.__v&&s.__v.__e&&s.__v.__e.nodeType===3&&(s.__v.__e.data=h)}}),m=e.__$u.d;return e.__$u.d=function(){f(),m.call(this)},[c,u]},[]),i=o[0],a=o[1];return i.value?a.peek():a.value}Sa.displayName="ReactiveTextNode";Object.defineProperties(Q.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Sa},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});xe("__b",function(t,e){if(Or&&typeof e.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),typeof e.type=="string"){var r,n=e.props;for(var o in n)if(o!=="children"){var i=n[o];i instanceof Q&&(r||(e.__np=r={}),r[o]=i,n[o]=i.peek())}}t(e)});xe("__r",function(t,e){if(Or&&typeof e.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(e),e.type!==P){Mr();var r,n=e.__c;n&&(n.__$f&=-2,(r=n.__$u)===void 0&&(n.__$u=r=(function(o){var i;return gt(function(){i=this}),i.c=function(){n.__$f|=1,n.setState({})},i})())),Sr=n,Mr(r)}t(e)});xe("__e",function(t,e,r,n){Or&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Mr(),Sr=void 0,t(e,r,n)});xe("diffed",function(t,e){Or&&typeof e.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Mr(),Sr=void 0;var r;if(typeof e.type=="string"&&(r=e.__e)){var n=e.__np,o=e.props;if(n){var i=r.U;if(i)for(var a in i){var s=i[a];s!==void 0&&!(a in n)&&(s.d(),i[a]=void 0)}else i={},r.U=i;for(var l in n){var u=i[l],c=n[l];u===void 0?(u=nc(r,l,c,o),i[l]=u):u.o(c,o)}}}t(e)});function nc(t,e,r,n){var o=e in t&&t.ownerSVGElement===void 0,i=L(r);return{o:function(a,s){i.value=a,n=s},d:gt(function(){this.N=Oa;var a=i.value.value;n[e]!==a&&(n[e]=a,o?t[e]=a:a!=null&&(a!==!1||e[4]==="-")?t.setAttribute(e,a):t.removeAttribute(e))})}}xe("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var n=r.U;if(n){r.U=void 0;for(var o in n){var i=n[o];i&&i.d()}}}}else{var a=e.__c;if(a){var s=a.__$u;s&&(a.__$u=void 0,s.d())}}t(e)});xe("__h",function(t,e,r,n){(n<3||n===9)&&(e.__$f|=2),t(e,r,n)});ge.prototype.shouldComponentUpdate=function(t,e){var r=this.__$u,n=r&&r.s!==void 0;for(var o in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var i=2&this.__$f;if(!(n||i||4&this.__$f)||1&this.__$f)return!0}else if(!(n||4&this.__$f)||3&this.__$f)return!0;for(var a in t)if(a!=="__source"&&t[a]!==this.props[a])return!0;for(var s in this.props)if(!(s in t))return!0;return!1};function et(t,e){return _a(function(){return L(t,e)})[0]}function qt(t,e){var r=zt(t);return r.current=t,Sr.__$f|=4,ve(function(){return V(function(){return r.current()},e)},[])}var oc=function(t){queueMicrotask(function(){queueMicrotask(t)})};function ic(){it(function(){for(var t;t=Ma.shift();)Ea.call(t)})}function Oa(){Ma.push(this)===1&&(F.requestAnimationFrame||oc)(ic)}var ac=Math.pow(10,8)*24*60*60*1e3,Rm=-ac,Pr=6048e5,Pa=864e5,Cr=6e4,Nr=36e5,Ca=1e3;var sc=3600;var Na=sc*24,Fm=Na*7,uc=Na*365.2425,lc=uc/12,Hm=lc*3,$o=Symbol.for("constructDateFrom");function E(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&$o in t?t[$o](e):t instanceof Date?new t.constructor(e):new Date(e)}function I(t,e){return E(e||t,t)}function bt(t,e,r){let n=I(t,r?.in);return isNaN(e)?E(r?.in||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Aa(t,e,r){let n=I(t,r?.in);if(isNaN(e))return E(r?.in||t,NaN);if(!e)return n;let o=n.getDate(),i=E(r?.in||t,n.getTime());i.setMonth(n.getMonth()+e+1,0);let a=i.getDate();return o>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Ar(t,e,r){let{years:n=0,months:o=0,weeks:i=0,days:a=0,hours:s=0,minutes:l=0,seconds:u=0}=e,c=I(t,r?.in),f=o||n?Aa(c,o+n*12):c,m=a||i?bt(f,a+i*7):f,h=l+s*60,g=(u+h*60)*1e3;return E(r?.in||t,+m+g)}function Ra(t,e,r){return E(r?.in||t,+I(t)+e)}function Fa(t,e,r){return Ra(t,e*Nr,r)}var cc={};function yt(){return cc}function ft(t,e){let r=yt(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=I(t,e?.in),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function Tt(t,e){return ft(t,{...e,weekStartsOn:1})}function Rr(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=E(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);let i=Tt(o),a=E(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);let s=Tt(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function re(t){let e=I(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ha(t,...e){let r=E.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function Be(t,e){let r=I(t,e?.in);return r.setHours(0,0,0,0),r}function Vt(t,e,r){let[n,o]=Ha(r?.in,t,e),i=Be(n),a=Be(o),s=+i-re(i),l=+a-re(a);return Math.round((s-l)/Pa)}function La(t,e){let r=Rr(t,e),n=E(e?.in||t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Tt(n)}function $a(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ya(t){return!(!$a(t)&&typeof t!="number"||isNaN(+I(t)))}function Ba(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function za(t,e){return+I(t)-+I(e)}function Fr(t,e,r){let n=za(t,e)/Cr;return Ba(r?.roundingMethod)(n)}function Wa(t,e){let r=I(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}var fc={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qa=(t,e,r)=>{let n,o=fc[t];return typeof o=="string"?n=o:e===1?n=o.one:n=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hr(t){return(e={})=>{let r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var dc={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pc={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mc={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Va={date:Hr({formats:dc,defaultWidth:"full"}),time:Hr({formats:pc,defaultWidth:"full"}),dateTime:Hr({formats:mc,defaultWidth:"full"})};var hc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ua=(t,e,r,n)=>hc[t];function we(t){return(e,r)=>{let n=r?.context?String(r.context):"standalone",o;if(n==="formatting"&&t.formattingValues){let a=t.defaultFormattingWidth||t.defaultWidth,s=r?.width?String(r.width):a;o=t.formattingValues[s]||t.formattingValues[a]}else{let a=t.defaultWidth,s=r?.width?String(r.width):t.defaultWidth;o=t.values[s]||t.values[a]}let i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}var gc={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_c={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wc={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bc=(t,e)=>{let r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ka={ordinalNumber:bc,era:we({values:gc,defaultWidth:"wide"}),quarter:we({values:yc,defaultWidth:"wide",argumentCallback:t=>t-1}),month:we({values:vc,defaultWidth:"wide"}),day:we({values:_c,defaultWidth:"wide"}),dayPeriod:we({values:xc,defaultWidth:"wide",formattingValues:wc,defaultFormattingWidth:"wide"})};function be(t){return(e,r={})=>{let n=r.width,o=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;let a=i[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?kc(s,f=>f.test(a)):Tc(s,f=>f.test(a)),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;let c=e.slice(a.length);return{value:u,rest:c}}}function Tc(t,e){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kc(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Xa(t){return(e,r={})=>{let n=e.match(t.matchPattern);if(!n)return null;let o=n[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;let s=e.slice(o.length);return{value:a,rest:s}}}var Dc=/^(\d+)(th|st|nd|rd)?/i,Ic=/\d+/i,Ec={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mc={any:[/^b/i,/^(a|c)/i]},Sc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oc={any:[/1/i,/2/i,/3/i,/4/i]},Pc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ac={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ga={ordinalNumber:Xa({matchPattern:Dc,parsePattern:Ic,valueCallback:t=>parseInt(t,10)}),era:be({matchPatterns:Ec,defaultMatchWidth:"wide",parsePatterns:Mc,defaultParseWidth:"any"}),quarter:be({matchPatterns:Sc,defaultMatchWidth:"wide",parsePatterns:Oc,defaultParseWidth:"any",valueCallback:t=>t+1}),month:be({matchPatterns:Pc,defaultMatchWidth:"wide",parsePatterns:Cc,defaultParseWidth:"any"}),day:be({matchPatterns:Nc,defaultMatchWidth:"wide",parsePatterns:Ac,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:Rc,defaultMatchWidth:"any",parsePatterns:Fc,defaultParseWidth:"any"})};var ze={code:"en-US",formatDistance:qa,formatLong:Va,formatRelative:Ua,localize:Ka,match:Ga,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ja(t,e){let r=I(t,e?.in);return Vt(r,Wa(r))+1}function Lr(t,e){let r=I(t,e?.in),n=+Tt(r)-+La(r);return Math.round(n/Pr)+1}function Te(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=yt(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=E(e?.in||t,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);let s=ft(a,e),l=E(e?.in||t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);let u=ft(l,e);return+r>=+s?n+1:+r>=+u?n:n-1}function Qa(t,e){let r=yt(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=Te(t,e),i=E(e?.in||t,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),ft(i,e)}function $r(t,e){let r=I(t,e?.in),n=+ft(r,e)-+Qa(r,e);return Math.round(n/Pr)+1}function O(t,e){let r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}var Rt={y(t,e){let r=t.getFullYear(),n=r>0?r:1-r;return O(e==="yy"?n%100:n,e.length)},M(t,e){let r=t.getMonth();return e==="M"?String(r+1):O(r+1,2)},d(t,e){return O(t.getDate(),e.length)},a(t,e){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return O(t.getHours()%12||12,e.length)},H(t,e){return O(t.getHours(),e.length)},m(t,e){return O(t.getMinutes(),e.length)},s(t,e){return O(t.getSeconds(),e.length)},S(t,e){let r=e.length,n=t.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return O(o,e.length)}};var ke={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yo={G:function(t,e,r){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){let n=t.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Rt.y(t,e)},Y:function(t,e,r,n){let o=Te(t,n),i=o>0?o:1-o;if(e==="YY"){let a=i%100;return O(a,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):O(i,e.length)},R:function(t,e){let r=Rr(t);return O(r,e.length)},u:function(t,e){let r=t.getFullYear();return O(r,e.length)},Q:function(t,e,r){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return O(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return O(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){let n=t.getMonth();switch(e){case"M":case"MM":return Rt.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return O(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){let o=$r(t,n);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):O(o,e.length)},I:function(t,e,r){let n=Lr(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):O(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Rt.d(t,e)},D:function(t,e,r){let n=ja(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):O(n,e.length)},E:function(t,e,r){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){let o=t.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return O(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){let o=t.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return O(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){let n=t.getDay(),o=n===0?7:n;switch(e){case"i":return String(o);case"ii":return O(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){let n=t.getHours(),o;switch(n===12?o=ke.noon:n===0?o=ke.midnight:o=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){let n=t.getHours(),o;switch(n>=17?o=ke.evening:n>=12?o=ke.afternoon:n>=4?o=ke.morning:o=ke.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Rt.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Rt.H(t,e)},K:function(t,e,r){let n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):O(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):O(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rt.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Rt.s(t,e)},S:function(t,e){return Rt.S(t,e)},X:function(t,e,r){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Za(n);case"XXXX":case"XX":return ne(n);default:return ne(n,":")}},x:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"x":return Za(n);case"xxxx":case"xx":return ne(n);default:return ne(n,":")}},O:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ja(n,":");default:return"GMT"+ne(n,":")}},z:function(t,e,r){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ja(n,":");default:return"GMT"+ne(n,":")}},t:function(t,e,r){let n=Math.trunc(+t/1e3);return O(n,e.length)},T:function(t,e,r){return O(+t,e.length)}};function Ja(t,e=""){let r=t>0?"-":"+",n=Math.abs(t),o=Math.trunc(n/60),i=n%60;return i===0?r+String(o):r+String(o)+e+O(i,2)}function Za(t,e){return t%60===0?(t>0?"-":"+")+O(Math.abs(t)/60,2):ne(t,e)}function ne(t,e=""){let r=t>0?"-":"+",n=Math.abs(t),o=O(Math.trunc(n/60),2),i=O(n%60,2);return r+o+e+i}var ts=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},es=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Hc=(t,e)=>{let r=t.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return ts(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ts(n,e)).replace("{{time}}",es(o,e))},We={p:es,P:Hc};var Lc=/^D+$/,$c=/^Y+$/,Yc=["D","DD","YY","YYYY"];function Yr(t){return Lc.test(t)}function Br(t){return $c.test(t)}function qe(t,e,r){let n=Bc(t,e,r);if(console.warn(n),Yc.includes(t))throw new RangeError(n)}function Bc(t,e,r){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var zc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qc=/^'([^]*?)'?$/,Vc=/''/g,Uc=/[a-zA-Z]/;function rt(t,e,r){let n=yt(),o=r?.locale??n.locale??ze,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=I(t,r?.in);if(!Ya(s))throw new RangeError("Invalid time value");let l=e.match(Wc).map(c=>{let f=c[0];if(f==="p"||f==="P"){let m=We[f];return m(c,o.formatLong)}return c}).join("").match(zc).map(c=>{if(c==="''")return{isToken:!1,value:"'"};let f=c[0];if(f==="'")return{isToken:!1,value:Kc(c)};if(Yo[f])return{isToken:!0,value:c};if(f.match(Uc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});o.localize.preprocessor&&(l=o.localize.preprocessor(s,l));let u={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return l.map(c=>{if(!c.isToken)return c.value;let f=c.value;(!r?.useAdditionalWeekYearTokens&&Br(f)||!r?.useAdditionalDayOfYearTokens&&Yr(f))&&qe(f,e,String(t));let m=Yo[f[0]];return m(s,f,o.localize,u)}).join("")}function Kc(t){let e=t.match(qc);return e?e[1].replace(Vc,"'"):t}function Bo(t,e){let r=I(t,e?.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n=e?.format??"extended",o=e?.representation??"complete",i="",a="",s=n==="extended"?"-":"",l=n==="extended"?":":"";if(o!=="time"){let u=O(r.getDate(),2),c=O(r.getMonth()+1,2);i=`${O(r.getFullYear(),4)}${s}${c}${s}${u}`}if(o!=="date"){let u=r.getTimezoneOffset();if(u!==0){let g=Math.abs(u),_=O(Math.trunc(g/60),2),y=O(g%60,2);a=`${u<0?"+":"-"}${_}:${y}`}else a="Z";let c=O(r.getHours(),2),f=O(r.getMinutes(),2),m=O(r.getSeconds(),2),h=i===""?"":"T",w=[c,f,m].join(l);i=`${i}${h}${w}${a}`}return i}function rs(t,e){let r=I(t,e?.in),n=r.getFullYear(),o=r.getMonth(),i=E(r,0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}function ns(){return Object.assign({},yt())}function os(t,e){let r=I(t,e?.in).getDay();return r===0?7:r}function is(t,e){let r=Xc(e)?new e(0):E(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function Xc(t){return typeof t=="function"&&t.prototype?.constructor===t}var Gc=10,zr=class{constructor(){x(this,"subPriority",0)}validate(e,r){return!0}},Wr=class extends zr{constructor(e,r,n,o,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=o,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}},qr=class extends zr{constructor(r,n){super();x(this,"priority",Gc);x(this,"subPriority",-1);this.context=r||(o=>E(n,o))}set(r,n){return n.timestampIsSet?r:E(r,is(r,this.context))}};var D=class{run(e,r,n,o){let i=this.parse(e,r,n,o);return i?{setter:new Wr(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}};var Vr=class extends D{constructor(){super(...arguments);x(this,"priority",140);x(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,o){switch(n){case"G":case"GG":case"GGG":return o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"});case"GGGGG":return o.era(r,{width:"narrow"});default:return o.era(r,{width:"wide"})||o.era(r,{width:"abbreviated"})||o.era(r,{width:"narrow"})}}set(r,n,o){return n.era=o,r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}};var A={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Y(t,e){return t&&{value:e(t.value),rest:t.rest}}function N(t,e){let r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function _t(t,e){let r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};let n=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:n*(o*Nr+i*Cr+a*Ca),rest:e.slice(r[0].length)}}function Ur(t){return N(A.anyDigitsSigned,t)}function M(t,e){switch(t){case 1:return N(A.singleDigit,e);case 2:return N(A.twoDigits,e);case 3:return N(A.threeDigits,e);case 4:return N(A.fourDigits,e);default:return N(new RegExp("^\\d{1,"+t+"}"),e)}}function De(t,e){switch(t){case 1:return N(A.singleDigitSigned,e);case 2:return N(A.twoDigitsSigned,e);case 3:return N(A.threeDigitsSigned,e);case 4:return N(A.fourDigitsSigned,e);default:return N(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ie(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Kr(t,e){let r=e>0,n=r?e:1-e,o;if(n<=50)o=t||100;else{let i=n+50,a=Math.trunc(i/100)*100,s=t>=i%100;o=t+a-(s?100:0)}return r?o:1-o}function Xr(t){return t%400===0||t%4===0&&t%100!==0}var Gr=class extends D{constructor(){super(...arguments);x(this,"priority",130);x(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,o){let i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return Y(M(4,r),i);case"yo":return Y(o.ordinalNumber(r,{unit:"year"}),i);default:return Y(M(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o){let i=r.getFullYear();if(o.isTwoDigitYear){let s=Kr(o.year,i);return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}let a=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}};var jr=class extends D{constructor(){super(...arguments);x(this,"priority",130);x(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,o){let i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Y(M(4,r),i);case"Yo":return Y(o.ordinalNumber(r,{unit:"year"}),i);default:return Y(M(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,o,i){let a=Te(r,i);if(o.isTwoDigitYear){let l=Kr(o.year,a);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ft(r,i)}let s=!("era"in n)||n.era===1?o.year:1-o.year;return r.setFullYear(s,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),ft(r,i)}};var Qr=class extends D{constructor(){super(...arguments);x(this,"priority",130);x(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return n==="R"?De(4,r):De(n.length,r)}set(r,n,o){let i=E(r,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Tt(i)}};var Jr=class extends D{constructor(){super(...arguments);x(this,"priority",130);x(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return n==="u"?De(4,r):De(n.length,r)}set(r,n,o){return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}};var Zr=class extends D{constructor(){super(...arguments);x(this,"priority",120);x(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"Q":case"QQ":return M(n.length,r);case"Qo":return o.ordinalNumber(r,{unit:"quarter"});case"QQQ":return o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(r,{width:"narrow",context:"formatting"});default:return o.quarter(r,{width:"wide",context:"formatting"})||o.quarter(r,{width:"abbreviated",context:"formatting"})||o.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}};var tn=class extends D{constructor(){super(...arguments);x(this,"priority",120);x(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"q":case"qq":return M(n.length,r);case"qo":return o.ordinalNumber(r,{unit:"quarter"});case"qqq":return o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(r,{width:"narrow",context:"standalone"});default:return o.quarter(r,{width:"wide",context:"standalone"})||o.quarter(r,{width:"abbreviated",context:"standalone"})||o.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,o){return r.setMonth((o-1)*3,1),r.setHours(0,0,0,0),r}};var en=class extends D{constructor(){super(...arguments);x(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);x(this,"priority",110)}parse(r,n,o){let i=a=>a-1;switch(n){case"M":return Y(N(A.month,r),i);case"MM":return Y(M(2,r),i);case"Mo":return Y(o.ordinalNumber(r,{unit:"month"}),i);case"MMM":return o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(r,{width:"narrow",context:"formatting"});default:return o.month(r,{width:"wide",context:"formatting"})||o.month(r,{width:"abbreviated",context:"formatting"})||o.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}};var rn=class extends D{constructor(){super(...arguments);x(this,"priority",110);x(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,o){let i=a=>a-1;switch(n){case"L":return Y(N(A.month,r),i);case"LL":return Y(M(2,r),i);case"Lo":return Y(o.ordinalNumber(r,{unit:"month"}),i);case"LLL":return o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(r,{width:"narrow",context:"standalone"});default:return o.month(r,{width:"wide",context:"standalone"})||o.month(r,{width:"abbreviated",context:"standalone"})||o.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.setMonth(o,1),r.setHours(0,0,0,0),r}};function as(t,e,r){let n=I(t,r?.in),o=$r(n,r)-e;return n.setDate(n.getDate()-o*7),I(n,r?.in)}var nn=class extends D{constructor(){super(...arguments);x(this,"priority",100);x(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,o){switch(n){case"w":return N(A.week,r);case"wo":return o.ordinalNumber(r,{unit:"week"});default:return M(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o,i){return ft(as(r,o,i),i)}};function ss(t,e,r){let n=I(t,r?.in),o=Lr(n,r)-e;return n.setDate(n.getDate()-o*7),n}var on=class extends D{constructor(){super(...arguments);x(this,"priority",100);x(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,o){switch(n){case"I":return N(A.week,r);case"Io":return o.ordinalNumber(r,{unit:"week"});default:return M(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,o){return Tt(ss(r,o))}};var jc=[31,28,31,30,31,30,31,31,30,31,30,31],Qc=[31,29,31,30,31,30,31,31,30,31,30,31],an=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"subPriority",1);x(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"d":return N(A.date,r);case"do":return o.ordinalNumber(r,{unit:"date"});default:return M(n.length,r)}}validate(r,n){let o=r.getFullYear(),i=Xr(o),a=r.getMonth();return i?n>=1&&n<=Qc[a]:n>=1&&n<=jc[a]}set(r,n,o){return r.setDate(o),r.setHours(0,0,0,0),r}};var sn=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"subpriority",1);x(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,o){switch(n){case"D":case"DD":return N(A.dayOfYear,r);case"Do":return o.ordinalNumber(r,{unit:"date"});default:return M(n.length,r)}}validate(r,n){let o=r.getFullYear();return Xr(o)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,o){return r.setMonth(0,o),r.setHours(0,0,0,0),r}};function Ee(t,e,r){let n=yt(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=I(t,r?.in),a=i.getDay(),l=(e%7+7)%7,u=7-o,c=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return bt(i,c,r)}var un=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,o){switch(n){case"E":case"EE":case"EEE":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=Ee(r,o,i),r.setHours(0,0,0,0),r}};var ln=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,o,i){let a=s=>{let l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Y(M(n.length,r),a);case"eo":return Y(o.ordinalNumber(r,{unit:"day"}),a);case"eee":return o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"});default:return o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=Ee(r,o,i),r.setHours(0,0,0,0),r}};var cn=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,o,i){let a=s=>{let l=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Y(M(n.length,r),a);case"co":return Y(o.ordinalNumber(r,{unit:"day"}),a);case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"});default:return o.day(r,{width:"wide",context:"standalone"})||o.day(r,{width:"abbreviated",context:"standalone"})||o.day(r,{width:"short",context:"standalone"})||o.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,o,i){return r=Ee(r,o,i),r.setHours(0,0,0,0),r}};function us(t,e,r){let n=I(t,r?.in),o=os(n,r),i=e-o;return bt(n,i,r)}var fn=class extends D{constructor(){super(...arguments);x(this,"priority",90);x(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,o){let i=a=>a===0?7:a;switch(n){case"i":case"ii":return M(n.length,r);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return Y(o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Y(o.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Y(o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i);default:return Y(o.day(r,{width:"wide",context:"formatting"})||o.day(r,{width:"abbreviated",context:"formatting"})||o.day(r,{width:"short",context:"formatting"})||o.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,o){return r=us(r,o),r.setHours(0,0,0,0),r}};var dn=class extends D{constructor(){super(...arguments);x(this,"priority",80);x(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,o){switch(n){case"a":case"aa":case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Ie(o),0,0,0),r}};var pn=class extends D{constructor(){super(...arguments);x(this,"priority",80);x(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,o){switch(n){case"b":case"bb":case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Ie(o),0,0,0),r}};var mn=class extends D{constructor(){super(...arguments);x(this,"priority",80);x(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,o){switch(n){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});default:return o.dayPeriod(r,{width:"wide",context:"formatting"})||o.dayPeriod(r,{width:"abbreviated",context:"formatting"})||o.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,o){return r.setHours(Ie(o),0,0,0),r}};var hn=class extends D{constructor(){super(...arguments);x(this,"priority",70);x(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,o){switch(n){case"h":return N(A.hour12h,r);case"ho":return o.ordinalNumber(r,{unit:"hour"});default:return M(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,o){let i=r.getHours()>=12;return i&&o<12?r.setHours(o+12,0,0,0):!i&&o===12?r.setHours(0,0,0,0):r.setHours(o,0,0,0),r}};var gn=class extends D{constructor(){super(...arguments);x(this,"priority",70);x(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,o){switch(n){case"H":return N(A.hour23h,r);case"Ho":return o.ordinalNumber(r,{unit:"hour"});default:return M(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,o){return r.setHours(o,0,0,0),r}};var yn=class extends D{constructor(){super(...arguments);x(this,"priority",70);x(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,o){switch(n){case"K":return N(A.hour11h,r);case"Ko":return o.ordinalNumber(r,{unit:"hour"});default:return M(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,o){return r.getHours()>=12&&o<12?r.setHours(o+12,0,0,0):r.setHours(o,0,0,0),r}};var vn=class extends D{constructor(){super(...arguments);x(this,"priority",70);x(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,o){switch(n){case"k":return N(A.hour24h,r);case"ko":return o.ordinalNumber(r,{unit:"hour"});default:return M(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,o){let i=o<=24?o%24:o;return r.setHours(i,0,0,0),r}};var _n=class extends D{constructor(){super(...arguments);x(this,"priority",60);x(this,"incompatibleTokens",["t","T"])}parse(r,n,o){switch(n){case"m":return N(A.minute,r);case"mo":return o.ordinalNumber(r,{unit:"minute"});default:return M(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setMinutes(o,0,0),r}};var xn=class extends D{constructor(){super(...arguments);x(this,"priority",50);x(this,"incompatibleTokens",["t","T"])}parse(r,n,o){switch(n){case"s":return N(A.second,r);case"so":return o.ordinalNumber(r,{unit:"second"});default:return M(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,o){return r.setSeconds(o,0),r}};var wn=class extends D{constructor(){super(...arguments);x(this,"priority",30);x(this,"incompatibleTokens",["t","T"])}parse(r,n){let o=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Y(M(n.length,r),o)}set(r,n,o){return r.setMilliseconds(o),r}};var bn=class extends D{constructor(){super(...arguments);x(this,"priority",10);x(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return _t(vt.basicOptionalMinutes,r);case"XX":return _t(vt.basic,r);case"XXXX":return _t(vt.basicOptionalSeconds,r);case"XXXXX":return _t(vt.extendedOptionalSeconds,r);default:return _t(vt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:E(r,r.getTime()-re(r)-o)}};var Tn=class extends D{constructor(){super(...arguments);x(this,"priority",10);x(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return _t(vt.basicOptionalMinutes,r);case"xx":return _t(vt.basic,r);case"xxxx":return _t(vt.basicOptionalSeconds,r);case"xxxxx":return _t(vt.extendedOptionalSeconds,r);default:return _t(vt.extended,r)}}set(r,n,o){return n.timestampIsSet?r:E(r,r.getTime()-re(r)-o)}};var kn=class extends D{constructor(){super(...arguments);x(this,"priority",40);x(this,"incompatibleTokens","*")}parse(r){return Ur(r)}set(r,n,o){return[E(r,o*1e3),{timestampIsSet:!0}]}};var Dn=class extends D{constructor(){super(...arguments);x(this,"priority",20);x(this,"incompatibleTokens","*")}parse(r){return Ur(r)}set(r,n,o){return[E(r,o),{timestampIsSet:!0}]}};var ls={G:new Vr,y:new Gr,Y:new jr,R:new Qr,u:new Jr,Q:new Zr,q:new tn,M:new en,L:new rn,w:new nn,I:new on,d:new an,D:new sn,E:new un,e:new ln,c:new cn,i:new fn,a:new dn,b:new pn,B:new mn,h:new hn,H:new gn,K:new yn,k:new vn,m:new _n,s:new xn,S:new wn,X:new bn,x:new Tn,t:new kn,T:new Dn};var Jc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tf=/^'([^]*?)'?$/,ef=/''/g,rf=/\S/,nf=/[a-zA-Z]/;function cs(t,e,r,n){let o=()=>E(n?.in||r,NaN),i=ns(),a=n?.locale??i.locale??ze,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return t?o():I(r,n?.in);let u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},c=[new qr(n?.in,r)],f=e.match(Zc).map(_=>{let y=_[0];if(y in We){let v=We[y];return v(_,a.formatLong)}return _}).join("").match(Jc),m=[];for(let _ of f){!n?.useAdditionalWeekYearTokens&&Br(_)&&qe(_,e,t),!n?.useAdditionalDayOfYearTokens&&Yr(_)&&qe(_,e,t);let y=_[0],v=ls[y];if(v){let{incompatibleTokens:T}=v;if(Array.isArray(T)){let b=m.find(R=>T.includes(R.token)||R.token===y);if(b)throw new RangeError(`The format string mustn't contain \`${b.fullToken}\` and \`${_}\` at the same time`)}else if(v.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);m.push({token:y,fullToken:_});let k=v.run(t,_,a.match,u);if(!k)return o();c.push(k.setter),t=k.rest}else{if(y.match(nf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(_==="''"?_="'":y==="'"&&(_=of(_)),t.indexOf(_)===0)t=t.slice(_.length);else return o()}}if(t.length>0&&rf.test(t))return o();let h=c.map(_=>_.priority).sort((_,y)=>y-_).filter((_,y,v)=>v.indexOf(_)===y).map(_=>c.filter(y=>y.priority===_).sort((y,v)=>v.subPriority-y.subPriority)).map(_=>_[0]),w=I(r,n?.in);if(isNaN(+w))return o();let g={};for(let _ of h){if(!_.validate(w,u))return o();let y=_.set(w,g,u);Array.isArray(y)?(w=y[0],Object.assign(g,y[1])):w=y}return w}function of(t){return t.match(tf)[1].replace(ef,"'")}function fs(t,e,r){let n=I(t,r?.in),o=n.getFullYear(),i=n.getDate(),a=E(r?.in||t,0);a.setFullYear(o,e,15),a.setHours(0,0,0,0);let s=rs(a);return n.setMonth(e,Math.min(i,s)),n}function zo(t,e,r){let n=I(t,r?.in);return isNaN(+n)?E(r?.in||t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=fs(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}var U={Remove:"remove",Replace:"replace",Add:"add"},gs=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),af=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),In=Symbol.iterator,mt={mutable:"mutable",immutable:"immutable"},Go={};function Ue(t,e){return t instanceof Map?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ds(t,e){if(e in t){let r=Reflect.getPrototypeOf(t);for(;r;){let n=Reflect.getOwnPropertyDescriptor(r,e);if(n)return n;r=Reflect.getPrototypeOf(r)}}}function jo(t){return Object.getPrototypeOf(t)===Set.prototype}function Qo(t){return Object.getPrototypeOf(t)===Map.prototype}function pt(t){var e;return(e=t.copy)!==null&&e!==void 0?e:t.original}function Ut(t){return!!C(t)}function C(t){return typeof t!="object"?null:t?.[gs]}function Jo(t){var e;let r=C(t);return r?(e=r.copy)!==null&&e!==void 0?e:r.original:t}function kt(t,e){if(!t||typeof t!="object")return!1;let r;return Object.getPrototypeOf(t)===Object.prototype||Array.isArray(t)||t instanceof Map||t instanceof Set||!!e?.mark&&((r=e.mark(t,mt))===mt.immutable||typeof r=="function")}function ys(t,e=[]){if(Object.hasOwnProperty.call(t,"key")){let r=t.parent.copy,n=C(Ht(r,t.key));if(n!==null&&n?.original!==t.original)return null;let o=t.parent.type===3,i=o?Array.from(t.parent.setMap.keys()).indexOf(t.key):t.key;if(!(o&&r.size>i||Ue(r,i)))return null;e.push(i)}if(t.parent)return ys(t.parent,e);e.reverse();try{sf(t.copy,e)}catch{return null}return e}function ie(t){return Array.isArray(t)?1:t instanceof Map?2:t instanceof Set?3:0}function Ht(t,e){return ie(t)===2?t.get(e):t[e]}function Xe(t,e,r){ie(t)===2?t.set(e,r):t[e]=r}function Wo(t,e){let r=C(t);return(r?pt(r):t)[e]}function Ft(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qo(t){if(t)for(;t.finalities.revoke.length>0;)t.finalities.revoke.pop()()}function oe(t,e){return e?t:[""].concat(t).map(r=>{let n=`${r}`;return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function sf(t,e){for(let r=0;r<e.length-1;r+=1){let n=e[r];if(t=Ht(ie(t)===3?Array.from(t):t,n),typeof t!="object")throw new Error(`Cannot resolve patch at '${e.join("/")}'.`)}return t}function uf(t){let e=Object.create(Object.getPrototypeOf(t));return Reflect.ownKeys(t).forEach(r=>{let n=Reflect.getOwnPropertyDescriptor(t,r);if(n.enumerable&&n.configurable&&n.writable){e[r]=t[r];return}n.writable||(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(n={configurable:!0,writable:!0,enumerable:n.enumerable,value:t[r]}),Reflect.defineProperty(e,r,n)}),e}var lf=Object.prototype.propertyIsEnumerable;function vs(t,e){let r;if(Array.isArray(t))return Array.prototype.concat.call(t);if(t instanceof Set){if(!jo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(t.values())}return Set.prototype.difference?Set.prototype.difference.call(t,new Set):new Set(t.values())}else if(t instanceof Map){if(!Qo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(t)}return new Map(t)}else if(e?.mark&&(r=e.mark(t,mt),r!==void 0)&&r!==mt.mutable){if(r===mt.immutable)return uf(t);if(typeof r=="function"){if(e.enablePatches||e.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return r()}throw new Error(`Unsupported mark result: ${r}`)}else if(typeof t=="object"&&Object.getPrototypeOf(t)===Object.prototype){let n={};return Object.keys(t).forEach(o=>{n[o]=t[o]}),Object.getOwnPropertySymbols(t).forEach(o=>{lf.call(t,o)&&(n[o]=t[o])}),n}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function at(t){t.copy||(t.copy=vs(t.original,t.options))}function Ve(t){if(!kt(t))return Jo(t);if(Array.isArray(t))return t.map(Ve);if(t instanceof Map){let r=Array.from(t.entries()).map(([n,o])=>[n,Ve(o)]);if(!Qo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(r)}return new Map(r)}if(t instanceof Set){let r=Array.from(t).map(Ve);if(!jo(t)){let n=Object.getPrototypeOf(t).constructor;return new n(r)}return new Set(r)}let e=Object.create(Object.getPrototypeOf(t));for(let r in t)e[r]=Ve(t[r]);return e}function En(t){return Ut(t)?Ve(t):t}function St(t){var e;t.assignedMap=(e=t.assignedMap)!==null&&e!==void 0?e:new Map,t.operated||(t.operated=!0,t.parent&&St(t.parent))}function ps(){throw new Error("Cannot modify frozen object")}function Me(t,e,r,n,o){{r=r??new WeakMap,n=n??[],o=o??[];let a=r.has(t)?r.get(t):t;if(n.length>0){let s=n.indexOf(a);if(a&&typeof a=="object"&&s!==-1)throw n[0]===a?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${o.slice(0,s).map((l,u)=>{if(typeof l=="symbol")return`[${l.toString()}]`;let c=n[u];return typeof l=="object"&&(c instanceof Map||c instanceof Set)?Array.from(c.keys()).indexOf(l):l}).join("/")}`);n.push(a),o.push(e)}else n.push(a)}if(Object.isFrozen(t)||Ut(t)){n.pop(),o.pop();return}switch(ie(t)){case 2:for(let[s,l]of t)Me(s,s,r,n,o),Me(l,s,r,n,o);t.set=t.clear=t.delete=ps;break;case 3:for(let s of t)Me(s,s,r,n,o);t.add=t.clear=t.delete=ps;break;case 1:Object.freeze(t);let a=0;for(let s of t)Me(s,a,r,n,o),a+=1;break;default:Object.freeze(t),Object.keys(t).forEach(s=>{let l=t[s];Me(l,s,r,n,o)})}n.pop(),o.pop()}function Zo(t,e){let r=ie(t);if(r===0)Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)});else if(r===1){let n=0;for(let o of t)e(n,o,t),n+=1}else t.forEach((n,o)=>e(o,n,t))}function _s(t,e,r){if(Ut(t)||!kt(t,r)||e.has(t)||Object.isFrozen(t))return;let n=t instanceof Set,o=n?new Map:void 0;if(e.add(t),Zo(t,(i,a)=>{var s;if(Ut(a)){let l=C(a);at(l);let u=!((s=l.assignedMap)===null||s===void 0)&&s.size||l.operated?l.copy:l.original;Xe(n?o:t,i,u)}else _s(a,e,r)}),o){let i=t,a=Array.from(i);i.clear(),a.forEach(s=>{i.add(o.has(s)?o.get(s):s)})}}function cf(t,e){let r=t.type===3?t.setMap:t.copy;t.finalities.revoke.length>1&&t.assignedMap.get(e)&&r&&_s(Ht(r,e),t.finalities.handledSet,t.options)}function Vo(t){t.type===3&&t.copy&&(t.copy.clear(),t.setMap.forEach(e=>{t.copy.add(Jo(e))}))}function Uo(t,e,r,n){if(t.operated&&t.assignedMap&&t.assignedMap.size>0&&!t.finalized){if(r&&n){let i=ys(t);i&&e(t,i,r,n)}t.finalized=!0}}function ti(t,e,r,n){let o=C(r);o&&(o.callbacks||(o.callbacks=[]),o.callbacks.push((i,a)=>{var s;let l=t.type===3?t.setMap:t.copy;if(Ft(Ht(l,e),r)){let u=o.original;o.copy&&(u=o.copy),Vo(t),Uo(t,n,i,a),t.options.enableAutoFreeze&&(t.options.updatedValues=(s=t.options.updatedValues)!==null&&s!==void 0?s:new WeakMap,t.options.updatedValues.set(u,o.original)),Xe(l,e,u)}}),t.options.enableAutoFreeze&&o.finalities!==t.finalities&&(t.options.enableAutoFreeze=!1)),kt(r,t.options)&&t.finalities.draft.push(()=>{let i=t.type===3?t.setMap:t.copy;Ft(Ht(i,e),r)&&cf(t,e)})}function ff(t,e,r,n,o){let{original:i,assignedMap:a,options:s}=t,l=t.copy;l.length<i.length&&([i,l]=[l,i],[r,n]=[n,r]);for(let u=0;u<i.length;u+=1)if(a.get(u.toString())&&l[u]!==i[u]){let c=e.concat([u]),f=oe(c,o);r.push({op:U.Replace,path:f,value:En(l[u])}),n.push({op:U.Replace,path:f,value:En(i[u])})}for(let u=i.length;u<l.length;u+=1){let c=e.concat([u]),f=oe(c,o);r.push({op:U.Add,path:f,value:En(l[u])})}if(i.length<l.length){let{arrayLengthAssignment:u=!0}=s.enablePatches;if(u){let c=e.concat(["length"]),f=oe(c,o);n.push({op:U.Replace,path:f,value:i.length})}else for(let c=l.length;i.length<c;c-=1){let f=e.concat([c-1]),m=oe(f,o);n.push({op:U.Remove,path:m})}}}function df({original:t,copy:e,assignedMap:r},n,o,i,a){r.forEach((s,l)=>{let u=Ht(t,l),c=En(Ht(e,l)),f=s?Ue(t,l)?U.Replace:U.Add:U.Remove;if(Ft(u,c)&&f===U.Replace)return;let m=n.concat(l),h=oe(m,a);o.push(f===U.Remove?{op:f,path:h}:{op:f,path:h,value:c}),i.push(f===U.Add?{op:U.Remove,path:h}:f===U.Remove?{op:U.Add,path:h,value:u}:{op:U.Replace,path:h,value:u})})}function pf({original:t,copy:e},r,n,o,i){let a=0;t.forEach(s=>{if(!e.has(s)){let l=r.concat([a]),u=oe(l,i);n.push({op:U.Remove,path:u,value:s}),o.unshift({op:U.Add,path:u,value:s})}a+=1}),a=0,e.forEach(s=>{if(!t.has(s)){let l=r.concat([a]),u=oe(l,i);n.push({op:U.Add,path:u,value:s}),o.unshift({op:U.Remove,path:u,value:s})}a+=1})}function Ke(t,e,r,n){let{pathAsArray:o=!0}=t.options.enablePatches;switch(t.type){case 0:case 2:return df(t,e,r,n,o);case 1:return ff(t,e,r,n,o);case 3:return pf(t,e,r,n,o)}}var mf=!1,Mn=(t,e,r=!1)=>{if(typeof t=="object"&&t!==null&&(!kt(t,e)||r)&&!mf)throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")};var Ko={get size(){return pt(C(this)).size},has(t){return pt(C(this)).has(t)},set(t,e){let r=C(this),n=pt(r);return(!n.has(t)||!Ft(n.get(t),e))&&(at(r),St(r),r.assignedMap.set(t,!0),r.copy.set(t,e),ti(r,t,e,Ke)),this},delete(t){if(!this.has(t))return!1;let e=C(this);return at(e),St(e),e.original.has(t)?e.assignedMap.set(t,!1):e.assignedMap.delete(t),e.copy.delete(t),!0},clear(){let t=C(this);if(this.size){at(t),St(t),t.assignedMap=new Map;for(let[e]of t.original)t.assignedMap.set(e,!1);t.copy.clear()}},forEach(t,e){let r=C(this);pt(r).forEach((n,o)=>{t.call(e,this.get(o),o,this)})},get(t){var e,r;let n=C(this),o=pt(n).get(t),i=((r=(e=n.options).mark)===null||r===void 0?void 0:r.call(e,o,mt))===mt.mutable;if(n.options.strict&&Mn(o,n.options,i),i||n.finalized||!kt(o,n.options)||o!==n.original.get(t))return o;let a=Go.createDraft({original:o,parentDraft:n,key:t,finalities:n.finalities,options:n.options});return at(n),n.copy.set(t,a),a},keys(){return pt(C(this)).keys()},values(){let t=this.keys();return{[In]:()=>this.values(),next:()=>{let e=t.next();return e.done?e:{done:!1,value:this.get(e.value)}}}},entries(){let t=this.keys();return{[In]:()=>this.entries(),next:()=>{let e=t.next();if(e.done)return e;let r=this.get(e.value);return{done:!1,value:[e.value,r]}}}},[In](){return this.entries()}},hf=Reflect.ownKeys(Ko),ms=(t,e,{isValuesIterator:r})=>()=>{var n,o;let i=e.next();if(i.done)return i;let a=i.value,s=t.setMap.get(a),l=C(s),u=((o=(n=t.options).mark)===null||o===void 0?void 0:o.call(n,s,mt))===mt.mutable;if(t.options.strict&&Mn(a,t.options,u),!u&&!l&&kt(a,t.options)&&!t.finalized&&t.original.has(a)){let c=Go.createDraft({original:a,parentDraft:t,key:a,finalities:t.finalities,options:t.options});t.setMap.set(a,c),s=c}else l&&(s=l.proxy);return{done:!1,value:r?s:[s,s]}},Sn={get size(){return C(this).setMap.size},has(t){let e=C(this);if(e.setMap.has(t))return!0;at(e);let r=C(t);return!!(r&&e.setMap.has(r.original))},add(t){let e=C(this);return this.has(t)||(at(e),St(e),e.assignedMap.set(t,!0),e.setMap.set(t,t),ti(e,t,t,Ke)),this},delete(t){if(!this.has(t))return!1;let e=C(this);at(e),St(e);let r=C(t);return r&&e.setMap.has(r.original)?(e.assignedMap.set(r.original,!1),e.setMap.delete(r.original)):(!r&&e.setMap.has(t)?e.assignedMap.set(t,!1):e.assignedMap.delete(t),e.setMap.delete(t))},clear(){if(!this.size)return;let t=C(this);at(t),St(t);for(let e of t.original)t.assignedMap.set(e,!1);t.setMap.clear()},values(){let t=C(this);at(t);let e=t.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:ms(t,e,{isValuesIterator:!0})}},entries(){let t=C(this);at(t);let e=t.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:ms(t,e,{isValuesIterator:!1})}},keys(){return this.values()},[In](){return this.values()},forEach(t,e){let r=this.values(),n=r.next();for(;!n.done;)t.call(e,n.value,n.value,this),n=r.next()}};Set.prototype.difference&&Object.assign(Sn,{intersection(t){return Set.prototype.intersection.call(new Set(this.values()),t)},union(t){return Set.prototype.union.call(new Set(this.values()),t)},difference(t){return Set.prototype.difference.call(new Set(this.values()),t)},symmetricDifference(t){return Set.prototype.symmetricDifference.call(new Set(this.values()),t)},isSubsetOf(t){return Set.prototype.isSubsetOf.call(new Set(this.values()),t)},isSupersetOf(t){return Set.prototype.isSupersetOf.call(new Set(this.values()),t)},isDisjointFrom(t){return Set.prototype.isDisjointFrom.call(new Set(this.values()),t)}});var gf=Reflect.ownKeys(Sn),xs={get(t,e,r){var n,o;let i=(n=t.copy)===null||n===void 0?void 0:n[e];if(i&&t.finalities.draftsCache.has(i))return i;if(e===gs)return t;let a;if(t.options.mark){let u=e==="size"&&(t.original instanceof Map||t.original instanceof Set)?Reflect.get(t.original,e):Reflect.get(t.original,e,r);if(a=t.options.mark(u,mt),a===mt.mutable)return t.options.strict&&Mn(u,t.options,!0),u}let s=pt(t);if(s instanceof Map&&hf.includes(e))return e==="size"?Object.getOwnPropertyDescriptor(Ko,"size").get.call(t.proxy):Ko[e].bind(t.proxy);if(s instanceof Set&&gf.includes(e))return e==="size"?Object.getOwnPropertyDescriptor(Sn,"size").get.call(t.proxy):Sn[e].bind(t.proxy);if(!Ue(s,e)){let u=ds(s,e);return u?"value"in u?u.value:(o=u.get)===null||o===void 0?void 0:o.call(t.proxy):void 0}let l=s[e];if(t.options.strict&&Mn(l,t.options),t.finalized||!kt(l,t.options))return l;if(l===Wo(t.original,e)){if(at(t),t.copy[e]=ei({original:t.original[e],parentDraft:t,key:t.type===1?Number(e):e,finalities:t.finalities,options:t.options}),typeof a=="function"){let u=C(t.copy[e]);return at(u),St(u),u.copy}return t.copy[e]}return Ut(l)&&t.finalities.draftsCache.add(l),l},set(t,e,r){var n;if(t.type===3||t.type===2)throw new Error("Map/Set draft does not support any property assignment.");let o;if(t.type===1&&e!=="length"&&!(Number.isInteger(o=Number(e))&&o>=0&&(e===0||o===0||String(o)===String(e))))throw new Error("Only supports setting array indices and the 'length' property.");let i=ds(pt(t),e);if(i?.set)return i.set.call(t.proxy,r),!0;let a=Wo(pt(t),e),s=C(a);return s&&Ft(s.original,r)?(t.copy[e]=r,t.assignedMap=(n=t.assignedMap)!==null&&n!==void 0?n:new Map,t.assignedMap.set(e,!1),!0):(Ft(r,a)&&(r!==void 0||Ue(t.original,e))||(at(t),St(t),Ue(t.original,e)&&Ft(r,t.original[e])?t.assignedMap.delete(e):t.assignedMap.set(e,!0),t.copy[e]=r,ti(t,e,r,Ke)),!0)},has(t,e){return e in pt(t)},ownKeys(t){return Reflect.ownKeys(pt(t))},getOwnPropertyDescriptor(t,e){let r=pt(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},getPrototypeOf(t){return Reflect.getPrototypeOf(t.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(t,e){var r;return t.type===1?xs.set.call(this,t,e,void 0,t.proxy):(Wo(t.original,e)!==void 0||e in t.original?(at(t),St(t),t.assignedMap.set(e,!1)):(t.assignedMap=(r=t.assignedMap)!==null&&r!==void 0?r:new Map,t.assignedMap.delete(e)),t.copy&&delete t.copy[e],!0)}};function ei(t){let{original:e,parentDraft:r,key:n,finalities:o,options:i}=t,a=ie(e),s={type:a,finalized:!1,parent:r,original:e,copy:null,proxy:null,finalities:o,options:i,setMap:a===3?new Map(e.entries()):void 0};(n||"key"in t)&&(s.key=n);let{proxy:l,revoke:u}=Proxy.revocable(a===1?Object.assign([],s):s,xs);if(o.revoke.push(u),s.proxy=l,r){let c=r;c.finalities.draft.push((f,m)=>{var h,w;let g=C(l),_=c.type===3?c.setMap:c.copy,y=Ht(_,n),v=C(y);if(v){let T=v.original;v.operated&&(T=Jo(y)),Vo(v),Uo(v,Ke,f,m),c.options.enableAutoFreeze&&(c.options.updatedValues=(h=c.options.updatedValues)!==null&&h!==void 0?h:new WeakMap,c.options.updatedValues.set(T,v.original)),Xe(_,n,T)}(w=g.callbacks)===null||w===void 0||w.forEach(T=>{T(f,m)})})}else{let c=C(l);c.finalities.draft.push((f,m)=>{Vo(c),Uo(c,Ke,f,m)})}return l}Go.createDraft=ei;function yf(t,e,r,n,o){var i;let a=C(t),s=(i=a?.original)!==null&&i!==void 0?i:t,l=!!e.length;if(a?.operated)for(;a.finalities.draft.length>0;)a.finalities.draft.pop()(r,n);let u=l?e[0]:a?a.operated?a.copy:a.original:t;return a&&qo(a),o&&Me(u,u,a?.options.updatedValues),[u,r&&l?[{op:U.Replace,path:[],value:e[0]}]:r,n&&l?[{op:U.Replace,path:[],value:s}]:n]}function vf(t,e){var r;let n={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet},o,i;e.enablePatches&&(o=[],i=[]);let s=((r=e.mark)===null||r===void 0?void 0:r.call(e,t,mt))===mt.mutable||!kt(t,e)?t:ei({original:t,parentDraft:null,finalities:n,options:e});return[s,(l=[])=>{let[u,c,f]=yf(s,l,o,i,e.enableAutoFreeze);return e.enablePatches?[u,c,f]:u}]}function Xo(t){let{rootDraft:e,value:r,useRawReturn:n=!1,isRoot:o=!0}=t;Zo(r,(i,a,s)=>{let l=C(a);if(l&&e&&l.finalities===e.finalities){t.isContainDraft=!0;let u=l.original;if(s instanceof Set){let c=Array.from(s);s.clear(),c.forEach(f=>s.add(i===f?u:f))}else Xe(s,i,u)}else typeof a=="object"&&a!==null&&(t.value=a,t.isRoot=!1,Xo(t))}),o&&(t.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),n&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function ws(t){var e;let r=C(t);if(!kt(t,r?.options))return t;let n=ie(t);if(r&&!r.operated)return r.original;let o;function i(){o=n===2?Qo(t)?new Map(t):new(Object.getPrototypeOf(t)).constructor(t):n===3?Array.from(r.setMap.values()):vs(t,r?.options)}if(r){r.finalized=!0;try{i()}finally{r.finalized=!1}}else o=t;if(Zo(o,(a,s)=>{if(r&&Ft(Ht(r.original,a),s))return;let l=ws(s);l!==s&&(o===t&&i(),Xe(o,a,l))}),n===3){let a=(e=r?.original)!==null&&e!==void 0?e:o;return jo(a)?new Set(o):new(Object.getPrototypeOf(a)).constructor(o)}return o}function hs(t){if(!Ut(t))throw new Error(`current() is only used for Draft, parameter: ${t}`);return ws(t)}var ri=t=>{if(t!==void 0&&Object.prototype.toString.call(t)!=="[object Object]")throw new Error(`Invalid options: ${String(t)}, 'options' should be an object.`);return function e(r,n,o){var i,a,s;if(typeof r=="function"&&typeof n!="function")return function(b,...R){return e(b,B=>r.call(this,B,...R),n)};let l=r,u=n,c=o;if(typeof n!="function"&&(c=n),c!==void 0&&Object.prototype.toString.call(c)!=="[object Object]")throw new Error(`Invalid options: ${c}, 'options' should be an object.`);c=Object.assign(Object.assign({},t),c);let f=Ut(l)?hs(l):l,m=Array.isArray(c.mark)?((b,R)=>{for(let B of c.mark){if(typeof B!="function")throw new Error(`Invalid mark: ${B}, 'mark' should be a function.`);let z=B(b,R);if(z)return z}}):c.mark,h=(i=c.enablePatches)!==null&&i!==void 0?i:!1,w=(a=c.strict)!==null&&a!==void 0?a:!1,_={enableAutoFreeze:(s=c.enableAutoFreeze)!==null&&s!==void 0?s:!1,mark:m,strict:w,enablePatches:h};if(!kt(f,_)&&typeof f=="object"&&f!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");let[y,v]=vf(f,_);if(typeof n!="function"){if(!kt(f,_))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[y,v]}let T;try{T=u(y)}catch(b){throw qo(C(y)),b}let k=b=>{let R=C(y);if(!Ut(b)){if(b!==void 0&&!Ft(b,y)&&R?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");let z=b?.[af];if(z){let tt=z[0];return _.strict&&typeof b=="object"&&b!==null&&Xo({rootDraft:R,value:b,useRawReturn:!0}),v([tt])}if(b!==void 0)return typeof b=="object"&&b!==null&&Xo({rootDraft:R,value:b}),v([b])}if(b===y||b===void 0)return v([]);let B=C(b);if(_===B.options){if(B.operated)throw new Error("Cannot return a modified child draft.");return v([hs(b)])}return v([b])};return T instanceof Promise?T.then(k,b=>{throw qo(C(y)),b}):k(T)}},Dx=ri();var Ix=Object.prototype.constructor.toString();function Se(t){return rt(t,"yyyyMMdd")}function bs(t){return rt(t,"yyyy-MM-dd EEE")}function On(t,e){let r=Fr(t,e),n=r<0?"-":"";r=Math.abs(r);let o=Math.trunc(r/60),i="0"+Math.trunc(r%60).toString();return n+o+":"+i.substring(i.length-2)}function Pn(t){return t.error?.message?String(t.error.message):t.result?t.result.error?JSON.stringify(t.result.error):JSON.stringify(t.result):String(t)}var ht=ri({strict:!1});var _f="328707944394-ev19dnlf5guu0vn8p9cn6u0lckqbfhru.apps.googleusercontent.com",Dt=new URLSearchParams(window.location.search).getAll("id")||[],Cn=new Promise(t=>{gapi.load("client:auth2",()=>{t(gapi.client.init({clientId:_f,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:"https://www.googleapis.com/auth/spreadsheets"}))})});function It(t){return async(...e)=>{p.busy.value++;try{return await t(...e)}finally{p.busy.value--}}}var Ts=It(async t=>{p.googleSignedIn.value=t,t&&await Ss()});Cn.then(It(async()=>{let t=gapi.auth2.getAuthInstance().isSignedIn.get();await Ts(t),gapi.auth2.getAuthInstance().isSignedIn.listen(Ts)}));var Ds=(async function(){let t={};await Cn;for(let e of Dt){let r=await gapi.client.sheets.spreadsheets.get({spreadsheetId:e,fields:"sheets.properties"});t[e]=r.result.sheets[0].properties.sheetId}return t})();function je(t){t.key=`${t.rowNum}:${t.spreadsheetId}`}var Is=It(async(t,...e)=>{await Cn;let r=[];for(let o of e)r.push(`A${o.rowNum}:B${o.rowNum+o.count-1}`);return r.length===0&&r.push("A:B"),((await gapi.client.sheets.spreadsheets.values.batchGet({spreadsheetId:t,ranges:r})).result.valueRanges||[]).flatMap((o,i)=>(o.values||[]).flatMap((a,s)=>{if(e.length===0&&i>0)throw Error("BUG");if(!a||!a[0])return[];let l=(e.length>0?e[i].rowNum:1)+s,u=new Date(a[0]),c=Se(u),f={spreadsheetId:t,rowNum:l,key:"",day:c,date:u,text:a[1]||""};return je(f),[f]}))}),ni=It(async()=>{let t=[];for(let e of Dt){let r=await Is(e);t=t.concat(r)}p.trackingItems.value=t,An(t)}),Nn=It(async t=>{let e={};for(let o of p.trackingItems.value){let i=t(o);i!==void 0&&!Ns(i,o)&&(e[o.key]={currentItem:o,updatedItemContent:i})}if(Object.keys(e).length===0)return!1;let r=Object.values(e).map(o=>o.currentItem);if(!await Cs(r))return!1;let n=Object.groupBy(r,o=>o.spreadsheetId);for(let o in n){let i=[],a=(await Ds)[o];for(let s in e){let l=e[s];l.currentItem.spreadsheetId===o&&i.push({updateCells:{fields:"*",start:{sheetId:a,rowIndex:l.currentItem.rowNum-1,columnIndex:0},rows:[{values:[{userEnteredValue:{stringValue:rt(l.updatedItemContent.date,Oe)}},{userEnteredValue:{stringValue:l.updatedItemContent.text}}]}]}})}await gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:o,resource:{requests:i}})}return p.trackingItems.value=p.trackingItems.value.map(o=>{let i=e[o.key];if(!i)return o;let a=new Date(rt(i.updatedItemContent.date,Oe)),s=Se(a),l={spreadsheetId:o.spreadsheetId,rowNum:o.rowNum,key:"",day:s,date:a,text:i.updatedItemContent.text};return je(l),l}),An(p.trackingItems.value),!0}),Es=It(async t=>{if(!await Cs(t))return;let e=Object.groupBy(t,r=>r.spreadsheetId);for(let r in e){let n=(await Ds)[r],o=t.sort((i,a)=>a.rowNum-i.rowNum).map(i=>({deleteDimension:{range:{sheetId:n,dimension:"ROWS",startIndex:i.rowNum-1,endIndex:i.rowNum}}}));await gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:r,resource:{requests:o}})}await ni()}),Oe="M/d/yyyy H:mm:ss";function Ms(){let t=[];try{t=JSON.parse(window.localStorage[Ge]||"[]")}catch(e){console.error("failed to parse pending items in localStorage",e)}return t.map(e=>({text:e.text,date:new Date(e.date)}))}var Pe=It(async t=>{xf(t),await Ss()});function xf(t){let e=Ms();e.push(...t),window.localStorage[Ge]=JSON.stringify(e)}async function Ss(){await Cn;let t=Ms();if(t.length===0)return;let e=await wf(Dt[0],t);window.localStorage[Ge]=JSON.stringify(JSON.parse(window.localStorage[Ge]).slice(t.length));let r=e.result.updates?.updatedRange,n=parseInt(/!A(\d+)/.exec(r)[1],10),o=t.map((i,a)=>{let s={spreadsheetId:Dt[0],rowNum:n+a,text:i.text,day:Se(i.date),date:new Date(rt(i.date,Oe)),key:""};return je(s),s});p.trackingItems.value=[...p.trackingItems.value,...o],An(p.trackingItems.value)}function wf(t,e){return gapi.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:"A:A",valueInputOption:"RAW",resource:{values:e.map(r=>[rt(r.date,Oe),r.text])}})}async function bf(){return(await gapi.client.sheets.spreadsheets.get({spreadsheetId:Dt[0],fields:"sheets.properties"})).result.sheets.map(e=>({id:e.properties.sheetId,title:e.properties.title}))}async function Tf(t){await gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:Dt[0],resource:{requests:[{addSheet:{properties:{title:t}}}]}})}var ks="settings",Os=It(async t=>{(await bf()).find(r=>r.title.toLowerCase()===ks)||await Tf(ks),await gapi.client.sheets.spreadsheets.values.update({spreadsheetId:Dt[0],range:"settings!A1",valueInputOption:"RAW",resource:{values:[[JSON.stringify(t,null,3)]]}})}),Ps=It(async()=>{let t=await gapi.client.sheets.spreadsheets.values.get({spreadsheetId:Dt[0],range:"settings!A1"});return JSON.parse(t.result.values[0][0])});function kf(t,e){return`Unable to modify. Please reload data.
Row num ${e.rowNum} in spreadsheetId ${e.spreadsheetId}

Expected:
${rt(t.date,Oe)} (${t.date.valueOf()}) ${t.text}
Actual:
${rt(e.date,Oe)} (${e.date.valueOf()}) ${e.text}`}async function Cs(t){let e=Object.groupBy(t,r=>r.spreadsheetId);for(let r in e){let n=e[r],o=await Is(r,...n.map(i=>({rowNum:i.rowNum,count:1})));for(let i=0;i<o.length;i++)if(!Ns(o[i],n[i])){let a=kf(n[i],o[i]);return console.warn(a),alert(a),!1}}return!0}function Ns(t,e){return t.date.valueOf()===e.date.valueOf()&&t.text===e.text}var Rs="notes_items",Ge="notes_pending_add",oi="notes_new_item_text",Rn="notes_taggers",ii="notes_gap_min";function An(t){console.time("save items to localStorage");let e=0,r=new Map,n={strings:{},items:[]},o=i=>{let a=r.get(i);return a===void 0&&(a=++e,n.strings[a]=i,r.set(i,a)),a};for(let i of t)n.items.push([o(i.spreadsheetId),i.rowNum,i.date.valueOf(),o(i.text)]);window.localStorage[Rs]=JSON.stringify(n),console.timeEnd("save items to localStorage")}function Fs(){try{console.time("load items from localStorage");let t=JSON.parse(window.localStorage[Rs]||"null");if(!t)return[];let e=n=>t.strings[n],r=[];for(let n of t.items){let[o,i,a,s]=n,l=new Date(a),u={key:"",spreadsheetId:e(o),rowNum:i,text:e(s),date:l,day:Se(l)};je(u),r.push(u)}return console.timeEnd("load items from localStorage"),r}catch(t){return console.error(t),[]}}var p={addInProgress:L(!1),allDaysDisplaySorted:V(Sf),allItemsByDay:V(Ef),busy:L(0),dayToIndex:V(Df),effectiveCaseSensitive:V(Hf),effectiveFilter:V(Ff),errors:L([]),filter:L(""),filterCaseSensitive:L(!1),filterFromHighlight:V(Rf),filterShowFullDays:L(!1),filterUsingHighlight:L(!0),forceFullDays:L([]),gapMin:L(Yf()),googleSignedIn:L(!1),highlight:L(""),highlightCaseSensitive:L(!1),highlightPatterns:V(Af),itemsByKey:V(Bf),itemsInRange:V(Pf),itemsToShow:V(Cf),itemsToShowByDay:V(Mf),newItemText:L(localStorage[oi]||""),pageIndex:L(0),referenceDate:L(new Date),referenceDateNow:L(!0),selectedItemKeys:L({}),selectedRange:L(),selectedRangeText:V(Nf),showTaggers:L(!1),showTimeline:L(!1),sortAscending:L(!1),taggedItems:V(Of),taggers:L($f()),tagShowMode:L("DAY_SUMMARIES"),tagTotalsByDay:V(Lf),tagTotalsIncludeFiltered:L(!0),trackingItems:L(Fs()),visibleDays:V(If)};window.globalState=p;gt(()=>{p.selectedRange.value,p.effectiveFilter.value,p.pageIndex.value=0});gt(()=>{p.effectiveFilter.value,p.effectiveCaseSensitive.value,p.filterShowFullDays.value,p.selectedRange.value,p.forceFullDays.value=[]});gt(()=>{localStorage[oi]=p.newItemText.value});gt(()=>{localStorage[ii]=p.gapMin.value});function Df(){let t=p.allDaysDisplaySorted.value,e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e}function If(){return new Set(p.itemsToShowByDay.value.sortedDays)}function Ef(){return Ls(p.trackingItems.value,!1)}function Mf(){return Ls(p.itemsToShow.value,p.sortAscending.value)}function Sf(){let t=p.allItemsByDay.value;return p.sortAscending.value?t.sortedDays.slice().sort():t.sortedDays}function Of(){return ht(p.trackingItems.value,t=>{for(let e of p.taggers.value)if(e.includePattern)try{let r=new RegExp(e.includePattern,"i"),n;e.excludePattern&&(n=new RegExp(e.excludePattern,"i"));for(let o of t){if(n&&n.test(o.text))continue;let i=r.exec(o.text);if(!i)continue;let a=1;for(let s=1;s<i.length;s++)if(i[s]){a=Number.parseFloat(i[s]);break}o.tags||(o.tags=[]),o.tags.push({quantity:a,unitName:e.unitName})}}catch{}})}function Pf(){let t=p.taggedItems.value,e=p.selectedRange.value,r=p.forceFullDays.value;return e?t.filter(n=>r.includes(n.day)||n.date>=e[0]&&n.date<e[1]):t}function Cf(){let t=p.itemsInRange.value,e=p.effectiveFilter.value,r=p.effectiveCaseSensitive.value,n=p.filterShowFullDays.value,o=p.forceFullDays.value;if(!e)return t;try{let i=new RegExp(e,r?"":"i"),a=t.filter(s=>o.length>0&&o.includes(s.day)||i.test(s.text));if(n){let s=new Set;for(let l of a)s.add(l.day);a=t.filter(l=>s.has(l.day)||o.includes(l.day))}return a}catch{return[]}}function Nf(){let t=p.selectedRange.value;if(t){let e=Vt(t[1],t[0]);return`${e} day${e>1?"s":""} selected`}}function Hs(t,e){let r=t.date.valueOf()-e.date.valueOf();return r!==0?r:t.rowNum-e.rowNum}function Ls(t,e){let r={};for(let o of t){let i=r[o.day];i||(i=[],r[o.day]=i),i.push(o)}let n=[];for(let o in r)n.push(o),r[o].sort((i,a)=>e?Hs(i,a):Hs(a,i));return n.sort((o,i)=>e?o.localeCompare(i):i.localeCompare(o)),{sortedDays:n,items:r}}function Af(){let t=p.highlight.value,e=p.highlightCaseSensitive.value,r=[];if(t)try{for(let n of t.split(`
`))if(n){let o=new RegExp(n,e?"":"i");r.push({text:n,regexp:o})}}catch{}return r}function Fn(t){let e=p.highlightPatterns.value,r=[];for(let n=0;n<e.length;n++)e[n].regexp.test(t)&&r.push(n);return r}function Rf(){return p.highlight.value.split(/\n+/).filter(t=>t!=="").join("|")}function Ff(){return p.filterUsingHighlight.value?p.filterFromHighlight.value:p.filter.value}function Hf(){return p.filterUsingHighlight.value?p.highlightCaseSensitive.value:p.filterCaseSensitive.value}function Lf(){let t=p.tagTotalsIncludeFiltered.value?p.taggedItems.value:p.itemsToShow.value,e=p.taggers.value,r=new Map;for(let o of t){if(!o.tags)continue;let i=r.get(o.day);i||(i=new Map,r.set(o.day,i));for(let a of o.tags){let s=i.get(a.unitName)||0;i.set(a.unitName,s+a.quantity)}}let n={};for(let[o,i]of r){let a=[];for(let s of e){let l=i.get(s.unitName);typeof l=="number"&&a.push({unitName:s.unitName,quantity:l})}n[o]=a}return n}function $f(){try{return console.time("loadTaggers"),JSON.parse(localStorage[Rn]).map(e=>({excludePattern:e.excludePattern,includePattern:e.includePattern,unitName:e.unitName}))}catch{return[]}finally{console.timeEnd("loadTaggers")}}function Yf(){try{let t=parseInt(localStorage[ii],10);if(t>=0)return t}catch{}return 0}function Bf(){let t={};for(let e of p.trackingItems.value)t[e.key]=e;return t}function Hn(t){let e=Pn(t);p.errors.value=ht(p.errors.value,r=>{r.includes(e)||r.push(e)})}function $s(t){p.errors.value=ht(p.errors.value,e=>{e.splice(t,1)})}function Ln(){it(()=>{p.filter.value="",p.filterCaseSensitive.value=!1,p.filterShowFullDays.value=!1,p.filterUsingHighlight.value=!0,p.forceFullDays.value=[],p.highlight.value="",p.highlightCaseSensitive.value=!1,p.newItemText.value="",p.pageIndex.value=0,p.selectedItemKeys.value={},p.selectedRange.value=void 0,p.showTaggers.value=!1,p.showTimeline.value=!1,p.sortAscending.value=!1,p.tagShowMode.value="DAY_SUMMARIES",p.tagTotalsIncludeFiltered.value=!0}),document.body.dispatchEvent(new CustomEvent("custom_reset")),document.getElementById("scroll-root").scrollTo(0,0)}function Ys(t,e){p.selectedItemKeys.value=ht(p.selectedItemKeys.value,r=>{e?r[t]=!0:delete r[t]})}var ai={root:"m",error:"n"};var Wf=0;function d(t,e,r,n,o,i){e||(e={});var a,s,l=e;if("ref"in l)for(s in l={},e)s=="ref"?a=e[s]:l[s]=e[s];var u={type:t,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Wf,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(a=t.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return F.vnode&&F.vnode(u),u}function si(){let t=p.errors.value;return d("div",{class:ai.root,children:t.map((e,r)=>d("div",{class:ai.error,children:[d("button",{onClick:()=>$s(r),children:"Clear"}),e]},r))})}var Ot={root:"t",topBorder:"l",dayHeader:"o",displayDate:"d",toggleFullDayButton:"i",pageButtons:"r",tagTotals:"g",gap1:"s",gap2:"p"};function Kt(t){let e=et(t),r=zt(t);return r.current!==t&&(e.value=t,r.current=t),e}function $n(t,e,r){let n=zt(),o=zt(t);o.current!==t&&(n.current!==void 0&&window.clearTimeout(n.current),o.current=t,n.current=window.setTimeout(i,e));function i(){r(o.current)}ct(()=>(n.current=window.setTimeout(i,e),function(){n.current!==void 0&&(window.clearTimeout(n.current),n.current=void 0)}),[e])}var st={root:"c",editRoot:"b",editCenter:"f",editButtons:"h",editError:"u",pendingDelete:"x",actions:"y",time:"w",itemRelativeTime:"k",linger:"v",swatch:"z",selectItemBox:"j"};function ui({item:t,isEditing:e}){let r=p.busy.value>0,n=Kt(Bs(t.date,t.text)),o=qt(()=>Uf(n.value));ct(()=>{function c(){e.value=!1}return document.body.addEventListener("custom_reset",c),()=>document.body.removeEventListener("custom_reset",c)},[]);async function i(){await Nn(f=>{if(f.key===t.key)return{text:o.value.text,date:o.value.date}})&&(e.value=!1)}function a(c){c.ctrlKey&&c.key==="Enter"?i():c.key==="Escape"&&(e.value=!1)}function s(){let c=o.value;if(c.error)return!1;try{return Bo(c.date)!==Bo(t.date)||c.text!==t.text}catch{return!1}}function l(c){n.value=c}function u(c){let{date:f,text:m}=o.value,h=Ar(f,c);l(Bs(h,m))}return d("div",{class:st.editRoot,children:[d("button",{disabled:r,onClick:()=>e.value=!1,children:"Cancel"}),d("div",{class:st.editCenter,children:[d("div",{class:st.editButtons,children:[d("button",{onClick:()=>u({days:1}),disabled:o.value.error,children:"+1d"}),d("button",{onClick:()=>u({hours:1}),disabled:o.value.error,children:"+1h"}),d("button",{onClick:()=>u({minutes:5}),disabled:o.value.error,children:"+5m"}),d("button",{onClick:()=>u({minutes:1}),disabled:o.value.error,children:"+1m"})]}),d("textarea",{class:o.value.error?st.editError:"",disabled:r,value:n.value,onKeyDown:a,ref:c=>c?.focus(),spellcheck:!0,onInput:c=>l(c.currentTarget.value)}),d("div",{class:st.editButtons,children:[d("button",{onClick:()=>u({days:-1}),disabled:o.value.error,children:"-1d"}),d("button",{onClick:()=>u({hours:-1}),disabled:o.value.error,children:"-1h"}),d("button",{onClick:()=>u({minutes:-5}),disabled:o.value.error,children:"-5m"}),d("button",{onClick:()=>u({minutes:-1}),disabled:o.value.error,children:"-1m"})]})]}),d("button",{disabled:r||!s(),onClick:i,children:"Save"})]})}var zs="M/d/yyyy h:mm:ss a";function Bs(t,e){return`${rt(t,zs)}
${e}`}function Uf(t){try{let e=t.indexOf(`
`),r=cs(t.substring(0,e).trim(),zs,new Date);if(Number.isNaN(r.getDate()))return{error:!0};let n=t.substring(e+1).trim();return n.length===0?{error:!0}:{text:n,date:r,error:!1}}catch{return{error:!0}}}var Ws=["orange","#59adff","limegreen","yellow","rebeccapurple","sienna"];function Qe(t){return Ws[t%Ws.length]}function li({item:t,isEditing:e}){let r=p.busy.value>0,n=p.tagShowMode.value,o=et(!1),i=et(!1),a=qt(()=>p.selectedItemKeys.value[t.key]),s=qt(()=>Fn(t.text).map(Qe));async function l(m){o.value=!0,setTimeout(()=>o.value=!1,3e3),Pe([{text:m,date:new Date}])}function u(m){/\S/.test(m)&&it(()=>{p.highlight.value=m.replace(/[^-A-Z0-9_]/i,""),p.filterUsingHighlight.value&&(p.filterUsingHighlight.value=!1,p.filter.value="")})}async function c(m){try{switch(m.currentTarget.value){case"ANOTHER":l(t.text);break;case"USE_TEXT":p.newItemText.value=t.text,document.getElementById("scroll-root").scrollTo(0,0);let w=document.getElementById("new-item-input");w.focus(),setTimeout(()=>{w.setSelectionRange(0,0)},0);break;case"EDIT":e.value=!0;break;case"DELETE":let g=`Delete row ${t.rowNum}?
`+rt(t.date,"h:mm aaaaa")+`
`+t.text;i.value=!0,setTimeout(async()=>{try{window.confirm(g)&&await Es([t])}finally{i.value=!1}},0);break}}finally{m.currentTarget.value=""}}let f=st.root;return i.value?f+=" "+st.pendingDelete:o.value&&(f+=" "+st.linger),d("div",{class:f,children:[d("div",{class:st.time,onClick:()=>qs(t.date),title:String(t.date),children:rt(t.date,"h:mm aaaaa")}),d("select",{disabled:r,onInput:c,class:st.actions,children:[d("option",{selected:!0,disabled:!0,style:{display:"none"}}),d("option",{value:"ANOTHER",children:["Another ",t.text]}),d("option",{value:"USE_TEXT",children:"Use Text"}),d("option",{value:"EDIT",children:"Edit..."}),d("option",{value:"DELETE",children:"Delete..."})]}),d("div",{children:[d(Kf,{itemDate:t.date}),d("input",{class:st.selectItemBox,type:"checkbox",checked:a,onChange:m=>Ys(t.key,m.currentTarget.checked)}),d("span",{style:{marginRight:"0.5em"},children:t.text.split(/\b/).map((m,h)=>d("span",{onMouseMove:w=>w.altKey&&u(m),children:m},h))}),s.value.map((m,h)=>d(P,{children:[d("span",{class:st.swatch,style:{backgroundColor:m},children:"             "}),d("span",{children:" "})]},h)),t.tags&&n==="ALL"&&t.tags.map((m,h)=>d("div",{class:"tag",children:[m.quantity," ",m.unitName]},h))]})]})}function Kf({itemDate:t}){let e=p.referenceDate.value,r=On(t,e);return r.length>6?null:d("span",{class:st.itemRelativeTime,onClick:()=>qs(t),children:r})}function qs(t){it(()=>{p.referenceDate.value=t,p.referenceDateNow.value=!1})}function ci({item:t}){let e=et(!1);return e.value?d(ui,{item:t,isEditing:e}):d(li,{item:t,isEditing:e})}function fi({day:t,prevVisibleDay:e,nextVisibleDay:r,items:n,filtered:o,reverseSort:i,scrollToDay:a}){let s=bs(n[0].date),l=Vt(new Date,n[0].date),u=p.tagShowMode.value,c=p.gapMin.value,f=p.filterShowFullDays.value,m=p.forceFullDays.value,h=p.sortAscending.value,w;u!=="NONE"&&(w=p.tagTotalsByDay.value[t]);function g(k){document.getElementById("scroll-root").scrollTo(0,0),k.preventDefault(),k.stopPropagation()}function _(k,b){k.stopPropagation(),a(b)}function y(k){k.stopPropagation(),i(t)}function v(k){k.stopPropagation();let b=document.getElementById("day-"+t),R=b.getBoundingClientRect().top;p.forceFullDays.value=ht(p.forceFullDays.value,B=>{if(B.includes(t))return B.filter(z=>z!==t);B.push(t)}),R<0&&b.scrollIntoView()}let T=ve(()=>m.includes(t),[m,t]);return d("div",{id:"day-"+t,class:Ot.root+" day",children:[d("div",{class:Ot.topBorder}),d("div",{class:Ot.dayHeader,children:[d("span",{onClick:g,class:Ot.displayDate,children:[s,","," ",l===0?"today":l===1?"yesterday":d("span",{children:[l,"\xA0days\xA0ago"]})]}),T||o&&!f?d("button",{onClick:v,title:"toggle full day",class:Ot.toggleFullDayButton,children:d("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"translate(-0.8,0.75) scale(1.05)",children:[d("path",{transform:"translate(-0.18407236,-15.880162)",d:"m 47,31.1 v 23.903057 h 6 V 31.1 l 16.423971,15.994168 4.2,-4.3 L 50,19.6 27.04842,42.572481 l 4.2,4.3 z"}),d("rect",{id:"rect934",width:"67.770233",height:"4.7536263",x:"15.795475",y:"44.614605"}),d("path",{id:"path936",d:"M 53.488319,79.672898 V 55.769841 h -6 V 79.672898 L 31.064348,63.67873 l -4.2,4.3 23.623971,23.194168 22.95158,-22.972481 -4.2,-4.3 z"})]})}):d("span",{}),d("div",{class:Ot.pageButtons,children:[d("button",{onClick:y,title:"reverse sort",children:d("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 24 24",focusable:"false",pointerEvents:"none",children:d("path",{d:"M0 4.41422L4.41418 0L5.82837 1.41422L3.82837 3.41422H11.4142C15.2802 3.41422 18.4142 6.54822 18.4142 10.4142C18.4142 14.2802 15.2802 17.4142 11.4142 17.4142H2.41418V15.4142H11.4142C14.1757 15.4142 16.4142 13.1756 16.4142 10.4142C16.4142 7.65279 14.1757 5.41422 11.4142 5.41422H3.82837L5.82837 7.41422L4.41418 8.82843L0 4.41422Z",transform:`translate(2.58582 22.58578) rotate(${h?"90,19,0":"-90"})`,fill:"black"})})}),d("button",{disabled:e===void 0,onClick:k=>_(k,e),title:"scroll to prev day "+e,children:d("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"scale(1.25)",focusable:"false",pointerEvents:"none",children:d("polygon",{points:"27.9,50.2 47,31.1 47,80.4 53,80.4 53,31.1 72.1,50.2 76.3,45.9 50,19.6 23.7,45.9"})})}),d("button",{disabled:r===void 0,onClick:k=>_(k,r),title:"scroll to next day "+r,children:d("svg",{height:"1.2em",width:"1.2em",viewBox:"0 0 100 100",transform:"rotate(180) scale(1.25)",focusable:"false",pointerEvents:"none",children:d("polygon",{points:"27.9,50.2 47,31.1 47,80.4 53,80.4 53,31.1 72.1,50.2 76.3,45.9 50,19.6 23.7,45.9"})})})]})]}),w&&w.length>0&&d("div",{class:Ot.tagTotals,children:w.map(k=>d("div",{class:"tag",children:[k.quantity," ",k.unitName]},k.unitName))}),u!=="DAY_SUMMARIES_ONLY"&&n.map((k,b)=>d(P,{children:[d(ci,{item:k}),!o&&c>0&&b+1<n.length&&Xf(c,k,n[b+1])]},k.key))]})}function Xf(t,e,r){let n=Math.abs(Fr(e.date,r.date));if(n<t)return null;let o=Math.sqrt(n*10)+5;return d(P,{children:[d("div",{class:Ot.gap1,style:{height:o},children:"\xA0"}),d("div",{class:Ot.gap2,style:{height:o},children:"\xA0"})]})}var Ce={days:"F",controls:"H",gapMinInput:"R",nothing:"W",gapControls:"S"};var Yn={root:"q",buttons:"A",pageNumber:"B"};function Bn({isTopPaginator:t,topScrollSelector:e,bottomScrollSelector:r,itemsByDay:n}){let o=p.busy.value>0,i=p.pageIndex.value,s=Math.ceil(n.sortedDays.length/10)-1;function l(T){p.pageIndex.value=T}function u(){e&&requestAnimationFrame(()=>{document.querySelector(e).scrollIntoView()})}function c(){r&&requestAnimationFrame(()=>{document.querySelector(r).scrollIntoView()})}function f(){l(0),t||c()}function m(){l(0),u()}function h(){l(i-1),t||c()}function w(){l(i-1),c()}function g(){l(i+1),t||c()}function _(){l(i+1),u()}function y(){l(s),t||c()}function v(){l(s),c()}return n.sortedDays.length===0?null:d("div",{class:Yn.root,children:[d("div",{class:Yn.pageNumber,children:["Page ",i+1," of ",s+1," (",n.sortedDays.length," days)"]}),d("div",{class:Yn.buttons,children:[!t&&d("button",{onClick:m,disabled:o||i===0&&t,title:"first page and scroll to top",children:"\u2191<<"}),d("button",{onClick:f,disabled:o||i===0,title:"first page",children:"<<"}),t&&d("button",{onClick:w,disabled:o||i===0,title:"previous page and scroll to bottom",children:"\u2193<"}),d("button",{onClick:h,disabled:o||i===0,title:"previous page",children:"<"}),d("button",{onClick:g,disabled:o||i===s,title:"next page",children:">"}),!t&&d("button",{onClick:_,disabled:o||i===s,title:"next page and scroll to top",children:">\u2191"}),d("button",{onClick:y,disabled:o||i===s,title:"last page",children:">>"}),t&&d("button",{onClick:v,disabled:o||i===s&&!t,title:"last page and scroll to bottom",children:">>\u2193"})]})]})}var Je=10;function Qf(t){let e="day-"+t,r=Math.round(document.getElementById(e).getBoundingClientRect().y);it(()=>{p.pageIndex.value=Math.floor(p.itemsToShowByDay.value.sortedDays.slice().reverse().findIndex(n=>n===t)/Je),p.sortAscending.value=!p.sortAscending.value}),queueMicrotask(()=>{let n=document.getElementById(e);document.getElementById("scroll-root").scrollTo(0,n.offsetTop-r)})}function Jf(t){p.pageIndex.value=Math.floor(p.itemsToShowByDay.value.sortedDays.findIndex(e=>e===t)/Je),queueMicrotask(()=>{document.getElementById("day-"+t).scrollIntoView()})}function di(){if(p.itemsToShow.value.length===0)return d("div",{class:Ce.nothing,children:"(nothing found)"});let t=p.busy.value>0,e=p.gapMin.value,r=p.itemsToShowByDay.value,n=p.sortAscending.value,o=p.pageIndex.value,i=p.allDaysDisplaySorted.value,a=!p.filterShowFullDays.value&&p.effectiveFilter.value.length>0,s=p.dayToIndex.value,l=p.visibleDays.value,u=Je*o,c=r.sortedDays.slice(u,u+Je);return d("div",{children:[d("div",{class:Ce.controls,children:[d("label",{children:["Gap min:",d("input",{class:Ce.gapMinInput,type:"number",value:e,min:0,step:10,onInput:f=>p.gapMin.value=f.currentTarget.valueAsNumber||0})]}),d("label",{children:[d("input",{type:"checkbox",disabled:t,checked:n,onInput:f=>p.sortAscending.value=f.currentTarget.checked}),"Sort Ascending"]})]}),d("div",{id:"pagination-top-scroll"}),d(Bn,{itemsByDay:r,isTopPaginator:!0,topScrollSelector:"#pagination-top-scroll",bottomScrollSelector:"#pagination-bottom-scroll"}),d("div",{class:Ce.days,children:[Us(i,s,l,"",c[0],!1),c.map((f,m)=>{let h=r.sortedDays[u+m-1],w=r.sortedDays[u+m+1];return d(P,{children:[d(fi,{day:f,prevVisibleDay:h,nextVisibleDay:w,items:r.items[f],filtered:a,reverseSort:Qf,scrollToDay:Jf}),Us(i,s,l,f,c[m+1],m+1===Je)]},f)})]}),d(Bn,{itemsByDay:r,isTopPaginator:!1,topScrollSelector:"#pagination-top-scroll",bottomScrollSelector:"#pagination-bottom-scroll"}),d("div",{id:"pagination-bottom-scroll"})]})}function Vs(t){p.forceFullDays.value=ht(p.forceFullDays.value,e=>{e.push(t)})}function Us(t,e,r,n,o,i){let a=e.get(n),s=e.get(o),l="",u="",c=0,f=!1,m="\u2193";if(a===void 0){if(s===void 0)throw Error("BUG");if(s===0)return null;let w=t[s-1];r.has(w)||(l=w,m="\u2191")}else if(s===void 0){if(a===t.length-1)return null;let w=t[a+1];r.has(w)||(l=w)}else{if(c=s-a-1,c<1)return null;c>1?f=!0:m="\u2191\u2193",l=t[a+1],u=t[s-1]}if(!l)return null;function h(){Vs(l),i&&(p.pageIndex.value++,requestAnimationFrame(()=>{document.getElementById("day-"+l).scrollIntoView()}))}return d("div",{class:Ce.gapControls,children:[d("button",{onClick:h,children:`${m} ${l}`}),f&&d(P,{children:[c>2&&d(P,{children:["\u2026",c-2,"\u2026"]}),d("button",{onClick:()=>Vs(u),children:["\u2191 ",u]})]})]})}function pi(){let t=p.filter.value,e=p.highlight.value,r=p.filterShowFullDays.value,n=p.filterCaseSensitive.value,o=p.filterUsingHighlight.value,i=p.highlightCaseSensitive.value,a=Kt(t);$n(a.value,200,c=>{p.filter.value=c});function s(){p.filter.value=p.filterFromHighlight.value,p.filterCaseSensitive.value=p.highlightCaseSensitive.value}function l(c){c.key==="Escape"&&(a.value="",p.filter.value="")}function u(){p.filter.value="",a.value="",p.filterShowFullDays.value=!1}return d("div",{children:[d("button",{disabled:o||t.length===0,onClick:u,children:"Clear"}),d("button",{disabled:o||e.length===0,onClick:s,children:"From Highlight"}),d("input",{disabled:o,autoCapitalize:"off",spellcheck:!1,placeholder:o?"(using highlight)":"filter regexp",type:"text",value:o?"":a,onInput:c=>a.value=c.currentTarget.value,onKeyDown:l}),d("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[d("input",{type:"checkbox",checked:r,onInput:c=>p.filterShowFullDays.value=c.currentTarget.checked}),"Show full days"]}),d("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[d("input",{type:"checkbox",disabled:o,checked:o?i:n,onInput:c=>p.filterCaseSensitive.value=c.currentTarget.checked}),"Case sensitive"]}),d("label",{style:{display:"inline-block",marginTop:"0.5em"},children:[d("input",{type:"checkbox",checked:o,onInput:c=>p.filterUsingHighlight.value=c.currentTarget.checked}),"Filter using highlight"]})]})}function mi(){return ct(()=>{let t,e=0;function r(n){let o=new Date().valueOf(),i=o-e<=1e3;if(n.key==="Escape"&&t==="Escape"&&i){Ln(),document.getElementById("new-item-input").focus(),t=void 0,e=0;return}if(t=n.key,e=o,n.key==="/"&&n.ctrlKey){let a=document.getElementById("highlight-input");a&&(a.focus(),a.select(),n.preventDefault())}}return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),null}function hi(){let t=p.busy.value>0,e=p.highlight.value,r=p.highlightCaseSensitive.value,n=et(!1),o=Kt(e);ct(()=>{function u(){let c=window.getSelection();n.value=!c?.isCollapsed}return document.addEventListener("selectionchange",u),()=>document.removeEventListener("selectionchange",u)},[]),$n(o.value,200,u=>{p.highlight.value=u});function i(){p.highlight.value="",o.value=""}function a(u){u.key==="Escape"&&i()}function s(){p.highlight.value=window.getSelection()+""}function l(u){p.highlightCaseSensitive.value=u.currentTarget.checked}return d(P,{children:[d("textarea",{id:"highlight-input",autoCapitalize:"off",value:o,placeholder:"highlight regexp(s), one per line (Ctrl-/)",spellcheck:!1,onKeyDown:a,onInput:u=>o.value=u.currentTarget.value}),d("div",{children:[d("div",{children:d("button",{disabled:o.value.length===0,onClick:i,children:"Clear"})}),d("div",{children:d("button",{disabled:t||!n.value,onClick:s,children:"Use selection"})}),d("div",{children:d("label",{children:[d("input",{type:"checkbox",checked:r,onInput:l}),"Case sensitive"]})})]})]})}function Zf(){p.newItemText.value=""}function td(t){p.newItemText.value=t.currentTarget.value}function ed(t){t.ctrlKey&&t.key==="Enter"&&Ks()}function Ks(){let e=p.newItemText.value.replace(/^\s+|\s+$/g,"");if(!e)return;let r=new Date;if(e[0]==="@")if(e[1]==="-"||e[1]==="+"){let n=/^@([-+]\d+)\s+(.+)$/.exec(e);if(!n){window.alert("Invalid relative time designation");return}e=n[2],r=Ar(r,{minutes:parseInt(n[1],10)})}else{let n=/^@([01]?\d):?([0-5]\d)\s*?(am?|pm?|)\s+(.+)$/i.exec(e);if(!n){window.alert("Invalid time designation");return}let o=parseInt(n[1],10),i=parseInt(n[2],10);if(e=n[4],n[3]==="")for(r=zo(r,{hours:o+12,minutes:i,seconds:0});r>new Date;)r=Fa(r,-12);else{let a=n[3][0].toLowerCase()==="a";a&&o===12?o=0:!a&&o!==12&&(o+=12),r=zo(r,{hours:o,minutes:i,seconds:0})}}p.addInProgress.value=!0,Pe([{text:e,date:r}]).then(()=>{p.newItemText.value=""}).finally(()=>p.addInProgress.value=!1)}function gi(){let t=p.newItemText.value,e=p.addInProgress.value;return d(P,{children:[d("button",{disabled:t.length===0,onClick:Zf,children:"Clear"}),d("textarea",{id:"new-item-input",disabled:e,autoCapitalize:"off",value:t,onInput:td,onKeyDown:ed}),d("button",{disabled:e||t.length===0,onClick:Ks,children:"Add"})]})}var xt={root:"e",topBar:"C",controlBar:"D",nowTimeDiff:"E",version:"G",sheetLink:"I",selectedRangeText:"J"};function yi(){let t=p.referenceDate.value,e=p.referenceDateNow.value,r=et(new Date);ct(()=>{let o=window.setInterval(()=>{it(()=>{r.value=new Date,e&&(p.referenceDate.value=r.value)})},15e3);return()=>clearInterval(o)},[e]);function n(){it(()=>{p.referenceDate.value=new Date,p.referenceDateNow.value=!0})}return d(P,{children:[d("button",{disabled:e,onClick:n,children:"Set ref. time to now"}),!e&&d("span",{class:xt.nowTimeDiff,children:[On(r.value,t)," since reference time"]})]})}var Xs={root:"K"};function vi(){let t=p.selectedItemKeys.value,e=Object.keys(t).length;async function r(i){if(!confirm(`Add another ${e} items (preserve=${i})?`))return;let a=p.itemsByKey.value,s=new Date,l=Object.keys(t).map(c=>a[c]);l.sort((c,f)=>{let m=c.date.valueOf(),h=f.date.valueOf();return m===h?c.rowNum-f.rowNum:m-h});let u=l.map(c=>({text:c.text,date:i?c.date:s}));if(i){let c=Math.min(...u.map(m=>m.date.valueOf())),f=s.valueOf()-c;for(let m of u)m.date=new Date(m.date.valueOf()+f)}await Pe(u),p.selectedItemKeys.value={}}function n(){p.selectedItemKeys.value={}}let o=It(async()=>{if(!confirm(`Set ${e} items to now?`))return;let i=p.selectedItemKeys.value,a=new Date;await Nn(s=>{if(i[s.key])return{text:s.text,date:a}}),p.selectedItemKeys.value={}});return d("div",{class:Xs.root,children:[d("button",{disabled:e===0,onClick:()=>r(!1),children:["Another ",e," item(s)"]}),d("button",{disabled:e===0,onClick:()=>r(!0),children:["Another ",e," item(s) (preserve relative times)"]}),d("button",{disabled:e===0,onClick:o,children:"Set to now"}),d("button",{disabled:e===0,onClick:n,children:"Clear Selection"})]})}var Pt={root:"L",jsonEditor:"M",patternInput:"N",inputs:"O",buttons:"P",jsonError:"Q",showTags:"T",bottomCheck:"U"};function _i(){let t=p.busy.value>0,e=p.taggers.value,r=p.showTaggers.value,n=p.tagShowMode.value,o=et(!1),i=et(),a=et(""),s=p.tagTotalsIncludeFiltered.value,l=Kt(e),u=zt(o.value);ct(()=>{window.localStorage[Rn]=JSON.stringify(e),o.value&&!u.current?i.value=JSON.stringify(e,null,3):!o.value&&u.current&&(i.value="",a.value=""),u.current=o.value},[e,o.value]),ct(()=>{r||(o.value=!1)},[r]);function c(){p.taggers.value=ht(p.taggers.value,v=>{v.push({includePattern:"",excludePattern:"",unitName:""})})}function f(){p.showTaggers.value=!p.showTaggers.value}function m(v){i.value=v.currentTarget.value;try{let T=[],k=JSON.parse(v.currentTarget.value);for(let b of k)T.push({includePattern:b.includePattern,excludePattern:b.excludePattern,unitName:b.unitName});l.value=T,a.value=""}catch(T){a.value=Pn(T)}}async function h(){await Os({taggers:e})}async function w(){let v=await Ps();p.taggers.value=v.taggers.map(T=>({includePattern:T.includePattern,excludePattern:T.excludePattern,unitName:T.unitName}))}function g(){p.taggers.value=l.value}function _(v){v.key==="Enter"&&v.ctrlKey&&g()}function y(v){let T=ht(e,v);l.value=T}return d("div",{class:Pt.root,children:[d("div",{class:Pt.buttons,children:[d("label",{class:Pt.showTags,children:["Show tags:",d("select",{value:n,onInput:v=>p.tagShowMode.value=v.currentTarget.value,children:[d("option",{value:"NONE",children:"None"}),d("option",{value:"DAY_SUMMARIES",children:"Day summaries"}),d("option",{value:"DAY_SUMMARIES_ONLY",children:"Day summaries only"}),d("option",{value:"ALL",children:"All"})]})]}),d("button",{onClick:f,children:"Toggle Taggers Editor"}),r&&d(P,{children:[d("button",{disabled:t,onClick:()=>o.value=!o.value,children:"as JSON"}),!o.value&&d(P,{children:[d("button",{disabled:t,onClick:c,children:"Add Tagger"}),d("button",{disabled:t,onClick:h,children:"Save"}),d("button",{disabled:t,onClick:w,children:"Load"})]})]})]}),r&&(o.value?d(P,{children:[d("textarea",{disabled:t,class:Pt.jsonEditor,value:i,onInput:m,spellcheck:!1,onBlur:g,onKeyPress:_}),d("div",{class:Pt.jsonError,children:a.value||d(P,{children:"\xA0"})})]}):d("div",{class:Pt.inputs,children:l.value.map((v,T)=>d(P,{children:[d("input",{disabled:t,placeholder:"unit name",type:"text",value:v.unitName,onInput:k=>{y(b=>{b[T].unitName=k.currentTarget.value})},onBlur:g,onKeyPress:_}),d("input",{disabled:t,spellcheck:!1,class:Pt.patternInput,placeholder:"include",type:"text",value:v.includePattern,onInput:k=>{y(b=>{b[T].includePattern=k.currentTarget.value})},onBlur:g,onKeyPress:_}),d("input",{disabled:t,spellcheck:!1,class:Pt.patternInput,placeholder:"exclude",type:"text",value:v.excludePattern,onInput:k=>{y(b=>{b[T].excludePattern=k.currentTarget.value})},onBlur:g,onKeyPress:_})]},T))})),d("div",{class:Pt.bottomCheck,children:d("label",{children:[d("input",{type:"checkbox",checked:s,onInput:v=>p.tagTotalsIncludeFiltered.value=v.currentTarget.checked}),"Include filtered items in totals"]})})]})}var id={value:()=>{}};function js(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new zn(r)}function zn(t){this._=t}function ad(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}zn.prototype=js.prototype={constructor:zn,on:function(t,e){var r=this._,n=ad(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=sd(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=Gs(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Gs(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new zn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function sd(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function Gs(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=id,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var xi=js;var Wn="http://www.w3.org/1999/xhtml",wi={svg:"http://www.w3.org/2000/svg",xhtml:Wn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),wi.hasOwnProperty(e)?{space:wi[e],local:t}:t}function ud(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===Wn&&e.documentElement.namespaceURI===Wn?e.createElement(t):e.createElementNS(r,t)}}function ld(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qn(t){var e=Lt(t);return(e.local?ld:ud)(e)}function cd(){}function ae(t){return t==null?cd:function(){return this.querySelector(t)}}function Qs(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=t.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new J(n,this._parents)}function bi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fd(){return[]}function Ze(t){return t==null?fd:function(){return this.querySelectorAll(t)}}function dd(t){return function(){return bi(t.apply(this,arguments))}}function Js(t){typeof t=="function"?t=dd(t):t=Ze(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(n.push(t.call(l,l.__data__,u,a)),o.push(l));return new J(n,o)}function tr(t){return function(){return this.matches(t)}}function Vn(t){return function(e){return e.matches(t)}}var pd=Array.prototype.find;function md(t){return function(){return pd.call(this.children,t)}}function hd(){return this.firstElementChild}function Zs(t){return this.select(t==null?hd:md(typeof t=="function"?t:Vn(t)))}var gd=Array.prototype.filter;function yd(){return Array.from(this.children)}function vd(t){return function(){return gd.call(this.children,t)}}function tu(t){return this.selectAll(t==null?yd:vd(typeof t=="function"?t:Vn(t)))}function eu(t){typeof t!="function"&&(t=tr(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new J(n,this._parents)}function Un(t){return new Array(t.length)}function ru(){return new J(this._enter||this._groups.map(Un),this._parents)}function er(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}er.prototype={constructor:er,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function nu(t){return function(){return t}}function _d(t,e,r,n,o,i){for(var a=0,s,l=e.length,u=i.length;a<u;++a)(s=e[a])?(s.__data__=i[a],n[a]=s):r[a]=new er(t,i[a]);for(;a<l;++a)(s=e[a])&&(o[a]=s)}function xd(t,e,r,n,o,i,a){var s,l,u=new Map,c=e.length,f=i.length,m=new Array(c),h;for(s=0;s<c;++s)(l=e[s])&&(m[s]=h=a.call(l,l.__data__,s,e)+"",u.has(h)?o[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(t,i[s],s,i)+"",(l=u.get(h))?(n[s]=l,l.__data__=i[s],u.delete(h)):r[s]=new er(t,i[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(m[s])===l&&(o[s]=l)}function wd(t){return t.__data__}function ou(t,e){if(!arguments.length)return Array.from(this,wd);var r=e?xd:_d,n=this._parents,o=this._groups;typeof t!="function"&&(t=nu(t));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=n[u],f=o[u],m=f.length,h=bd(t.call(c,c&&c.__data__,u,n)),w=h.length,g=s[u]=new Array(w),_=a[u]=new Array(w),y=l[u]=new Array(m);r(c,f,g,_,y,h,e);for(var v=0,T=0,k,b;v<w;++v)if(k=g[v]){for(v>=T&&(T=v+1);!(b=_[T])&&++T<w;);k._next=b||null}}return a=new J(a,n),a._enter=s,a._exit=l,a}function bd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iu(){return new J(this._exit||this._groups.map(Un),this._parents)}function au(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function su(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=r[l],c=n[l],f=u.length,m=s[l]=new Array(f),h,w=0;w<f;++w)(h=u[w]||c[w])&&(m[w]=h);for(;l<o;++l)s[l]=r[l];return new J(s,this._parents)}function uu(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function lu(t){t||(t=Td);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],s=a.length,l=o[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new J(o,this._parents).order()}function Td(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fu(){return Array.from(this)}function du(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function pu(){let t=0;for(let e of this)++t;return t}function mu(){return!this.node()}function hu(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,s;i<a;++i)(s=o[i])&&t.call(s,s.__data__,i,o);return this}function kd(t){return function(){this.removeAttribute(t)}}function Dd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Id(t,e){return function(){this.setAttribute(t,e)}}function Ed(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Md(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Sd(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function gu(t,e){var r=Lt(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?Dd:kd:typeof e=="function"?r.local?Sd:Md:r.local?Ed:Id)(r,e))}function Kn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Od(t){return function(){this.style.removeProperty(t)}}function Pd(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Cd(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function yu(t,e,r){return arguments.length>1?this.each((e==null?Od:typeof e=="function"?Cd:Pd)(t,e,r??"")):Xt(this.node(),t)}function Xt(t,e){return t.style.getPropertyValue(e)||Kn(t).getComputedStyle(t,null).getPropertyValue(e)}function Nd(t){return function(){delete this[t]}}function Ad(t,e){return function(){this[t]=e}}function Rd(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function vu(t,e){return arguments.length>1?this.each((e==null?Nd:typeof e=="function"?Rd:Ad)(t,e)):this.node()[t]}function _u(t){return t.trim().split(/^|\s+/)}function Ti(t){return t.classList||new xu(t)}function xu(t){this._node=t,this._names=_u(t.getAttribute("class")||"")}xu.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wu(t,e){for(var r=Ti(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function bu(t,e){for(var r=Ti(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function Fd(t){return function(){wu(this,t)}}function Hd(t){return function(){bu(this,t)}}function Ld(t,e){return function(){(e.apply(this,arguments)?wu:bu)(this,t)}}function Tu(t,e){var r=_u(t+"");if(arguments.length<2){for(var n=Ti(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Ld:e?Fd:Hd)(r,e))}function $d(){this.textContent=""}function Yd(t){return function(){this.textContent=t}}function Bd(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ku(t){return arguments.length?this.each(t==null?$d:(typeof t=="function"?Bd:Yd)(t)):this.node().textContent}function zd(){this.innerHTML=""}function Wd(t){return function(){this.innerHTML=t}}function qd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Du(t){return arguments.length?this.each(t==null?zd:(typeof t=="function"?qd:Wd)(t)):this.node().innerHTML}function Vd(){this.nextSibling&&this.parentNode.appendChild(this)}function Iu(){return this.each(Vd)}function Ud(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Eu(){return this.each(Ud)}function Mu(t){var e=typeof t=="function"?t:qn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Kd(){return null}function Su(t,e){var r=typeof t=="function"?t:qn(t),n=e==null?Kd:typeof e=="function"?e:ae(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Xd(){var t=this.parentNode;t&&t.removeChild(this)}function Ou(){return this.each(Xd)}function Gd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pu(t){return this.select(t?jd:Gd)}function Cu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Qd(t){return function(e){t.call(this,e,this.__data__)}}function Jd(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function Zd(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function tp(t,e,r){return function(){var n=this.__on,o,i=Qd(e);if(n){for(var a=0,s=n.length;a<s;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function Nu(t,e,r){var n=Jd(t+""),o,i=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<i;++o)if((a=n[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?tp:Zd,o=0;o<i;++o)this.each(s(n[o],e,r));return this}function Au(t,e,r){var n=Kn(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ep(t,e){return function(){return Au(this,t,e)}}function rp(t,e){return function(){return Au(this,t,e.apply(this,arguments))}}function Ru(t,e){return this.each((typeof e=="function"?rp:ep)(t,e))}function*Fu(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var np=[null];function J(t,e){this._groups=t,this._parents=e}function Hu(){return new J([[document.documentElement]],np)}function op(){return this}J.prototype=Hu.prototype={constructor:J,select:Qs,selectAll:Js,selectChild:Zs,selectChildren:tu,filter:eu,data:ou,enter:ru,exit:iu,join:au,merge:su,selection:op,order:uu,sort:lu,call:cu,nodes:fu,node:du,size:pu,empty:mu,each:hu,attr:gu,style:yu,property:vu,classed:Tu,text:ku,html:Du,raise:Iu,lower:Eu,append:Mu,insert:Su,remove:Ou,clone:Pu,datum:Cu,on:Nu,dispatch:Ru,[Symbol.iterator]:Fu};var $t=Hu;function Xn(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ki(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function or(){}var rr=.7,Qn=1/rr,Ne="\\s*([+-]?\\d+)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ip=/^#([0-9a-f]{3,8})$/,ap=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),sp=new RegExp(`^rgb\\(${Ct},${Ct},${Ct}\\)$`),up=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${nr}\\)$`),lp=new RegExp(`^rgba\\(${Ct},${Ct},${Ct},${nr}\\)$`),cp=new RegExp(`^hsl\\(${nr},${Ct},${Ct}\\)$`),fp=new RegExp(`^hsla\\(${nr},${Ct},${Ct},${nr}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xn(or,Gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$u,formatHex:$u,formatHex8:dp,formatHsl:pp,formatRgb:Yu,toString:Yu});function $u(){return this.rgb().formatHex()}function dp(){return this.rgb().formatHex8()}function pp(){return Uu(this).formatHsl()}function Yu(){return this.rgb().formatRgb()}function Gt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ip.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Bu(e):r===3?new dt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Gn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Gn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ap.exec(t))?new dt(e[1],e[2],e[3],1):(e=sp.exec(t))?new dt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=up.exec(t))?Gn(e[1],e[2],e[3],e[4]):(e=lp.exec(t))?Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cp.exec(t))?qu(e[1],e[2]/100,e[3]/100,1):(e=fp.exec(t))?qu(e[1],e[2]/100,e[3]/100,e[4]):Lu.hasOwnProperty(t)?Bu(Lu[t]):t==="transparent"?new dt(NaN,NaN,NaN,0):null}function Bu(t){return new dt(t>>16&255,t>>8&255,t&255,1)}function Gn(t,e,r,n){return n<=0&&(t=e=r=NaN),new dt(t,e,r,n)}function mp(t){return t instanceof or||(t=Gt(t)),t?(t=t.rgb(),new dt(t.r,t.g,t.b,t.opacity)):new dt}function Ae(t,e,r,n){return arguments.length===1?mp(t):new dt(t,e,r,n??1)}function dt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Xn(dt,Ae,ki(or,{brighter(t){return t=t==null?Qn:Math.pow(Qn,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rr:Math.pow(rr,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dt(ue(this.r),ue(this.g),ue(this.b),Jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zu,formatHex:zu,formatHex8:hp,formatRgb:Wu,toString:Wu}));function zu(){return`#${se(this.r)}${se(this.g)}${se(this.b)}`}function hp(){return`#${se(this.r)}${se(this.g)}${se(this.b)}${se((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wu(){let t=Jn(this.opacity);return`${t===1?"rgb(":"rgba("}${ue(this.r)}, ${ue(this.g)}, ${ue(this.b)}${t===1?")":`, ${t})`}`}function Jn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ue(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function se(t){return t=ue(t),(t<16?"0":"")+t.toString(16)}function qu(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Et(t,e,r,n)}function Uu(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof or||(t=Gt(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(e===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-e)/s+2:a=(e-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Et(a,s,l,t.opacity)}function Ku(t,e,r,n){return arguments.length===1?Uu(t):new Et(t,e,r,n??1)}function Et(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Xn(Et,Ku,ki(or,{brighter(t){return t=t==null?Qn:Math.pow(Qn,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rr:Math.pow(rr,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new dt(Di(t>=240?t-240:t+120,o,n),Di(t,o,n),Di(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Et(Vu(this.h),jn(this.s),jn(this.l),Jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Jn(this.opacity);return`${t===1?"hsl(":"hsla("}${Vu(this.h)}, ${jn(this.s)*100}%, ${jn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vu(t){return t=(t||0)%360,t<0?t+360:t}function jn(t){return Math.max(0,Math.min(1,t||0))}function Di(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function Ii(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function Xu(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,s=n<e-1?t[n+2]:2*i-o;return Ii((r-n/e)*e,a,o,i,s)}}function Gu(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],s=t[(n+2)%e];return Ii((r-n/e)*e,o,i,a,s)}}var Ei=t=>()=>t;function gp(t,e){return function(r){return t+r*e}}function yp(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ju(t){return(t=+t)==1?Zn:function(e,r){return r-e?yp(e,r,t):Ei(isNaN(e)?r:e)}}function Zn(t,e){var r=e-t;return r?gp(t,r):Ei(isNaN(t)?e:t)}var to=(function t(e){var r=ju(e);function n(o,i){var a=r((o=Ae(o)).r,(i=Ae(i)).r),s=r(o.g,i.g),l=r(o.b,i.b),u=Zn(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return n.gamma=t,n})(1);function Qu(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=Ae(e[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=t(n),o=t(o),i=t(i),s.opacity=1,function(l){return s.r=n(l),s.g=o(l),s.b=i(l),s+""}}}var vp=Qu(Xu),_p=Qu(Gu);function wt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Si.source,"g");function xp(t){return function(){return t}}function wp(t){return function(e){return t(e)+""}}function Oi(t,e){var r=Si.lastIndex=Mi.lastIndex=0,n,o,i,a=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Si.exec(t))&&(o=Mi.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:wt(n,o)})),r=Mi.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?wp(l[0].x):xp(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}var Ju=180/Math.PI,eo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pi(t,e,r,n,o,i){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Ju,skewX:Math.atan(l)*Ju,scaleX:a,scaleY:s}}var ro;function Zu(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?eo:Pi(e.a,e.b,e.c,e.d,e.e,e.f)}function tl(t){return t==null?eo:(ro||(ro=document.createElementNS("http://www.w3.org/2000/svg","g")),ro.setAttribute("transform",t),(t=ro.transform.baseVal.consolidate())?(t=t.matrix,Pi(t.a,t.b,t.c,t.d,t.e,t.f)):eo)}function el(t,e,r,n){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,m,h,w){if(u!==f||c!==m){var g=h.push("translate(",null,e,null,r);w.push({i:g-4,x:wt(u,f)},{i:g-2,x:wt(c,m)})}else(f||m)&&h.push("translate("+f+e+m+r)}function a(u,c,f,m){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),m.push({i:f.push(o(f)+"rotate(",null,n)-2,x:wt(u,c)})):c&&f.push(o(f)+"rotate("+c+n)}function s(u,c,f,m){u!==c?m.push({i:f.push(o(f)+"skewX(",null,n)-2,x:wt(u,c)}):c&&f.push(o(f)+"skewX("+c+n)}function l(u,c,f,m,h,w){if(u!==f||c!==m){var g=h.push(o(h)+"scale(",null,",",null,")");w.push({i:g-4,x:wt(u,f)},{i:g-2,x:wt(c,m)})}else(f!==1||m!==1)&&h.push(o(h)+"scale("+f+","+m+")")}return function(u,c){var f=[],m=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,m),a(u.rotate,c.rotate,f,m),s(u.skewX,c.skewX,f,m),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,m),u=c=null,function(h){for(var w=-1,g=m.length,_;++w<g;)f[(_=m[w]).i]=_.x(h);return f.join("")}}}var Ci=el(Zu,"px, ","px)","deg)"),Ni=el(tl,", ",")",")");var Re=0,ar=0,ir=0,nl=1e3,no,sr,oo=0,le=0,io=0,ur=typeof performance=="object"&&performance.now?performance:Date,ol=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cr(){return le||(ol(bp),le=ur.now()+io)}function bp(){le=0}function lr(){this._call=this._time=this._next=null}lr.prototype=ao.prototype={constructor:lr,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?cr():+r)+(e==null?0:+e),!this._next&&sr!==this&&(sr?sr._next=this:no=this,sr=this),this._call=t,this._time=r,Ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ai())}};function ao(t,e,r){var n=new lr;return n.restart(t,e,r),n}function il(){cr(),++Re;for(var t=no,e;t;)(e=le-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Re}function rl(){le=(oo=ur.now())+io,Re=ar=0;try{il()}finally{Re=0,kp(),le=0}}function Tp(){var t=ur.now(),e=t-oo;e>nl&&(io-=e,oo=t)}function kp(){for(var t,e=no,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:no=r);sr=t,Ai(n)}function Ai(t){if(!Re){ar&&(ar=clearTimeout(ar));var e=t-le;e>24?(t<1/0&&(ar=setTimeout(rl,t-ur.now()-io)),ir&&(ir=clearInterval(ir))):(ir||(oo=ur.now(),ir=setInterval(Tp,nl)),Re=1,ol(rl))}}function so(t,e,r){var n=new lr;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var Dp=xi("start","end","cancel","interrupt"),Ip=[],ul=0,al=1,lo=2,uo=3,sl=4,co=5,fr=6;function jt(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;Ep(t,r,{name:e,index:n,group:o,on:Dp,tween:Ip,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ul})}function dr(t,e){var r=Z(t,e);if(r.state>ul)throw new Error("too late; already scheduled");return r}function nt(t,e){var r=Z(t,e);if(r.state>uo)throw new Error("too late; already running");return r}function Z(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Ep(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=ao(i,0,r.time);function i(u){r.state=al,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var c,f,m,h;if(r.state!==al)return l();for(c in n)if(h=n[c],h.name===r.name){if(h.state===uo)return so(a);h.state===sl?(h.state=fr,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete n[c]):+c<e&&(h.state=fr,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete n[c])}if(so(function(){r.state===uo&&(r.state=sl,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=lo,r.on.call("start",t,t.__data__,r.index,r.group),r.state===lo){for(r.state=uo,o=new Array(m=r.tween.length),c=0,f=-1;c<m;++c)(h=r.tween[c].value.call(t,t.__data__,r.index,r.group))&&(o[++f]=h);o.length=f+1}}function s(u){for(var c=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=co,1),f=-1,m=o.length;++f<m;)o[f].call(t,c);r.state===co&&(r.on.call("end",t,t.__data__,r.index,r.group),l())}function l(){r.state=fr,r.timer.stop(),delete n[e];for(var u in n)return;delete t.__transition}}function fo(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>lo&&n.state<co,n.state=fr,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function ll(t){return this.each(function(){fo(this,t)})}function Mp(t,e){var r,n;return function(){var o=nt(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function Sp(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=nt(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:e,value:r},l=0,u=o.length;l<u;++l)if(o[l].name===e){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function cl(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=Z(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?Mp:Sp)(r,t,e))}function Fe(t,e,r){var n=t._id;return t.each(function(){var o=nt(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return Z(o,n).value[e]}}function po(t,e){var r;return(typeof e=="number"?wt:e instanceof Gt?to:(r=Gt(e))?(e=r,to):Oi)(t,e)}function Op(t){return function(){this.removeAttribute(t)}}function Pp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cp(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function Np(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function Ap(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function Rp(t,e,r){var n,o,i;return function(){var a,s=r(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s)))}}function fl(t,e){var r=Lt(t),n=r==="transform"?Ni:po;return this.attrTween(t,typeof e=="function"?(r.local?Rp:Ap)(r,n,Fe(this,"attr."+t,e)):e==null?(r.local?Pp:Op)(r):(r.local?Np:Cp)(r,n,e))}function Fp(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Hp(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Lp(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Hp(t,i)),r}return o._value=e,o}function $p(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Fp(t,i)),r}return o._value=e,o}function dl(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Lt(t);return this.tween(r,(n.local?Lp:$p)(n,e))}function Yp(t,e){return function(){dr(this,t).delay=+e.apply(this,arguments)}}function Bp(t,e){return e=+e,function(){dr(this,t).delay=e}}function pl(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yp:Bp)(e,t)):Z(this.node(),e).delay}function zp(t,e){return function(){nt(this,t).duration=+e.apply(this,arguments)}}function Wp(t,e){return e=+e,function(){nt(this,t).duration=e}}function ml(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zp:Wp)(e,t)):Z(this.node(),e).duration}function qp(t,e){if(typeof e!="function")throw new Error;return function(){nt(this,t).ease=e}}function hl(t){var e=this._id;return arguments.length?this.each(qp(e,t)):Z(this.node(),e).ease}function Vp(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;nt(this,t).ease=r}}function gl(t){if(typeof t!="function")throw new Error;return this.each(Vp(this._id,t))}function yl(t){typeof t!="function"&&(t=tr(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,s=n[o]=[],l,u=0;u<a;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new ut(n,this._parents,this._name,this._id)}function vl(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l=e[s],u=r[s],c=l.length,f=a[s]=new Array(c),m,h=0;h<c;++h)(m=l[h]||u[h])&&(f[h]=m);for(;s<n;++s)a[s]=e[s];return new ut(a,this._parents,this._name,this._id)}function Up(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function Kp(t,e,r){var n,o,i=Up(e)?dr:nt;return function(){var a=i(this,t),s=a.on;s!==n&&(o=(n=s).copy()).on(e,r),a.on=o}}function _l(t,e){var r=this._id;return arguments.length<2?Z(this.node(),r).on.on(t):this.each(Kp(r,t,e))}function Xp(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function xl(){return this.on("end.remove",Xp(this._id))}function wl(t){var e=this._name,r=this._id;typeof t!="function"&&(t=ae(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s=n[a],l=s.length,u=i[a]=new Array(l),c,f,m=0;m<l;++m)(c=s[m])&&(f=t.call(c,c.__data__,m,s))&&("__data__"in c&&(f.__data__=c.__data__),u[m]=f,jt(u[m],e,r,m,u,Z(c,r)));return new ut(i,this._parents,e,r)}function bl(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Ze(t));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var l=n[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var m=t.call(c,c.__data__,f,l),h,w=Z(c,r),g=0,_=m.length;g<_;++g)(h=m[g])&&jt(h,e,r,g,m,w);i.push(m),a.push(c)}return new ut(i,a,e,r)}var Gp=$t.prototype.constructor;function Tl(){return new Gp(this._groups,this._parents)}function jp(t,e){var r,n,o;return function(){var i=Xt(this,t),a=(this.style.removeProperty(t),Xt(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function kl(t){return function(){this.style.removeProperty(t)}}function Qp(t,e,r){var n,o=r+"",i;return function(){var a=Xt(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function Jp(t,e,r){var n,o,i;return function(){var a=Xt(this,t),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),Xt(this,t))),a===l?null:a===n&&l===o?i:(o=l,i=e(n=a,s))}}function Zp(t,e){var r,n,o,i="style."+e,a="end."+i,s;return function(){var l=nt(this,t),u=l.on,c=l.value[i]==null?s||(s=kl(e)):void 0;(u!==r||o!==c)&&(n=(r=u).copy()).on(a,o=c),l.on=n}}function Dl(t,e,r){var n=(t+="")=="transform"?Ci:po;return e==null?this.styleTween(t,jp(t,n)).on("end.style."+t,kl(t)):typeof e=="function"?this.styleTween(t,Jp(t,n,Fe(this,"style."+t,e))).each(Zp(this._id,t)):this.styleTween(t,Qp(t,n,e),r).on("end.style."+t,null)}function tm(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function em(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&tm(t,a,r)),n}return i._value=e,i}function Il(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,em(t,e,r??""))}function rm(t){return function(){this.textContent=t}}function nm(t){return function(){var e=t(this);this.textContent=e??""}}function El(t){return this.tween("text",typeof t=="function"?nm(Fe(this,"text",t)):rm(t==null?"":t+""))}function om(t){return function(e){this.textContent=t.call(this,e)}}function im(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&om(o)),e}return n._value=t,n}function Ml(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,im(t))}function Sl(){for(var t=this._name,e=this._id,r=mo(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Z(l,e);jt(l,t,r,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ut(n,this._parents,t,r)}function Ol(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};r.each(function(){var u=nt(this,n),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),o===0&&i()})}var am=0;function ut(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Pl(t){return $t().transition(t)}function mo(){return++am}var Yt=$t.prototype;ut.prototype=Pl.prototype={constructor:ut,select:wl,selectAll:bl,selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:yl,merge:vl,selection:Tl,transition:Sl,call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:_l,attr:fl,attrTween:dl,style:Dl,styleTween:Il,text:El,textTween:Ml,remove:xl,tween:cl,delay:pl,duration:ml,ease:hl,easeVarying:gl,end:Ol,[Symbol.iterator]:Yt[Symbol.iterator]};function ho(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var sm={time:null,delay:0,duration:250,ease:ho};function um(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Cl(t){var e,r;t instanceof ut?(e=t._id,t=t._name):(e=mo(),(r=sm).time=cr(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&jt(l,t,e,u,a,r||um(l,e));return new ut(n,this._parents,t,e)}$t.prototype.interrupt=ll;$t.prototype.transition=Cl;var{abs:VI,max:UI,min:KI}=Math;function Nl(t){return[+t[0],+t[1]]}function lm(t){return[Nl(t[0]),Nl(t[1])]}var XI={name:"x",handles:["w","e"].map(Ri),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},GI={name:"y",handles:["n","s"].map(Ri),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},jI={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ri),input:function(t){return t==null?null:lm(t)},output:function(t){return t}};function Ri(t){return{type:t}}var Fi=Math.PI,Hi=2*Fi,ce=1e-6,cm=Hi-ce;function Al(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function fm(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Al;let r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var fe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Al:fm(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,l=n-e,u=o-r,c=a-e,f=s-r,m=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>ce)if(!(Math.abs(f*l-u*c)>ce)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-a,w=o-s,g=l*l+u*u,_=h*h+w*w,y=Math.sqrt(g),v=Math.sqrt(m),T=i*Math.tan((Fi-Math.acos((g+m-_)/(2*y*v)))/2),k=T/v,b=T/y;Math.abs(k-1)>ce&&this._append`L${e+k*c},${r+k*f}`,this._append`A${i},${i},0,0,${+(f*h>c*w)},${this._x1=e+b*l},${this._y1=r+b*u}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(o),l=n*Math.sin(o),u=e+s,c=r+l,f=1^a,m=a?o-i:i-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ce||Math.abs(this._y1-c)>ce)&&this._append`L${u},${c}`,n&&(m<0&&(m=m%Hi+Hi),m>cm?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:m>ce&&this._append`A${n},${n},0,${+(m>=Fi)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function Rl(){return new fe}Rl.prototype=fe.prototype;function Bt(t){return function(){return t}}var Li=Math.abs,ot=Math.atan2,Qt=Math.cos,Fl=Math.max,go=Math.min,Mt=Math.sin,de=Math.sqrt,lt=1e-12,He=Math.PI,pr=He/2,Hl=2*He;function Ll(t){return t>1?0:t<-1?He:Math.acos(t)}function $i(t){return t>=1?pr:t<=-1?-pr:Math.asin(t)}function $l(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new fe(e)}function dm(t){return t.innerRadius}function pm(t){return t.outerRadius}function mm(t){return t.startAngle}function hm(t){return t.endAngle}function gm(t){return t&&t.padAngle}function ym(t,e,r,n,o,i,a,s){var l=r-t,u=n-e,c=a-o,f=s-i,m=f*l-c*u;if(!(m*m<lt))return m=(c*(e-i)-f*(t-o))/m,[t+m*l,e+m*u]}function yo(t,e,r,n,o,i,a){var s=t-r,l=e-n,u=(a?i:-i)/de(s*s+l*l),c=u*l,f=-u*s,m=t+c,h=e+f,w=r+c,g=n+f,_=(m+w)/2,y=(h+g)/2,v=w-m,T=g-h,k=v*v+T*T,b=o-i,R=m*g-w*h,B=(T<0?-1:1)*de(Fl(0,b*b*k-R*R)),z=(R*T-v*B)/k,tt=(-R*v-T*B)/k,G=(R*T+v*B)/k,W=(-R*v+T*B)/k,j=z-_,S=tt-y,$=G-_,Zt=W-y;return j*j+S*S>$*$+Zt*Zt&&(z=G,tt=W),{cx:z,cy:tt,x01:-c,y01:-f,x11:z*(o/b-1),y11:tt*(o/b-1)}}function Yi(){var t=dm,e=pm,r=Bt(0),n=null,o=mm,i=hm,a=gm,s=null,l=$l(u);function u(){var c,f,m=+t.apply(this,arguments),h=+e.apply(this,arguments),w=o.apply(this,arguments)-pr,g=i.apply(this,arguments)-pr,_=Li(g-w),y=g>w;if(s||(s=c=l()),h<m&&(f=h,h=m,m=f),!(h>lt))s.moveTo(0,0);else if(_>Hl-lt)s.moveTo(h*Qt(w),h*Mt(w)),s.arc(0,0,h,w,g,!y),m>lt&&(s.moveTo(m*Qt(g),m*Mt(g)),s.arc(0,0,m,g,w,y));else{var v=w,T=g,k=w,b=g,R=_,B=_,z=a.apply(this,arguments)/2,tt=z>lt&&(n?+n.apply(this,arguments):de(m*m+h*h)),G=go(Li(h-m)/2,+r.apply(this,arguments)),W=G,j=G,S,$;if(tt>lt){var Zt=$i(tt/m*Mt(z)),mr=$i(tt/h*Mt(z));(R-=Zt*2)>lt?(Zt*=y?1:-1,k+=Zt,b-=Zt):(R=0,k=b=(w+g)/2),(B-=mr*2)>lt?(mr*=y?1:-1,v+=mr,T-=mr):(B=0,v=T=(w+g)/2)}var me=h*Qt(v),he=h*Mt(v),hr=m*Qt(b),gr=m*Mt(b);if(G>lt){var yr=h*Qt(T),vr=h*Mt(T),vo=m*Qt(k),_o=m*Mt(k),Nt;if(_<He)if(Nt=ym(me,he,vo,_o,yr,vr,hr,gr)){var xo=me-Nt[0],wo=he-Nt[1],bo=yr-Nt[0],To=vr-Nt[1],Vi=1/Mt(Ll((xo*bo+wo*To)/(de(xo*xo+wo*wo)*de(bo*bo+To*To)))/2),Ui=de(Nt[0]*Nt[0]+Nt[1]*Nt[1]);W=go(G,(m-Ui)/(Vi-1)),j=go(G,(h-Ui)/(Vi+1))}else W=j=0}B>lt?j>lt?(S=yo(vo,_o,me,he,h,j,y),$=yo(yr,vr,hr,gr,h,j,y),s.moveTo(S.cx+S.x01,S.cy+S.y01),j<G?s.arc(S.cx,S.cy,j,ot(S.y01,S.x01),ot($.y01,$.x01),!y):(s.arc(S.cx,S.cy,j,ot(S.y01,S.x01),ot(S.y11,S.x11),!y),s.arc(0,0,h,ot(S.cy+S.y11,S.cx+S.x11),ot($.cy+$.y11,$.cx+$.x11),!y),s.arc($.cx,$.cy,j,ot($.y11,$.x11),ot($.y01,$.x01),!y))):(s.moveTo(me,he),s.arc(0,0,h,v,T,!y)):s.moveTo(me,he),!(m>lt)||!(R>lt)?s.lineTo(hr,gr):W>lt?(S=yo(hr,gr,yr,vr,m,-W,y),$=yo(me,he,vo,_o,m,-W,y),s.lineTo(S.cx+S.x01,S.cy+S.y01),W<G?s.arc(S.cx,S.cy,W,ot(S.y01,S.x01),ot($.y01,$.x01),!y):(s.arc(S.cx,S.cy,W,ot(S.y01,S.x01),ot(S.y11,S.x11),!y),s.arc(0,0,m,ot(S.cy+S.y11,S.cx+S.x11),ot($.cy+$.y11,$.cx+$.x11),y),s.arc($.cx,$.cy,W,ot($.y11,$.x11),ot($.y01,$.x01),!y))):s.arc(0,0,m,b,k,y)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-He/2;return[Qt(f)*c,Mt(f)*c]},u.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),u):t},u.outerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),u):e},u.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Bt(+c),u):r},u.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Bt(+c),u):n},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Bt(+c),u):o},u.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Bt(+c),u):i},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Bt(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}function Jt(t,e,r){this.k=t,this.x=e,this.y=r}Jt.prototype={constructor:Jt,scale:function(t){return t===1?this:new Jt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Jt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bi=new Jt(1,0,0);zi.prototype=Jt.prototype;function zi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Bi;return t.__zoom}var pe={root:"V",firstOfMonth:"X",swatches:"Y",sel1:"Z",selRange:"_",weekLabel:"ee"};function Yl(t){return(t.getDay()+6)%7}function _m(t,e){return Vt(t,e)}var K=40;function Wi(){let t=p.highlightPatterns.value,e=qt(()=>{let g=p.allItemsByDay.value;return g.items[g.sortedDays[0]][0].date}),r=Yl(e.value),n=qt(()=>{let g=p.allItemsByDay.value;return g.sortedDays.map(_=>{let y=g.items[_][0].date,v=_m(e.value,y),T=[],k=new Set;for(let z of g.items[_]){let tt=Fn(z.text);for(let G of tt)G!==null&&!k.has(G)&&(T.push(Qe(G)),k.add(G))}T.length===0&&T.push("white"),T.sort();let b=Yl(y),R=Math.floor((v+(6-r))/7)*K+2,B=K*(6-b)+2+(b<5?8:0);return{date:y,dayNum:b,x:R,y:B,colors:T}})}),o=n.value.map(g=>g.x).reduce((g,_)=>Math.max(g,_)),i=[],a=[],s=bt(e.value,-r),l=bt(n.value[n.value.length-1].date,-7),u=0,c=e.value.getFullYear();for(;s>l;){let g=s.getFullYear();g!==c&&(i.push({text:`${c} | ${g}`,x:u-K}),c=g),a.push({text:rt(s,"LLL d"),x:u,year:g}),u+=K,s=bt(s,-7)}let f=et(),m=p.selectedRange.value;function h(g,_){if(g.stopPropagation(),!f.value)f.value=_;else{let y=[f.value,_].map(v=>Be(v.date)).sort((v,T)=>v.valueOf()-T.valueOf());y[1]=bt(y[1],1),p.selectedRange.value=y,f.value=void 0}}function w(){f.value||(p.selectedRange.value=void 0),f.value=void 0}return d(P,{children:[d("div",{class:pe.swatches,children:[t.map((g,_)=>d("span",{style:{backgroundColor:Qe(_)},children:g.text},_)),"\xA0"]}),d("div",{class:pe.root,onClick:w,children:d("svg",{style:{height:7*K+100,width:o+100},children:[a.map(g=>d("g",{class:pe.weekLabel,transform:`translate(${g.x+K/2+33},${K*7+26}) rotate(-45)`,children:d("text",{"text-anchor":"end",children:g.text})},`${g.text}-${g.year}`)),i.map(g=>d("g",{transform:`translate(${g.x+K/2},${K*7+90})`,children:d("text",{children:g.text})},g.text)),n.value.map((g,_)=>d("g",{transform:`translate(${g.x+K/2+20},${g.y+K/2})`,onClick:y=>h(y,g),children:[d("title",{children:g.date.toString()}),f.value?.date===g.date&&d("rect",{class:pe.sel1,x:-K/2,y:-K/2,width:K,height:K}),m&&g.date>=m[0]&&g.date<=m[1]&&d("rect",{class:pe.selRange,x:-K/2,y:-K/2,width:K,height:K}),g.colors.map((y,v)=>d("path",{d:Yi()({innerRadius:0,outerRadius:K/2-1,startAngle:Math.PI*2/g.colors.length*v,endAngle:Math.PI*2/g.colors.length*(v+1)}),fill:y,stroke:"black","stroke-opacity":"0.2"},v)),g.date.getDate()===1&&d("circle",{r:K/2-2,class:pe.firstOfMonth})]},g.date))]})})]})}function xm(){gapi.auth2.getAuthInstance().signIn()}function wm(){ni()}function bm(){it(()=>{p.showTimeline.value=!p.showTimeline.value,p.showTimeline.value||(p.selectedRange.value=void 0)})}function qi(){let t=p.busy.value>0,e=p.selectedRangeText.value,r=p.showTimeline.value,n=p.googleSignedIn.value;return d("div",{class:xt.root,children:[d(mi,{}),d("div",{class:xt.version,children:["Version ","6408dca9406917b690f0d60cb8485c34bd72b7d2"]}),d("div",{class:xt.sheetLink,children:Dt.map((o,i)=>d(P,{children:[d("a",{href:`https://docs.google.com/spreadsheets/d/${o}/edit`,target:"_blank",children:["Google Sheet ",i+1]}),i+1<Dt.length?" | ":""]}))}),d("div",{class:xt.topBar,children:[d("button",{disabled:t,onClick:xm,children:"Auth"}),d("button",{disabled:t,onClick:wm,children:"Load"}),d("span",{children:n?"Signed in":"Not signed in"}),d("button",{onClick:Ln,title:"reset UI to startup state | key: Esc Esc",children:"Reset"})]}),d("div",{class:xt.controlBar,children:d(gi,{})}),d("div",{class:xt.controlBar,children:d(hi,{})}),d("div",{class:xt.controlBar,children:[d("button",{onClick:bm,children:"Toggle Timeline"}),e&&d("span",{class:xt.selectedRangeText,children:e})]}),d("div",{children:r&&d(Wi,{})}),d(pi,{}),d(_i,{}),d("div",{class:xt.controlBar,children:d(yi,{})}),d(vi,{}),d(di,{})]})}function Bl(){return d("div",{id:"scroll-root",class:la.root,children:[d(qi,{}),d(si,{})]})}"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(t=>console.log("ServiceWorker registered",t)).catch(t=>console.log("ServiceWorker registration failed",t));ua(d(Bl,{}),document.getElementById("App"));Tm();function Tm(){let t=e=>{e.promise.catch(Hn)};return window.addEventListener("error",Hn,!0),window.addEventListener("unhandledrejection",t,!0),()=>{window.removeEventListener("error",Hn,!0),window.removeEventListener("unhandledrejection",t,!0)}}})();
